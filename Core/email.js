(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global,setImmediate){
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 Google as part of the polymer project is also subject to an additional IP
 rights grant found at http://polymer.github.io/PATENTS.txt
*/
'use strict';var w;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function da(){da=function(){};ca.Symbol||(ca.Symbol=fa)}
function ha(a,b){this.a=a;ba(this,"description",{configurable:!0,writable:!0,value:b})}ha.prototype.toString=function(){return this.a};var fa=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
function ia(){da();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(aa(this))}});ia=function(){}}function la(a){ia();a={next:a};a[ca.Symbol.iterator]=function(){return this};return a}function ma(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}
function na(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var oa;if("function"==typeof Object.setPrototypeOf)oa=Object.setPrototypeOf;else{var pa;a:{var qa={Pa:!0},ra={};try{ra.__proto__=qa;pa=ra.Pa;break a}catch(a){}pa=!1}oa=pa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var sa=oa;function wa(){this.l=!1;this.b=null;this.Ea=void 0;this.a=1;this.Y=0;this.c=null}
function ya(a){if(a.l)throw new TypeError("Generator is already running");a.l=!0}wa.prototype.J=function(a){this.Ea=a};function za(a,b){a.c={Sa:b,Wa:!0};a.a=a.Y}wa.prototype.return=function(a){this.c={return:a};this.a=this.Y};function Aa(a,b){a.a=3;return{value:b}}function Ba(a){this.a=new wa;this.b=a}function Ca(a,b){ya(a.a);var c=a.a.b;if(c)return Da(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a.return);a.a.return(b);return Ea(a)}
function Da(a,b,c,d){try{var e=b.call(a.a.b,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.l=!1,e;var f=e.value}catch(g){return a.a.b=null,za(a.a,g),Ea(a)}a.a.b=null;d.call(a.a,f);return Ea(a)}function Ea(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.l=!1,{value:b.value,done:!1}}catch(c){a.a.Ea=void 0,za(a.a,c)}a.a.l=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.Wa)throw b.Sa;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function Fa(a){this.next=function(b){ya(a.a);a.a.b?b=Da(a,a.a.b.next,b,a.a.J):(a.a.J(b),b=Ea(a));return b};this.throw=function(b){ya(a.a);a.a.b?b=Da(a,a.a.b["throw"],b,a.a.J):(za(a.a,b),b=Ea(a));return b};this.return=function(b){return Ca(a,b)};ia();this[Symbol.iterator]=function(){return this}}function Ga(a,b){b=new Fa(new Ba(b));sa&&sa(b,a.prototype);return b}Array.from||(Array.from=function(a){return[].slice.call(a)});
Object.assign||(Object.assign=function(a){for(var b=[].slice.call(arguments,1),c=0,d;c<b.length;c++)if(d=b[c])for(var e=a,f=Object.keys(d),g=0;g<f.length;g++){var h=f[g];e[h]=d[h]}return a});var Ha=document.createEvent("Event");Ha.initEvent("foo",!0,!0);Ha.preventDefault();if(!Ha.defaultPrevented){var Ia=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(Ia.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var Ja=/Trident/.test(navigator.userAgent);
if(!window.Event||Ja&&"function"!==typeof window.Event){var Ka=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");c.initEvent(a,!!b.bubbles,!!b.cancelable);return c};if(Ka){for(var La in Ka)window.Event[La]=Ka[La];window.Event.prototype=Ka.prototype}}
if(!window.CustomEvent||Ja&&"function"!==typeof window.CustomEvent)window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c},window.CustomEvent.prototype=window.Event.prototype;
if(!window.MouseEvent||Ja&&"function"!==typeof window.MouseEvent){var Ma=window.MouseEvent;window.MouseEvent=function(a,b){b=b||{};var c=document.createEvent("MouseEvent");c.initMouseEvent(a,!!b.bubbles,!!b.cancelable,b.view||window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);return c};if(Ma)for(var Na in Ma)window.MouseEvent[Na]=Ma[Na];window.MouseEvent.prototype=Ma.prototype};/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){function a(){}function b(p,r){if(!p.childNodes.length)return[];switch(p.nodeType){case Node.DOCUMENT_NODE:return F.call(p,r);case Node.DOCUMENT_FRAGMENT_NODE:return E.call(p,r);default:return t.call(p,r)}}var c="undefined"===typeof HTMLTemplateElement,d=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),e=!1;/Trident/.test(navigator.userAgent)&&function(){function p(z,R){if(z instanceof DocumentFragment)for(var fb;fb=z.firstChild;)B.call(this,fb,R);else B.call(this,
z,R);return z}e=!0;var r=Node.prototype.cloneNode;Node.prototype.cloneNode=function(z){z=r.call(this,z);this instanceof DocumentFragment&&(z.__proto__=DocumentFragment.prototype);return z};DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll;DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector;Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},
configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var B=Node.prototype.insertBefore;Node.prototype.insertBefore=p;var K=Node.prototype.appendChild;Node.prototype.appendChild=function(z){z instanceof DocumentFragment?p.call(this,z,null):K.call(this,z);return z};var Z=Node.prototype.removeChild,ja=Node.prototype.replaceChild;Node.prototype.replaceChild=function(z,R){z instanceof DocumentFragment?(p.call(this,z,R),Z.call(this,R)):ja.call(this,z,R);return R};Document.prototype.createDocumentFragment=
function(){var z=this.createElement("df");z.__proto__=DocumentFragment.prototype;return z};var ta=Document.prototype.importNode;Document.prototype.importNode=function(z,R){R=ta.call(this,z,R||!1);z instanceof DocumentFragment&&(R.__proto__=DocumentFragment.prototype);return R}}();var f=Node.prototype.cloneNode,g=Document.prototype.createElement,h=Document.prototype.importNode,k=Node.prototype.removeChild,l=Node.prototype.appendChild,m=Node.prototype.replaceChild,q=DOMParser.prototype.parseFromString,
H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(p){this.innerHTML=p}},C=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},t=Element.prototype.querySelectorAll,F=Document.prototype.querySelectorAll,E=DocumentFragment.prototype.querySelectorAll,M=function(){if(!c){var p=document.createElement("template"),r=document.createElement("template");r.content.appendChild(document.createElement("div"));
p.content.appendChild(r);p=p.cloneNode(!0);return 0===p.content.childNodes.length||0===p.content.firstChild.content.childNodes.length||d}}();if(c){var y=document.implementation.createHTMLDocument("template"),W=!0,v=document.createElement("style");v.textContent="template{display:none;}";var ua=document.head;ua.insertBefore(v,ua.firstElementChild);a.prototype=Object.create(HTMLElement.prototype);var ea=!document.createElement("div").hasOwnProperty("innerHTML");a.U=function(p){if(!p.content&&p.namespaceURI===
document.documentElement.namespaceURI){p.content=y.createDocumentFragment();for(var r;r=p.firstChild;)l.call(p.content,r);if(ea)p.__proto__=a.prototype;else if(p.cloneNode=function(B){return a.b(this,B)},W)try{n(p),I(p)}catch(B){W=!1}a.a(p.content)}};var va={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},n=function(p){Object.defineProperty(p,"innerHTML",{get:function(){return xa(this)},set:function(r){var B=va[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(r)||
["",""])[1].toLowerCase()];if(B)for(var K=0;K<B.length;K++)r="<"+B[K]+">"+r+"</"+B[K]+">";y.body.innerHTML=r;for(a.a(y);this.content.firstChild;)k.call(this.content,this.content.firstChild);r=y.body;if(B)for(K=0;K<B.length;K++)r=r.lastChild;for(;r.firstChild;)l.call(this.content,r.firstChild)},configurable:!0})},I=function(p){Object.defineProperty(p,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(r){if(this.parentNode){y.body.innerHTML=r;for(r=this.ownerDocument.createDocumentFragment();y.body.firstChild;)l.call(r,
y.body.firstChild);m.call(this.parentNode,r,this)}else throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");},configurable:!0})};n(a.prototype);I(a.prototype);a.a=function(p){p=b(p,"template");for(var r=0,B=p.length,K;r<B&&(K=p[r]);r++)a.U(K)};document.addEventListener("DOMContentLoaded",function(){a.a(document)});Document.prototype.createElement=function(){var p=g.apply(this,arguments);"template"===p.localName&&a.U(p);return p};DOMParser.prototype.parseFromString=
function(){var p=q.apply(this,arguments);a.a(p);return p};Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return xa(this)},set:function(p){H.set.call(this,p);a.a(this)},configurable:!0,enumerable:!0});var ka=/[&\u00A0"]/g,bc=/[&\u00A0<>]/g,gb=function(p){switch(p){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}};v=function(p){for(var r={},B=0;B<p.length;B++)r[p[B]]=!0;return r};var Sa=v("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),
hb=v("style script xmp iframe noembed noframes plaintext noscript".split(" ")),xa=function(p,r){"template"===p.localName&&(p=p.content);for(var B="",K=r?r(p):C.get.call(p),Z=0,ja=K.length,ta;Z<ja&&(ta=K[Z]);Z++){a:{var z=ta;var R=p;var fb=r;switch(z.nodeType){case Node.ELEMENT_NODE:for(var cc=z.localName,ib="<"+cc,rg=z.attributes,Bd=0;R=rg[Bd];Bd++)ib+=" "+R.name+'="'+R.value.replace(ka,gb)+'"';ib+=">";z=Sa[cc]?ib:ib+xa(z,fb)+"</"+cc+">";break a;case Node.TEXT_NODE:z=z.data;z=R&&hb[R.localName]?z:
z.replace(bc,gb);break a;case Node.COMMENT_NODE:z="\x3c!--"+z.data+"--\x3e";break a;default:throw window.console.error(z),Error("not implemented");}}B+=z}return B}}if(c||M){a.b=function(p,r){var B=f.call(p,!1);this.U&&this.U(B);r&&(l.call(B.content,f.call(p.content,!0)),J(B.content,p.content));return B};var J=function(p,r){if(r.querySelectorAll&&(r=b(r,"template"),0!==r.length)){p=b(p,"template");for(var B=0,K=p.length,Z,ja;B<K;B++)ja=r[B],Z=p[B],a&&a.U&&a.U(ja),m.call(Z.parentNode,u.call(ja,!0),
Z)}},u=Node.prototype.cloneNode=function(p){if(!e&&d&&this instanceof DocumentFragment)if(p)var r=G.call(this.ownerDocument,this,!0);else return this.ownerDocument.createDocumentFragment();else this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?r=a.b(this,p):r=f.call(this,p);p&&J(r,this);return r},G=Document.prototype.importNode=function(p,r){r=r||!1;if("template"===p.localName)return a.b(p,r);var B=h.call(this,p,r);if(r){J(B,p);
p=b(B,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var K,Z=0;Z<p.length;Z++){K=p[Z];r=g.call(document,"script");r.textContent=K.textContent;for(var ja=K.attributes,ta=0,z;ta<ja.length;ta++)z=ja[ta],r.setAttribute(z.name,z.value);m.call(K.parentNode,r,K)}}return B}}c&&(window.HTMLTemplateElement=a)})();var Oa=setTimeout;function Pa(){}function Qa(a,b){return function(){a.apply(b,arguments)}}function x(a){if(!(this instanceof x))throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this.I=0;this.za=!1;this.C=void 0;this.W=[];Ra(a,this)}
function Ta(a,b){for(;3===a.I;)a=a.C;0===a.I?a.W.push(b):(a.za=!0,Ua(function(){var c=1===a.I?b.Ya:b.Za;if(null===c)(1===a.I?Va:Wa)(b.va,a.C);else{try{var d=c(a.C)}catch(e){Wa(b.va,e);return}Va(b.va,d)}}))}function Va(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||"function"===typeof b)){var c=b.then;if(b instanceof x){a.I=3;a.C=b;Xa(a);return}if("function"===typeof c){Ra(Qa(c,b),a);return}}a.I=1;a.C=b;Xa(a)}catch(d){Wa(a,d)}}
function Wa(a,b){a.I=2;a.C=b;Xa(a)}function Xa(a){2===a.I&&0===a.W.length&&Ua(function(){a.za||"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a.C)});for(var b=0,c=a.W.length;b<c;b++)Ta(a,a.W[b]);a.W=null}function Ya(a,b,c){this.Ya="function"===typeof a?a:null;this.Za="function"===typeof b?b:null;this.va=c}function Ra(a,b){var c=!1;try{a(function(d){c||(c=!0,Va(b,d))},function(d){c||(c=!0,Wa(b,d))})}catch(d){c||(c=!0,Wa(b,d))}}
x.prototype["catch"]=function(a){return this.then(null,a)};x.prototype.then=function(a,b){var c=new this.constructor(Pa);Ta(this,new Ya(a,b,c));return c};x.prototype["finally"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})};
function Za(a){return new x(function(b,c){function d(h,k){try{if(k&&("object"===typeof k||"function"===typeof k)){var l=k.then;if("function"===typeof l){l.call(k,function(m){d(h,m)},c);return}}e[h]=k;0===--f&&b(e)}catch(m){c(m)}}if(!a||"undefined"===typeof a.length)return c(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})}
function $a(a){return a&&"object"===typeof a&&a.constructor===x?a:new x(function(b){b(a)})}function ab(a){return new x(function(b,c){c(a)})}function bb(a){return new x(function(b,c){if(!a||"undefined"===typeof a.length)return c(new TypeError("Promise.race accepts an array"));for(var d=0,e=a.length;d<e;d++)$a(a[d]).then(b,c)})}var Ua="function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){Oa(a,0)};/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
if(!window.Promise){window.Promise=x;x.prototype.then=x.prototype.then;x.all=Za;x.race=bb;x.resolve=$a;x.reject=ab;var cb=document.createTextNode(""),db=[];(new MutationObserver(function(){for(var a=db.length,b=0;b<a;b++)db[b]();db.splice(0,a)})).observe(cb,{characterData:!0});Ua=function(a){db.push(a);cb.textContent=0<cb.textContent.length?"":"a"}};/*
 Copyright (C) 2015 by WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function(a,b){if(!(b in a)){var c=typeof global===typeof c?window:global,d=0,e=""+Math.random(),f="__\u0001symbol@@"+e,g=a.getOwnPropertyNames,h=a.getOwnPropertyDescriptor,k=a.create,l=a.keys,m=a.freeze||a,q=a.defineProperty,H=a.defineProperties,C=h(a,"getOwnPropertyNames"),t=a.prototype,F=t.hasOwnProperty,E=t.propertyIsEnumerable,M=t.toString,y=function(J,u,G){F.call(J,f)||q(J,f,{enumerable:!1,configurable:!1,writable:!1,value:{}});J[f]["@@"+u]=G},W=function(J,u){var G=k(J);g(u).forEach(function(p){va.call(u,
p)&&Sa(G,p,u[p])});return G},v=function(){},ua=function(J){return J!=f&&!F.call(ka,J)},ea=function(J){return J!=f&&F.call(ka,J)},va=function(J){var u=""+J;return ea(u)?F.call(this,u)&&this[f]["@@"+u]:E.call(this,J)},n=function(J){q(t,J,{enumerable:!1,configurable:!0,get:v,set:function(u){xa(this,J,{enumerable:!1,configurable:!0,writable:!0,value:u});y(this,J,!0)}});return m(ka[J]=q(a(J),"constructor",bc))},I=function G(u){if(this instanceof G)throw new TypeError("Symbol is not a constructor");return n("__\u0001symbol:".concat(u||
"",e,++d))},ka=k(null),bc={value:I},gb=function(u){return ka[u]},Sa=function(u,G,p){var r=""+G;if(ea(r)){G=xa;if(p.enumerable){var B=k(p);B.enumerable=!1}else B=p;G(u,r,B);y(u,r,!!p.enumerable)}else q(u,G,p);return u},hb=function(u){return g(u).filter(ea).map(gb)};C.value=Sa;q(a,"defineProperty",C);C.value=hb;q(a,b,C);C.value=function(u){return g(u).filter(ua)};q(a,"getOwnPropertyNames",C);C.value=function(u,G){var p=hb(G);p.length?l(G).concat(p).forEach(function(r){va.call(G,r)&&Sa(u,r,G[r])}):H(u,
G);return u};q(a,"defineProperties",C);C.value=va;q(t,"propertyIsEnumerable",C);C.value=I;q(c,"Symbol",C);C.value=function(u){u="__\u0001symbol:".concat("__\u0001symbol:",u,e);return u in t?ka[u]:n(u)};q(I,"for",C);C.value=function(u){if(ua(u))throw new TypeError(u+" is not a symbol");if(F.call(ka,u)&&(u=u.slice(10),"__\u0001symbol:"===u.slice(0,10)&&(u=u.slice(10),u!==e)))return u=u.slice(0,u.length-e.length),0<u.length?u:void 0};q(I,"keyFor",C);C.value=function(u,G){var p=h(u,G);p&&ea(G)&&(p.enumerable=
va.call(u,G));return p};q(a,"getOwnPropertyDescriptor",C);C.value=function(u,G){return 1===arguments.length||"undefined"===typeof G?k(u):W(u,G)};q(a,"create",C);C.value=function(){var u=M.call(this);return"[object String]"===u&&ea(this)?"[object Symbol]":u};q(t,"toString",C);try{if(!0===k(q({},"__\u0001symbol:",{get:function(){return q(this,"__\u0001symbol:",{value:!0})["__\u0001symbol:"]}}))["__\u0001symbol:"])var xa=q;else throw"IE11";}catch(u){xa=function(G,p,r){var B=h(t,p);delete t[p];q(G,p,
r);q(t,p,B)}}}})(Object,"getOwnPropertySymbols");
(function(a,b){var c=a.defineProperty,d=a.prototype,e=d.toString,f;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach(function(g){if(!(g in b))switch(c(b,g,{value:b(g)}),g){case "toStringTag":f=a.getOwnPropertyDescriptor(d,"toString"),f.value=function(){var h=e.call(this),k=null!=this?this[b.toStringTag]:this;return null==k?h:"[object "+k+"]"},c(d,"toString",f)}})})(Object,Symbol);
(function(a,b,c){function d(){return this}b[a]||(b[a]=function(){var e=0,f=this,g={next:function(){var h=f.length<=e;return h?{done:h}:{done:h,value:f[e++]}}};g[a]=d;return g});c[a]||(c[a]=function(){var e=String.fromCodePoint,f=this,g=0,h=f.length,k={next:function(){var l=h<=g,m=l?"":e(f.codePointAt(g));g+=m.length;return l?{done:l}:{done:l,value:m}}};k[a]=d;return k})})(Symbol.iterator,Array.prototype,String.prototype);/*

Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var eb=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":eb.call(this)};Object.keys=function(a){return Object.getOwnPropertyNames(a).filter(function(b){return(b=Object.getOwnPropertyDescriptor(a,b))&&b.enumerable})};da();ia();
String.prototype[Symbol.iterator]&&String.prototype.codePointAt||(da(),ia(),String.prototype[Symbol.iterator]=function b(){var c,d=this;return Ga(b,function(e){1==e.a&&(c=0);if(3!=e.a)return c<d.length?e=Aa(e,d[c]):(e.a=0,e=void 0),e;c++;e.a=2})});da();ia();
Set.prototype[Symbol.iterator]||(da(),ia(),Set.prototype[Symbol.iterator]=function b(){var c,d=this,e;return Ga(b,function(f){1==f.a&&(c=[],d.forEach(function(g){c.push(g)}),e=0);if(3!=f.a)return e<c.length?f=Aa(f,c[e]):(f.a=0,f=void 0),f;e++;f.a=2})});da();ia();
Map.prototype[Symbol.iterator]||(da(),ia(),Map.prototype[Symbol.iterator]=function b(){var c,d=this,e;return Ga(b,function(f){1==f.a&&(c=[],d.forEach(function(g,h){c.push([h,g])}),e=0);if(3!=f.a)return e<c.length?f=Aa(f,c[e]):(f.a=0,f=void 0),f;e++;f.a=2})});/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 Google as part of the polymer project is also subject to an additional IP
 rights grant found at http://polymer.github.io/PATENTS.txt
*/
var jb=window;jb.WebComponents=jb.WebComponents||{flags:{}};var kb=document.querySelector('script[src*="webcomponents-bundle"]'),lb=/wc-(.+)/,mb={};if(!mb.noOpts){location.search.slice(1).split("&").forEach(function(a){a=a.split("=");var b;a[0]&&(b=a[0].match(lb))&&(mb[b[1]]=a[1]||!0)});if(kb)for(var nb=0,ob=void 0;ob=kb.attributes[nb];nb++)"src"!==ob.name&&(mb[ob.name]=ob.value||!0);var pb={};mb.log&&mb.log.split&&mb.log.split(",").forEach(function(a){pb[a]=!0});mb.log=pb}
jb.WebComponents.flags=mb;var qb=mb.shadydom;if(qb){jb.ShadyDOM=jb.ShadyDOM||{};jb.ShadyDOM.force=qb;var rb=mb.noPatch;jb.ShadyDOM.noPatch="true"===rb?!0:rb}var sb=mb.register||mb.ce;sb&&window.customElements&&(jb.customElements.forcePolyfill=sb);/*

Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function tb(){}tb.prototype.toJSON=function(){return{}};function A(a){a.__shady||(a.__shady=new tb);return a.__shady}function D(a){return a&&a.__shady};var L=window.ShadyDOM||{};L.Ua=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var ub=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");L.B=!!(ub&&ub.configurable&&ub.get);L.sa=L.force||!L.Ua;L.D=L.noPatch||!1;L.aa=L.preferPerformance;L.ua="on-demand"===L.D;L.Ia=navigator.userAgent.match("Trident");function vb(a){return(a=D(a))&&void 0!==a.firstChild}function N(a){return a instanceof ShadowRoot}function wb(a){return(a=(a=D(a))&&a.root)&&xb(a)}
var yb=Element.prototype,zb=yb.matches||yb.matchesSelector||yb.mozMatchesSelector||yb.msMatchesSelector||yb.oMatchesSelector||yb.webkitMatchesSelector,Ab=document.createTextNode(""),Bb=0,Cb=[];(new MutationObserver(function(){for(;Cb.length;)try{Cb.shift()()}catch(a){throw Ab.textContent=Bb++,a;}})).observe(Ab,{characterData:!0});function Db(a){Cb.push(a);Ab.textContent=Bb++}
var Eb=document.contains?function(a,b){return a.__shady_native_contains(b)}:function(a,b){return a===b||a.documentElement&&a.documentElement.__shady_native_contains(b)};function Fb(a,b){for(;b;){if(b==a)return!0;b=b.__shady_parentNode}return!1}
function Gb(a){for(var b=a.length-1;0<=b;b--){var c=a[b],d=c.getAttribute("id")||c.getAttribute("name");d&&"length"!==d&&isNaN(d)&&(a[d]=c)}a.item=function(e){return a[e]};a.namedItem=function(e){if("length"!==e&&isNaN(e)&&a[e])return a[e];for(var f=ma(a),g=f.next();!g.done;g=f.next())if(g=g.value,(g.getAttribute("id")||g.getAttribute("name"))==e)return g;return null};return a}function Hb(a){var b=[];for(a=a.__shady_native_firstChild;a;a=a.__shady_native_nextSibling)b.push(a);return b}
function Ib(a){var b=[];for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)b.push(a);return b}function Jb(a,b,c){c.configurable=!0;if(c.value)a[b]=c.value;else try{Object.defineProperty(a,b,c)}catch(d){}}function O(a,b,c,d){c=void 0===c?"":c;for(var e in b)d&&0<=d.indexOf(e)||Jb(a,c+e,b[e])}function Kb(a,b){for(var c in b)c in a&&Jb(a,c,b[c])}function P(a){var b={};Object.getOwnPropertyNames(a).forEach(function(c){b[c]=Object.getOwnPropertyDescriptor(a,c)});return b}
function Lb(a,b){for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length;d++)e=c[d],a[e]=b[e]};var Mb=[],Nb;function Ob(a){Nb||(Nb=!0,Db(Pb));Mb.push(a)}function Pb(){Nb=!1;for(var a=!!Mb.length;Mb.length;)Mb.shift()();return a}Pb.list=Mb;function Qb(){this.a=!1;this.addedNodes=[];this.removedNodes=[];this.ja=new Set}function Rb(a){a.a||(a.a=!0,Db(function(){a.flush()}))}Qb.prototype.flush=function(){if(this.a){this.a=!1;var a=this.takeRecords();a.length&&this.ja.forEach(function(b){b(a)})}};Qb.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var a=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];this.addedNodes=[];this.removedNodes=[];return a}return[]};
function Sb(a,b){var c=A(a);c.Z||(c.Z=new Qb);c.Z.ja.add(b);var d=c.Z;return{Ma:b,S:d,Na:a,takeRecords:function(){return d.takeRecords()}}}function Tb(a){var b=a&&a.S;b&&(b.ja.delete(a.Ma),b.ja.size||(A(a.Na).Z=null))}
function Ub(a,b){var c=b.getRootNode();return a.map(function(d){var e=c===d.target.getRootNode();if(e&&d.addedNodes){if(e=[].slice.call(d.addedNodes).filter(function(f){return c===f.getRootNode()}),e.length)return d=Object.create(d),Object.defineProperty(d,"addedNodes",{value:e,configurable:!0}),d}else if(e)return d}).filter(function(d){return d})};var Vb=/[&\u00A0"]/g,Wb=/[&\u00A0<>]/g;function Xb(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function Yb(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}var Zb=Yb("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),$b=Yb("style script xmp iframe noembed noframes plaintext noscript".split(" "));
function ac(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):a.childNodes,e=0,f=d.length,g=void 0;e<f&&(g=d[e]);e++){a:{var h=g;var k=a,l=b;switch(h.nodeType){case Node.ELEMENT_NODE:k=h.localName;for(var m="<"+k,q=h.attributes,H=0,C;C=q[H];H++)m+=" "+C.name+'="'+C.value.replace(Vb,Xb)+'"';m+=">";h=Zb[k]?m:m+ac(h,l)+"</"+k+">";break a;case Node.TEXT_NODE:h=h.data;h=k&&$b[k.localName]?h:h.replace(Wb,Xb);break a;case Node.COMMENT_NODE:h="\x3c!--"+h.data+"--\x3e";break a;default:throw window.console.error(h),
Error("not implemented");}}c+=h}return c};var dc=L.B,ec={querySelector:function(a){return this.__shady_native_querySelector(a)},querySelectorAll:function(a){return this.__shady_native_querySelectorAll(a)}},fc={};function gc(a){fc[a]=function(b){return b["__shady_native_"+a]}}function hc(a,b){O(a,b,"__shady_native_");for(var c in b)gc(c)}function Q(a,b){b=void 0===b?[]:b;for(var c=0;c<b.length;c++){var d=b[c],e=Object.getOwnPropertyDescriptor(a,d);e&&(Object.defineProperty(a,"__shady_native_"+d,e),e.value?ec[d]||(ec[d]=e.value):gc(d))}}
var ic=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),jc=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),kc=document.implementation.createHTMLDocument("inert");function lc(a){for(var b;b=a.__shady_native_firstChild;)a.__shady_native_removeChild(b)}var mc=["firstElementChild","lastElementChild","children","childElementCount"],nc=["querySelector","querySelectorAll"];
function oc(){var a=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?Q(window.EventTarget.prototype,a):(Q(Node.prototype,a),Q(Window.prototype,a));dc?Q(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):hc(Node.prototype,{parentNode:{get:function(){ic.currentNode=this;return ic.parentNode()}},firstChild:{get:function(){ic.currentNode=this;return ic.firstChild()}},lastChild:{get:function(){ic.currentNode=
this;return ic.lastChild()}},previousSibling:{get:function(){ic.currentNode=this;return ic.previousSibling()}},nextSibling:{get:function(){ic.currentNode=this;return ic.nextSibling()}},childNodes:{get:function(){var b=[];ic.currentNode=this;for(var c=ic.firstChild();c;)b.push(c),c=ic.nextSibling();return b}},parentElement:{get:function(){jc.currentNode=this;return jc.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var b=
document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),c="",d;d=b.nextNode();)c+=d.nodeValue;return c;default:return this.nodeValue}},set:function(b){if("undefined"===typeof b||null===b)b="";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:lc(this);(0<b.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(b),void 0);break;default:this.nodeValue=b}}}});Q(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" "));
Q(HTMLElement.prototype,["parentElement","contains"]);a={firstElementChild:{get:function(){jc.currentNode=this;return jc.firstChild()}},lastElementChild:{get:function(){jc.currentNode=this;return jc.lastChild()}},children:{get:function(){var b=[];jc.currentNode=this;for(var c=jc.firstChild();c;)b.push(c),c=jc.nextSibling();return Gb(b)}},childElementCount:{get:function(){return this.children?this.children.length:0}}};dc?(Q(Element.prototype,mc),Q(Element.prototype,["previousElementSibling","nextElementSibling",
"innerHTML","className"]),Q(HTMLElement.prototype,["children","innerHTML","className"])):(hc(Element.prototype,a),hc(Element.prototype,{previousElementSibling:{get:function(){jc.currentNode=this;return jc.previousSibling()}},nextElementSibling:{get:function(){jc.currentNode=this;return jc.nextSibling()}},innerHTML:{get:function(){return ac(this,Hb)},set:function(b){var c="template"===this.localName?this.content:this;lc(c);var d=this.localName||"div";d=this.namespaceURI&&this.namespaceURI!==kc.namespaceURI?
kc.createElementNS(this.namespaceURI,d):kc.createElement(d);d.innerHTML=b;for(b="template"===this.localName?d.content:d;d=b.__shady_native_firstChild;)c.__shady_native_insertBefore(d,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(b){this.setAttribute("class",b)}}}));Q(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" "));Q(Element.prototype,nc);Q(HTMLElement.prototype,["focus","blur"]);window.HTMLTemplateElement&&
Q(window.HTMLTemplateElement.prototype,["innerHTML"]);dc?Q(DocumentFragment.prototype,mc):hc(DocumentFragment.prototype,a);Q(DocumentFragment.prototype,nc);dc?(Q(Document.prototype,mc),Q(Document.prototype,["activeElement"])):hc(Document.prototype,a);Q(Document.prototype,["importNode","getElementById"]);Q(Document.prototype,nc)};var pc=P({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),qc=P({get textContent(){return this.__shady_textContent},set textContent(a){this.__shady_textContent=
a},get innerHTML(){return this.__shady_innerHTML},set innerHTML(a){return this.__shady_innerHTML=a}}),rc=P({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},
set className(a){return this.__shady_className=a}});function sc(a){for(var b in a){var c=a[b];c&&(c.enumerable=!1)}}sc(pc);sc(qc);sc(rc);var tc=L.B||!0===L.D,uc=tc?function(){}:function(a){var b=A(a);b.Ka||(b.Ka=!0,Kb(a,rc))},vc=tc?function(){}:function(a){var b=A(a);b.Ja||(b.Ja=!0,Kb(a,pc),window.customElements&&window.customElements.polyfillWrapFlushCallback&&!L.D||Kb(a,qc))};var wc="__eventWrappers"+Date.now(),xc=function(){var a=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return a?function(b){return a.get.call(b)}:null}(),yc=function(){function a(){}var b=!1,c={get capture(){b=!0;return!1}};window.addEventListener("test",a,c);window.removeEventListener("test",a,c);return b}();function zc(a){if(a&&"object"===typeof a){var b=!!a.capture;var c=!!a.once;var d=!!a.passive;var e=a.O}else b=!!a,d=c=!1;return{Ga:e,capture:b,once:c,passive:d,Fa:yc?a:b}}
var Ac={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,
drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},Bc={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Cc(a){return a instanceof Node?a.__shady_getRootNode():a}
function Dc(a,b){var c=[],d=a;for(a=Cc(a);d;)c.push(d),d.__shady_assignedSlot?d=d.__shady_assignedSlot:d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host&&(b||d!==a)?d=d.host:d=d.__shady_parentNode;c[c.length-1]===document&&c.push(window);return c}function Ec(a){a.__composedPath||(a.__composedPath=Dc(a.target,!0));return a.__composedPath}function Fc(a,b){if(!N)return a;a=Dc(a,!0);for(var c=0,d,e=void 0,f,g=void 0;c<b.length;c++)if(d=b[c],f=Cc(d),f!==e&&(g=a.indexOf(f),e=f),!N(f)||-1<g)return d}
function Gc(a){function b(c,d){c=new a(c,d);c.__composed=d&&!!d.composed;return c}b.__proto__=a;b.prototype=a.prototype;return b}var Hc={focus:!0,blur:!0};function Ic(a){return a.__target!==a.target||a.__relatedTarget!==a.relatedTarget}function Jc(a,b,c){if(c=b.__handlers&&b.__handlers[a.type]&&b.__handlers[a.type][c])for(var d=0,e;(e=c[d])&&(!Ic(a)||a.target!==a.relatedTarget)&&(e.call(b,a),!a.__immediatePropagationStopped);d++);}
function Kc(a){var b=a.composedPath(),c=b.map(function(k){return Fc(k,b)}),d=a.bubbles;Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:function(){return g}});var e=Event.CAPTURING_PHASE;Object.defineProperty(a,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return e}});for(var f=b.length-1;0<=f;f--){var g=b[f];e=g===c[f]?Event.AT_TARGET:Event.CAPTURING_PHASE;Jc(a,g,"capture");if(a.ma)return}for(f=0;f<b.length;f++){g=b[f];var h=g===c[f];if(h||d)if(e=h?Event.AT_TARGET:
Event.BUBBLING_PHASE,Jc(a,g,"bubble"),a.ma)return}e=0;g=null}function Lc(a,b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g],k=h.type,l=h.capture,m=h.once,q=h.passive;if(b===h.node&&c===k&&d===l&&e===m&&f===q)return g}return-1}function Mc(a){Pb();return!L.aa&&this instanceof Node&&!Eb(document,this)?(a.__target||Nc(a,this),Kc(a)):this.__shady_native_dispatchEvent(a)}
function Oc(a,b,c){var d=zc(c),e=d.capture,f=d.once,g=d.passive,h=d.Ga;d=d.Fa;if(b){var k=typeof b;if("function"===k||"object"===k)if("object"!==k||b.handleEvent&&"function"===typeof b.handleEvent){if(Bc[a])return this.__shady_native_addEventListener(a,b,d);var l=h||this;if(h=b[wc]){if(-1<Lc(h,l,a,e,f,g))return}else b[wc]=[];h=function(m){f&&this.__shady_removeEventListener(a,b,c);m.__target||Nc(m);if(l!==this){var q=Object.getOwnPropertyDescriptor(m,"currentTarget");Object.defineProperty(m,"currentTarget",
{get:function(){return l},configurable:!0});var H=Object.getOwnPropertyDescriptor(m,"eventPhase");Object.defineProperty(m,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return e?Event.CAPTURING_PHASE:Event.BUBBLING_PHASE}})}m.__previousCurrentTarget=m.currentTarget;if(!N(l)&&"slot"!==l.localName||-1!=m.composedPath().indexOf(l))if(m.composed||-1<m.composedPath().indexOf(l))if(Ic(m)&&m.target===m.relatedTarget)m.eventPhase===Event.BUBBLING_PHASE&&m.stopImmediatePropagation();else if(m.eventPhase===
Event.CAPTURING_PHASE||m.bubbles||m.target===l||l instanceof Window){var C="function"===k?b.call(l,m):b.handleEvent&&b.handleEvent(m);l!==this&&(q?(Object.defineProperty(m,"currentTarget",q),q=null):delete m.currentTarget,H?(Object.defineProperty(m,"eventPhase",H),H=null):delete m.eventPhase);return C}};b[wc].push({node:l,type:a,capture:e,once:f,passive:g,lb:h});this.__handlers=this.__handlers||{};this.__handlers[a]=this.__handlers[a]||{capture:[],bubble:[]};this.__handlers[a][e?"capture":"bubble"].push(h);
Hc[a]||this.__shady_native_addEventListener(a,h,d)}}}
function Pc(a,b,c){if(b){var d=zc(c);c=d.capture;var e=d.once,f=d.passive,g=d.Ga;d=d.Fa;if(Bc[a])return this.__shady_native_removeEventListener(a,b,d);var h=g||this;g=void 0;var k=null;try{k=b[wc]}catch(l){}k&&(e=Lc(k,h,a,c,e,f),-1<e&&(g=k.splice(e,1)[0].lb,k.length||(b[wc]=void 0)));this.__shady_native_removeEventListener(a,g||b,d);g&&this.__handlers&&this.__handlers[a]&&(a=this.__handlers[a][c?"capture":"bubble"],b=a.indexOf(g),-1<b&&a.splice(b,1))}}
function Qc(){for(var a in Hc)window.__shady_native_addEventListener(a,function(b){b.__target||(Nc(b),Kc(b))},!0)}
var Rc=P({get composed(){void 0===this.__composed&&(xc?this.__composed="focusin"===this.type||"focusout"===this.type||xc(this):!1!==this.isTrusted&&(this.__composed=Ac[this.type]));return this.__composed||!1},composedPath:function(){this.__composedPath||(this.__composedPath=Dc(this.__target,this.composed));return this.__composedPath},get target(){return Fc(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){if(!this.__relatedTarget)return null;this.__relatedTargetComposedPath||
(this.__relatedTargetComposedPath=Dc(this.__relatedTarget,!0));return Fc(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)},stopPropagation:function(){Event.prototype.stopPropagation.call(this);this.ma=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this);this.ma=this.__immediatePropagationStopped=!0}});
function Nc(a,b){b=void 0===b?a.target:b;a.__target=b;a.__relatedTarget=a.relatedTarget;if(L.B){b=Object.getPrototypeOf(a);if(!b.hasOwnProperty("__shady_patchedProto")){var c=Object.create(b);c.__shady_sourceProto=b;O(c,Rc);b.__shady_patchedProto=c}a.__proto__=b.__shady_patchedProto}else O(a,Rc)}var Sc=Gc(Event),Tc=Gc(CustomEvent),Uc=Gc(MouseEvent);
function Vc(){if(!xc&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var a=function(){var b=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(b)};Element.prototype.click?Element.prototype.click=a:HTMLElement.prototype.click&&(HTMLElement.prototype.click=a)}}
var Wc=Object.getOwnPropertyNames(Element.prototype).filter(function(a){return"on"===a.substring(0,2)}),Xc=Object.getOwnPropertyNames(HTMLElement.prototype).filter(function(a){return"on"===a.substring(0,2)});function Yc(a){return{set:function(b){var c=A(this),d=a.substring(2);c.N||(c.N={});c.N[a]&&this.removeEventListener(d,c.N[a]);this.__shady_addEventListener(d,b);c.N[a]=b},get:function(){var b=D(this);return b&&b.N&&b.N[a]},configurable:!0}};function Zc(a,b){return{index:a,ba:[],ia:b}}
function $c(a,b,c,d){var e=0,f=0,g=0,h=0,k=Math.min(b-e,d-f);if(0==e&&0==f)a:{for(g=0;g<k;g++)if(a[g]!==c[g])break a;g=k}if(b==a.length&&d==c.length){h=a.length;for(var l=c.length,m=0;m<k-g&&ad(a[--h],c[--l]);)m++;h=m}e+=g;f+=g;b-=h;d-=h;if(0==b-e&&0==d-f)return[];if(e==b){for(b=Zc(e,0);f<d;)b.ba.push(c[f++]);return[b]}if(f==d)return[Zc(e,b-e)];k=e;g=f;d=d-g+1;h=b-k+1;b=Array(d);for(l=0;l<d;l++)b[l]=Array(h),b[l][0]=l;for(l=0;l<h;l++)b[0][l]=l;for(l=1;l<d;l++)for(m=1;m<h;m++)if(a[k+m-1]===c[g+l-1])b[l][m]=
b[l-1][m-1];else{var q=b[l-1][m]+1,H=b[l][m-1]+1;b[l][m]=q<H?q:H}k=b.length-1;g=b[0].length-1;d=b[k][g];for(a=[];0<k||0<g;)0==k?(a.push(2),g--):0==g?(a.push(3),k--):(h=b[k-1][g-1],l=b[k-1][g],m=b[k][g-1],q=l<m?l<h?l:h:m<h?m:h,q==h?(h==d?a.push(0):(a.push(1),d=h),k--,g--):q==l?(a.push(3),k--,d=l):(a.push(2),g--,d=m));a.reverse();b=void 0;k=[];for(g=0;g<a.length;g++)switch(a[g]){case 0:b&&(k.push(b),b=void 0);e++;f++;break;case 1:b||(b=Zc(e,0));b.ia++;e++;b.ba.push(c[f]);f++;break;case 2:b||(b=Zc(e,
0));b.ia++;e++;break;case 3:b||(b=Zc(e,0)),b.ba.push(c[f]),f++}b&&k.push(b);return k}function ad(a,b){return a===b};var bd=P({dispatchEvent:Mc,addEventListener:Oc,removeEventListener:Pc});var cd=null;function dd(){cd||(cd=window.ShadyCSS&&window.ShadyCSS.ScopingShim);return cd||null}function ed(a,b,c){var d=dd();return d&&"class"===b?(d.setElementClass(a,c),!0):!1}function fd(a,b){var c=dd();c&&c.unscopeNode(a,b)}function gd(a,b){var c=dd();if(!c)return!0;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){c=!0;for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)c=c&&gd(a,b);return c}return a.nodeType!==Node.ELEMENT_NODE?!0:c.currentScopeForNode(a)===b}
function hd(a){if(a.nodeType!==Node.ELEMENT_NODE)return"";var b=dd();return b?b.currentScopeForNode(a):""}function id(a,b){if(a)for(a.nodeType===Node.ELEMENT_NODE&&b(a),a=a.__shady_firstChild;a;a=a.__shady_nextSibling)a.nodeType===Node.ELEMENT_NODE&&id(a,b)};var jd=window.document,kd=L.aa,ld=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),md=ld&&ld.get;function nd(a){for(var b;b=a.__shady_firstChild;)a.__shady_removeChild(b)}function od(a){var b=D(a);if(b&&void 0!==b.la)for(b=a.__shady_firstChild;b;b=b.__shady_nextSibling)od(b);if(a=D(a))a.la=void 0}function pd(a){var b=a;if(a&&"slot"===a.localName){var c=D(a);(c=c&&c.V)&&(b=c.length?c[0]:pd(a.__shady_nextSibling))}return b}
function qd(a,b,c){if(a=(a=D(a))&&a.Z){if(b)if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var d=0,e=b.childNodes.length;d<e;d++)a.addedNodes.push(b.childNodes[d]);else a.addedNodes.push(b);c&&a.removedNodes.push(c);Rb(a)}}
var xd=P({get parentNode(){var a=D(this);a=a&&a.parentNode;return void 0!==a?a:this.__shady_native_parentNode},get firstChild(){var a=D(this);a=a&&a.firstChild;return void 0!==a?a:this.__shady_native_firstChild},get lastChild(){var a=D(this);a=a&&a.lastChild;return void 0!==a?a:this.__shady_native_lastChild},get nextSibling(){var a=D(this);a=a&&a.nextSibling;return void 0!==a?a:this.__shady_native_nextSibling},get previousSibling(){var a=D(this);a=a&&a.previousSibling;return void 0!==a?a:this.__shady_native_previousSibling},
get childNodes(){if(vb(this)){var a=D(this);if(!a.childNodes){a.childNodes=[];for(var b=this.__shady_firstChild;b;b=b.__shady_nextSibling)a.childNodes.push(b)}var c=a.childNodes}else c=this.__shady_native_childNodes;c.item=function(d){return c[d]};return c},get parentElement(){var a=D(this);(a=a&&a.parentNode)&&a.nodeType!==Node.ELEMENT_NODE&&(a=null);return void 0!==a?a:this.__shady_native_parentElement},get isConnected(){if(md&&md.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;
var a=this.ownerDocument;if(null===a||Eb(a,this))return!0;for(a=this;a&&!(a instanceof Document);)a=a.__shady_parentNode||(N(a)?a.host:void 0);return!!(a&&a instanceof Document)},get textContent(){if(vb(this)){for(var a=[],b=this.__shady_firstChild;b;b=b.__shady_nextSibling)b.nodeType!==Node.COMMENT_NODE&&a.push(b.__shady_textContent);return a.join("")}return this.__shady_native_textContent},set textContent(a){if("undefined"===typeof a||null===a)a="";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!vb(this)&&
L.B){var b=this.__shady_firstChild;(b!=this.__shady_lastChild||b&&b.nodeType!=Node.TEXT_NODE)&&nd(this);this.__shady_native_textContent=a}else nd(this),(0<a.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(a));break;default:this.nodeValue=a}},insertBefore:function(a,b){if(this.ownerDocument!==jd&&a.ownerDocument!==jd)return this.__shady_native_insertBefore(a,b),a;if(a===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");
if(b){var c=D(b);c=c&&c.parentNode;if(void 0!==c&&c!==this||void 0===c&&b.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.");}if(b===a)return a;qd(this,a);var d=[],e=(c=rd(this))?c.host.localName:hd(this),f=a.__shady_parentNode;if(f){var g=hd(a);var h=!!c||!rd(a)||kd&&void 0!==this.__noInsertionPoint;f.__shady_removeChild(a,h)}f=!0;var k=(!kd||void 0===a.__noInsertionPoint&&void 0===
this.__noInsertionPoint)&&!gd(a,e),l=c&&!a.__noInsertionPoint&&(!kd||a.nodeType===Node.DOCUMENT_FRAGMENT_NODE);if(l||k)k&&(g=g||hd(a)),id(a,function(m){l&&"slot"===m.localName&&d.push(m);if(k){var q=g;dd()&&(q&&fd(m,q),(q=dd())&&q.scopeNode(m,e))}});d.length&&(sd(c),c.c.push.apply(c.c,d instanceof Array?d:na(ma(d))),td(c));vb(this)&&(ud(a,this,b),h=D(this),h.root?(f=!1,wb(this)&&td(h.root)):c&&"slot"===this.localName&&(f=!1,td(c)));f?(c=N(this)?this.host:this,b?(b=pd(b),c.__shady_native_insertBefore(a,
b)):c.__shady_native_appendChild(a)):a.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(a);return a},appendChild:function(a){if(this!=a||!N(a))return this.__shady_insertBefore(a)},removeChild:function(a,b){b=void 0===b?!1:b;if(this.ownerDocument!==jd)return this.__shady_native_removeChild(a);if(a.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+a);qd(this,null,a);var c=rd(a),d=c&&vd(c,a),e=D(this);if(vb(this)&&(wd(a,this),wb(this))){td(e.root);
var f=!0}if(dd()&&!b&&c&&a.nodeType!==Node.TEXT_NODE){var g=hd(a);id(a,function(h){fd(h,g)})}od(a);c&&((b="slot"===this.localName)&&(f=!0),(d||b)&&td(c));f||(f=N(this)?this.host:this,(!e.root&&"slot"!==a.localName||f===a.__shady_native_parentNode)&&f.__shady_native_removeChild(a));return a},replaceChild:function(a,b){this.__shady_insertBefore(a,b);this.__shady_removeChild(b);return a},cloneNode:function(a){if("template"==this.localName)return this.__shady_native_cloneNode(a);var b=this.__shady_native_cloneNode(!1);
if(a&&b.nodeType!==Node.ATTRIBUTE_NODE){a=this.__shady_firstChild;for(var c;a;a=a.__shady_nextSibling)c=a.__shady_cloneNode(!0),b.__shady_appendChild(c)}return b},getRootNode:function(a){if(this&&this.nodeType){var b=A(this),c=b.la;void 0===c&&(N(this)?(c=this,b.la=c):(c=(c=this.__shady_parentNode)?c.__shady_getRootNode(a):this,document.documentElement.__shady_native_contains(this)&&(b.la=c)));return c}},contains:function(a){return Fb(this,a)}});var zd=P({get assignedSlot(){var a=this.__shady_parentNode;(a=a&&a.__shady_shadowRoot)&&yd(a);return(a=D(this))&&a.assignedSlot||null}});function Ad(a,b,c){var d=[];Cd(a,b,c,d);return d}function Cd(a,b,c,d){for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling){var e;if(e=a.nodeType===Node.ELEMENT_NODE){e=a;var f=b,g=c,h=d,k=f(e);k&&h.push(e);g&&g(k)?e=k:(Cd(e,f,g,h),e=void 0)}if(e)break}}
var Dd=P({get firstElementChild(){var a=D(this);if(a&&void 0!==a.firstChild){for(a=this.__shady_firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_nextSibling;return a}return this.__shady_native_firstElementChild},get lastElementChild(){var a=D(this);if(a&&void 0!==a.lastChild){for(a=this.__shady_lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_previousSibling;return a}return this.__shady_native_lastElementChild},get children(){return vb(this)?Gb(Array.prototype.filter.call(Ib(this),
function(a){return a.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var a=this.__shady_children;return a?a.length:0}}),Ed=P({querySelector:function(a){return Ad(this,function(b){return zb.call(b,a)},function(b){return!!b})[0]||null},querySelectorAll:function(a,b){if(b){b=Array.prototype.slice.call(this.__shady_native_querySelectorAll(a));var c=this.__shady_getRootNode();return Gb(b.filter(function(d){return d.__shady_getRootNode()==c}))}return Gb(Ad(this,function(d){return zb.call(d,
a)}))}}),Fd=L.aa&&!L.D?Lb({},Dd):Dd;Lb(Dd,Ed);var Gd=window.document;function Hd(a,b){if("slot"===b)a=a.__shady_parentNode,wb(a)&&td(D(a).root);else if("slot"===a.localName&&"name"===b&&(b=rd(a))){if(b.a){Id(b);var c=a.La,d=Jd(a);if(d!==c){c=b.b[c];var e=c.indexOf(a);0<=e&&c.splice(e,1);c=b.b[d]||(b.b[d]=[]);c.push(a);1<c.length&&(b.b[d]=Kd(c))}}td(b)}}
var Ld=P({get previousElementSibling(){var a=D(this);if(a&&void 0!==a.previousSibling){for(a=this.__shady_previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_previousSibling;return a}return this.__shady_native_previousElementSibling},get nextElementSibling(){var a=D(this);if(a&&void 0!==a.nextSibling){for(a=this.__shady_nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_nextSibling;return a}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},
set slot(a){this.__shady_setAttribute("slot",a)},get className(){return this.getAttribute("class")||""},set className(a){this.__shady_setAttribute("class",a)},setAttribute:function(a,b){this.ownerDocument!==Gd?this.__shady_native_setAttribute(a,b):ed(this,a,b)||(this.__shady_native_setAttribute(a,b),Hd(this,a))},removeAttribute:function(a){this.ownerDocument!==Gd?this.__shady_native_removeAttribute(a):ed(this,a,"")?""===this.getAttribute(a)&&this.__shady_native_removeAttribute(a):(this.__shady_native_removeAttribute(a),
Hd(this,a))}});L.aa||Wc.forEach(function(a){Ld[a]=Yc(a)});
var Qd=P({attachShadow:function(a){if(!this)throw Error("Must provide a host.");if(!a)throw Error("Not enough arguments.");if(a.shadyUpgradeFragment&&!L.Ia){var b=a.shadyUpgradeFragment;b.__proto__=ShadowRoot.prototype;Md(b,this,a);Nd(b,b);a=b.__noInsertionPoint?null:b.querySelectorAll("slot");b.__noInsertionPoint=void 0;if(a&&a.length){var c=b;sd(c);c.c.push.apply(c.c,a instanceof Array?a:na(ma(a)));td(b)}b.host.__shady_native_appendChild(b)}else b=new Od(Pd,this,a);return this.__CE_shadowRoot=b},
get shadowRoot(){var a=D(this);return a&&a.bb||null}});Lb(Ld,Qd);var Rd=document.implementation.createHTMLDocument("inert"),Sd=P({get innerHTML(){return vb(this)?ac("template"===this.localName?this.content:this,Ib):this.__shady_native_innerHTML},set innerHTML(a){if("template"===this.localName)this.__shady_native_innerHTML=a;else{nd(this);var b=this.localName||"div";b=this.namespaceURI&&this.namespaceURI!==Rd.namespaceURI?Rd.createElementNS(this.namespaceURI,b):Rd.createElement(b);for(L.B?b.__shady_native_innerHTML=a:b.innerHTML=a;a=b.__shady_firstChild;)this.__shady_insertBefore(a)}}});var Td=P({blur:function(){var a=D(this);(a=(a=a&&a.root)&&a.activeElement)?a.__shady_blur():this.__shady_native_blur()}});L.aa||Xc.forEach(function(a){Td[a]=Yc(a)});var Ud=P({assignedNodes:function(a){if("slot"===this.localName){var b=this.__shady_getRootNode();b&&N(b)&&yd(b);return(b=D(this))?(a&&a.flatten?b.V:b.assignedNodes)||[]:[]}},addEventListener:function(a,b,c){if("slot"!==this.localName||"slotchange"===a)Oc.call(this,a,b,c);else{"object"!==typeof c&&(c={capture:!!c});var d=this.__shady_parentNode;if(!d)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");c.O=this;d.__shady_addEventListener(a,b,c)}},removeEventListener:function(a,
b,c){if("slot"!==this.localName||"slotchange"===a)Pc.call(this,a,b,c);else{"object"!==typeof c&&(c={capture:!!c});var d=this.__shady_parentNode;if(!d)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");c.O=this;d.__shady_removeEventListener(a,b,c)}}});var Vd=P({getElementById:function(a){return""===a?null:Ad(this,function(b){return b.id==a},function(b){return!!b})[0]||null}});var Wd=P({get activeElement(){var a=L.B?document.__shady_native_activeElement:document.activeElement;if(!a||!a.nodeType)return null;var b=!!N(this);if(!(this===document||b&&this.host!==a&&this.host.__shady_native_contains(a)))return null;for(b=rd(a);b&&b!==this;)a=b.host,b=rd(a);return this===document?b?null:a:b===this?a:null}});var Xd=window.document,Yd=P({importNode:function(a,b){if(a.ownerDocument!==Xd||"template"===a.localName)return this.__shady_native_importNode(a,b);var c=this.__shady_native_importNode(a,!1);if(b)for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)b=this.__shady_importNode(a,!0),c.__shady_appendChild(b);return c}});var Zd=P({dispatchEvent:Mc,addEventListener:Oc.bind(window),removeEventListener:Pc.bind(window)});var $d={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&($d.parentElement=xd.parentElement);Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&($d.contains=xd.contains);Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&($d.children=Dd.children);Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&($d.innerHTML=Sd.innerHTML);Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&($d.className=Ld.className);
var ae={EventTarget:[bd],Node:[xd,window.EventTarget?null:bd],Text:[zd],Comment:[zd],CDATASection:[zd],ProcessingInstruction:[zd],Element:[Ld,Dd,zd,!L.B||"innerHTML"in Element.prototype?Sd:null,window.HTMLSlotElement?null:Ud],HTMLElement:[Td,$d],HTMLSlotElement:[Ud],DocumentFragment:[Fd,Vd],Document:[Yd,Fd,Vd,Wd],Window:[Zd]},be=L.B?null:["innerHTML","textContent"];function ce(a,b,c,d){b.forEach(function(e){return a&&e&&O(a,e,c,d)})}
function de(a){var b=a?null:be,c;for(c in ae)ce(window[c]&&window[c].prototype,ae[c],a,b)}["Text","Comment","CDATASection","ProcessingInstruction"].forEach(function(a){var b=window[a],c=Object.create(b.prototype);c.__shady_protoIsPatched=!0;ce(c,ae.EventTarget);ce(c,ae.Node);ae[a]&&ce(c,ae[a]);b.prototype.__shady_patchedProto=c});function ee(a){a.__shady_protoIsPatched=!0;ce(a,ae.EventTarget);ce(a,ae.Node);ce(a,ae.Element);ce(a,ae.HTMLElement);ce(a,ae.HTMLSlotElement);return a};var fe=L.ua,ge=L.B;function he(a,b){if(fe&&!a.__shady_protoIsPatched&&!N(a)){var c=Object.getPrototypeOf(a),d=c.hasOwnProperty("__shady_patchedProto")&&c.__shady_patchedProto;d||(d=Object.create(c),ee(d),c.__shady_patchedProto=d);Object.setPrototypeOf(a,d)}ge||(1===b?uc(a):2===b&&vc(a))}
function ie(a,b,c,d){he(a,1);d=d||null;var e=A(a),f=d?A(d):null;e.previousSibling=d?f.previousSibling:b.__shady_lastChild;if(f=D(e.previousSibling))f.nextSibling=a;if(f=D(e.nextSibling=d))f.previousSibling=a;e.parentNode=b;d?d===c.firstChild&&(c.firstChild=a):(c.lastChild=a,c.firstChild||(c.firstChild=a));c.childNodes=null}
function ud(a,b,c){he(b,2);var d=A(b);void 0!==d.firstChild&&(d.childNodes=null);if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.__shady_native_firstChild;a;a=a.__shady_native_nextSibling)ie(a,b,d,c);else ie(a,b,d,c)}
function wd(a,b){var c=A(a);b=A(b);a===b.firstChild&&(b.firstChild=c.nextSibling);a===b.lastChild&&(b.lastChild=c.previousSibling);a=c.previousSibling;var d=c.nextSibling;a&&(A(a).nextSibling=d);d&&(A(d).previousSibling=a);c.parentNode=c.previousSibling=c.nextSibling=void 0;void 0!==b.childNodes&&(b.childNodes=null)}
function Nd(a,b){var c=A(a);if(b||void 0===c.firstChild){c.childNodes=null;var d=c.firstChild=a.__shady_native_firstChild;c.lastChild=a.__shady_native_lastChild;he(a,2);c=d;for(d=void 0;c;c=c.__shady_native_nextSibling){var e=A(c);e.parentNode=b||a;e.nextSibling=c.__shady_native_nextSibling;e.previousSibling=d||null;d=c;he(c,1)}}};var je=P({addEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.O=c.O||this;this.host.__shady_addEventListener(a,b,c)},removeEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.O=c.O||this;this.host.__shady_removeEventListener(a,b,c)}});function ke(a,b){O(a,je,b);O(a,Wd,b);O(a,Sd,b);O(a,Dd,b);L.D&&!b?(O(a,xd,b),O(a,Vd,b)):L.B||(O(a,rc),O(a,pc),O(a,qc))};var Pd={},le=L.deferConnectionCallbacks&&"loading"===document.readyState,me;function ne(a){var b=[];do b.unshift(a);while(a=a.__shady_parentNode);return b}function Od(a,b,c){if(a!==Pd)throw new TypeError("Illegal constructor");this.a=null;Md(this,b,c)}
function Md(a,b,c){a.host=b;a.mode=c&&c.mode;Nd(a.host);b=A(a.host);b.root=a;b.bb="closed"!==a.mode?a:null;b=A(a);b.firstChild=b.lastChild=b.parentNode=b.nextSibling=b.previousSibling=null;if(L.preferPerformance)for(;b=a.host.__shady_native_firstChild;)a.host.__shady_native_removeChild(b);else td(a)}function td(a){a.T||(a.T=!0,Ob(function(){return yd(a)}))}
function yd(a){var b;if(b=a.T){for(var c;a;)a:{a.T&&(c=a),b=a;a=b.host.__shady_getRootNode();if(N(a)&&(b=D(b.host))&&0<b.da)break a;a=void 0}b=c}(c=b)&&c._renderSelf()}
Od.prototype._renderSelf=function(){var a=le;le=!0;this.T=!1;if(this.a){Id(this);for(var b=0,c;b<this.a.length;b++){c=this.a[b];var d=D(c),e=d.assignedNodes;d.assignedNodes=[];d.V=[];if(d.Ba=e)for(d=0;d<e.length;d++){var f=D(e[d]);f.oa=f.assignedSlot;f.assignedSlot===c&&(f.assignedSlot=null)}}for(b=this.host.__shady_firstChild;b;b=b.__shady_nextSibling)oe(this,b);for(b=0;b<this.a.length;b++){c=this.a[b];e=D(c);if(!e.assignedNodes.length)for(d=c.__shady_firstChild;d;d=d.__shady_nextSibling)oe(this,
d,c);(d=(d=D(c.__shady_parentNode))&&d.root)&&(xb(d)||d.T)&&d._renderSelf();pe(this,e.V,e.assignedNodes);if(d=e.Ba){for(f=0;f<d.length;f++)D(d[f]).oa=null;e.Ba=null;d.length>e.assignedNodes.length&&(e.ra=!0)}e.ra&&(e.ra=!1,qe(this,c))}c=this.a;b=[];for(e=0;e<c.length;e++)d=c[e].__shady_parentNode,(f=D(d))&&f.root||!(0>b.indexOf(d))||b.push(d);for(c=0;c<b.length;c++){f=b[c];e=f===this?this.host:f;d=[];for(f=f.__shady_firstChild;f;f=f.__shady_nextSibling)if("slot"==f.localName)for(var g=D(f).V,h=0;h<
g.length;h++)d.push(g[h]);else d.push(f);f=Hb(e);g=$c(d,d.length,f,f.length);for(var k=h=0,l=void 0;h<g.length&&(l=g[h]);h++){for(var m=0,q=void 0;m<l.ba.length&&(q=l.ba[m]);m++)q.__shady_native_parentNode===e&&e.__shady_native_removeChild(q),f.splice(l.index+k,1);k-=l.ia}k=0;for(l=void 0;k<g.length&&(l=g[k]);k++)for(h=f[l.index],m=l.index;m<l.index+l.ia;m++)q=d[m],e.__shady_native_insertBefore(q,h),f.splice(m,0,q)}}if(!L.preferPerformance&&!this.Aa)for(b=this.host.__shady_firstChild;b;b=b.__shady_nextSibling)c=
D(b),b.__shady_native_parentNode!==this.host||"slot"!==b.localName&&c.assignedSlot||this.host.__shady_native_removeChild(b);this.Aa=!0;le=a;me&&me()};function oe(a,b,c){var d=A(b),e=d.oa;d.oa=null;c||(c=(a=a.b[b.__shady_slot||"__catchall"])&&a[0]);c?(A(c).assignedNodes.push(b),d.assignedSlot=c):d.assignedSlot=void 0;e!==d.assignedSlot&&d.assignedSlot&&(A(d.assignedSlot).ra=!0)}
function pe(a,b,c){for(var d=0,e=void 0;d<c.length&&(e=c[d]);d++)if("slot"==e.localName){var f=D(e).assignedNodes;f&&f.length&&pe(a,b,f)}else b.push(c[d])}function qe(a,b){b.__shady_native_dispatchEvent(new Event("slotchange"));b=D(b);b.assignedSlot&&qe(a,b.assignedSlot)}function sd(a){a.c=a.c||[];a.a=a.a||[];a.b=a.b||{}}
function Id(a){if(a.c&&a.c.length){for(var b=a.c,c,d=0;d<b.length;d++){var e=b[d];Nd(e);var f=e.__shady_parentNode;Nd(f);f=D(f);f.da=(f.da||0)+1;f=Jd(e);a.b[f]?(c=c||{},c[f]=!0,a.b[f].push(e)):a.b[f]=[e];a.a.push(e)}if(c)for(var g in c)a.b[g]=Kd(a.b[g]);a.c=[]}}function Jd(a){var b=a.name||a.getAttribute("name")||"__catchall";return a.La=b}
function Kd(a){return a.sort(function(b,c){b=ne(b);for(var d=ne(c),e=0;e<b.length;e++){c=b[e];var f=d[e];if(c!==f)return b=Ib(c.__shady_parentNode),b.indexOf(c)-b.indexOf(f)}})}
function vd(a,b){if(a.a){Id(a);var c=a.b,d;for(d in c)for(var e=c[d],f=0;f<e.length;f++){var g=e[f];if(Fb(b,g)){e.splice(f,1);var h=a.a.indexOf(g);0<=h&&(a.a.splice(h,1),(h=D(g.__shady_parentNode))&&h.da&&h.da--);f--;g=D(g);if(h=g.V)for(var k=0;k<h.length;k++){var l=h[k],m=l.__shady_native_parentNode;m&&m.__shady_native_removeChild(l)}g.V=[];g.assignedNodes=[];h=!0}}return h}}function xb(a){Id(a);return!(!a.a||!a.a.length)}
(function(a){a.__proto__=DocumentFragment.prototype;ke(a,"__shady_");ke(a);Object.defineProperties(a,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}});["localName","namespaceURI","prefix"].forEach(function(b){Object.defineProperty(a,b,{value:void 0,configurable:!0})});["ownerDocument","baseURI","isConnected"].forEach(function(b){Object.defineProperty(a,b,{get:function(){return this.host[b]},
configurable:!0})})})(Od.prototype);
if(window.customElements&&window.customElements.define&&L.sa&&!L.preferPerformance){var re=new Map;me=function(){var a=[];re.forEach(function(d,e){a.push([e,d])});re.clear();for(var b=0;b<a.length;b++){var c=a[b][0];a[b][1]?c.__shadydom_connectedCallback():c.__shadydom_disconnectedCallback()}};le&&document.addEventListener("readystatechange",function(){le=!1;me()},{once:!0});var se=function(a,b,c){var d=0,e="__isConnected"+d++;if(b||c)a.prototype.connectedCallback=a.prototype.__shadydom_connectedCallback=
function(){le?re.set(this,!0):this[e]||(this[e]=!0,b&&b.call(this))},a.prototype.disconnectedCallback=a.prototype.__shadydom_disconnectedCallback=function(){le?this.isConnected||re.set(this,!1):this[e]&&(this[e]=!1,c&&c.call(this))};return a},te=window.customElements.define,ue=function(a,b){var c=b.prototype.connectedCallback,d=b.prototype.disconnectedCallback;te.call(window.customElements,a,se(b,c,d));b.prototype.connectedCallback=c;b.prototype.disconnectedCallback=d};window.customElements.define=
ue;Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:ue,configurable:!0})}function rd(a){a=a.__shady_getRootNode();if(N(a))return a};function ve(a){this.node=a}w=ve.prototype;w.addEventListener=function(a,b,c){return this.node.__shady_addEventListener(a,b,c)};w.removeEventListener=function(a,b,c){return this.node.__shady_removeEventListener(a,b,c)};w.appendChild=function(a){return this.node.__shady_appendChild(a)};w.insertBefore=function(a,b){return this.node.__shady_insertBefore(a,b)};w.removeChild=function(a){return this.node.__shady_removeChild(a)};w.replaceChild=function(a,b){return this.node.__shady_replaceChild(a,b)};
w.cloneNode=function(a){return this.node.__shady_cloneNode(a)};w.getRootNode=function(a){return this.node.__shady_getRootNode(a)};w.contains=function(a){return this.node.__shady_contains(a)};w.dispatchEvent=function(a){return this.node.__shady_dispatchEvent(a)};w.setAttribute=function(a,b){this.node.__shady_setAttribute(a,b)};w.getAttribute=function(a){return this.node.__shady_native_getAttribute(a)};w.hasAttribute=function(a){return this.node.__shady_native_hasAttribute(a)};w.removeAttribute=function(a){this.node.__shady_removeAttribute(a)};
w.attachShadow=function(a){return this.node.__shady_attachShadow(a)};w.focus=function(){this.node.__shady_native_focus()};w.blur=function(){this.node.__shady_blur()};w.importNode=function(a,b){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(a,b)};w.getElementById=function(a){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(a)};w.querySelector=function(a){return this.node.__shady_querySelector(a)};
w.querySelectorAll=function(a,b){return this.node.__shady_querySelectorAll(a,b)};w.assignedNodes=function(a){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(a)};
ca.Object.defineProperties(ve.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(N(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(N(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,
enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,
get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},
children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,
enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(a){this.node.__shady_innerHTML=a}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(a){this.node.__shady_textContent=a}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(a){this.node.__shady_slot=a}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(a){return this.node.__shady_className=
a}}});function we(a){Object.defineProperty(ve.prototype,a,{get:function(){return this.node["__shady_"+a]},set:function(b){this.node["__shady_"+a]=b},configurable:!0})}Wc.forEach(function(a){return we(a)});Xc.forEach(function(a){return we(a)});var xe=new WeakMap;function ye(a){if(N(a)||a instanceof ve)return a;var b=xe.get(a);b||(b=new ve(a),xe.set(a,b));return b};if(L.sa){var ze=L.B?function(a){return a}:function(a){vc(a);uc(a);return a},ShadyDOM={inUse:L.sa,patch:ze,isShadyRoot:N,enqueue:Ob,flush:Pb,flushInitial:function(a){!a.Aa&&a.T&&yd(a)},settings:L,filterMutations:Ub,observeChildren:Sb,unobserveChildren:Tb,deferConnectionCallbacks:L.deferConnectionCallbacks,preferPerformance:L.preferPerformance,handlesDynamicScoping:!0,wrap:L.D?ye:ze,wrapIfNeeded:!0===L.D?ye:function(a){return a},Wrapper:ve,composedPath:Ec,noPatch:L.D,patchOnDemand:L.ua,nativeMethods:ec,
nativeTree:fc,patchElementProto:ee};window.ShadyDOM=ShadyDOM;oc();de("__shady_");Object.defineProperty(document,"_activeElement",Wd.activeElement);O(Window.prototype,Zd,"__shady_");L.D?L.ua&&O(Element.prototype,Qd):(de(),Vc());Qc();window.Event=Sc;window.CustomEvent=Tc;window.MouseEvent=Uc;window.ShadowRoot=Od};/*

 Copyright (c) 2020 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 Google as part of the polymer project is also subject to an additional IP
 rights grant found at http://polymer.github.io/PATENTS.txt
*/
var Ae=window.Document.prototype.createElement,Be=window.Document.prototype.createElementNS,Ce=window.Document.prototype.importNode,De=window.Document.prototype.prepend,Ee=window.Document.prototype.append,Fe=window.DocumentFragment.prototype.prepend,Ge=window.DocumentFragment.prototype.append,He=window.Node.prototype.cloneNode,Ie=window.Node.prototype.appendChild,Je=window.Node.prototype.insertBefore,Ke=window.Node.prototype.removeChild,Le=window.Node.prototype.replaceChild,Me=Object.getOwnPropertyDescriptor(window.Node.prototype,
"textContent"),Ne=window.Element.prototype.attachShadow,Oe=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Pe=window.Element.prototype.getAttribute,Qe=window.Element.prototype.setAttribute,Re=window.Element.prototype.removeAttribute,Se=window.Element.prototype.getAttributeNS,Te=window.Element.prototype.setAttributeNS,Ue=window.Element.prototype.removeAttributeNS,Ve=window.Element.prototype.insertAdjacentElement,We=window.Element.prototype.insertAdjacentHTML,Xe=window.Element.prototype.prepend,
Ye=window.Element.prototype.append,Ze=window.Element.prototype.before,$e=window.Element.prototype.after,af=window.Element.prototype.replaceWith,bf=window.Element.prototype.remove,cf=window.HTMLElement,df=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),ef=window.HTMLElement.prototype.insertAdjacentElement,ff=window.HTMLElement.prototype.insertAdjacentHTML;var gf=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(a){return gf.add(a)});function hf(a){var b=gf.has(a);a=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(a);return!b&&a}var jf=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);
function S(a){var b=a.isConnected;if(void 0!==b)return b;if(jf(a))return!0;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}function kf(a){var b=a.children;if(b)return Array.prototype.slice.call(b);b=[];for(a=a.firstChild;a;a=a.nextSibling)a.nodeType===Node.ELEMENT_NODE&&b.push(a);return b}
function lf(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}
function mf(a,b,c){for(var d=a;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;b(e);var f=e.localName;if("link"===f&&"import"===e.getAttribute("rel")){d=e.import;void 0===c&&(c=new Set);if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)mf(d,b,c);d=lf(a,e);continue}else if("template"===f){d=lf(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)mf(e,b,c)}d=d.firstChild?d.firstChild:lf(a,d)}};function nf(){var a=!(null===of||void 0===of||!of.noDocumentConstructionObserver),b=!(null===of||void 0===of||!of.shadyDomFastWalk);this.X=[];this.a=[];this.R=!1;this.shadyDomFastWalk=b;this.jb=!a}function pf(a,b,c,d){var e=window.ShadyDom;if(a.shadyDomFastWalk&&e&&e.inUse){if(b.nodeType===Node.ELEMENT_NODE&&c(b),b.querySelectorAll)for(a=e.nativeMethods.querySelectorAll.call(b,"*"),b=0;b<a.length;b++)c(a[b])}else mf(b,c,d)}function qf(a,b){a.R=!0;a.X.push(b)}function rf(a,b){a.R=!0;a.a.push(b)}
function sf(a,b){a.R&&pf(a,b,function(c){return tf(a,c)})}function tf(a,b){if(a.R&&!b.__CE_patched){b.__CE_patched=!0;for(var c=0;c<a.X.length;c++)a.X[c](b);for(c=0;c<a.a.length;c++)a.a[c](b)}}function uf(a,b){var c=[];pf(a,b,function(e){return c.push(e)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state?a.connectedCallback(d):vf(a,d)}}function wf(a,b){var c=[];pf(a,b,function(e){return c.push(e)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state&&a.disconnectedCallback(d)}}
function xf(a,b,c){c=void 0===c?{}:c;var d=c.kb,e=c.upgrade||function(g){return vf(a,g)},f=[];pf(a,b,function(g){a.R&&tf(a,g);if("link"===g.localName&&"import"===g.getAttribute("rel")){var h=g.import;h instanceof Node&&(h.__CE_isImportDocument=!0,h.__CE_registry=document.__CE_registry);h&&"complete"===h.readyState?h.__CE_documentLoadHandled=!0:g.addEventListener("load",function(){var k=g.import;if(!k.__CE_documentLoadHandled){k.__CE_documentLoadHandled=!0;var l=new Set;d&&(d.forEach(function(m){return l.add(m)}),
l.delete(k));xf(a,k,{kb:l,upgrade:e})}})}else f.push(g)},d);for(b=0;b<f.length;b++)e(f[b])}
function vf(a,b){try{var c=b.ownerDocument,d=c.__CE_registry;var e=d&&(c.defaultView||c.__CE_isImportDocument)?yf(d,b.localName):void 0;if(e&&void 0===b.__CE_state){e.constructionStack.push(b);try{try{if(new e.constructorFunction!==b)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{e.constructionStack.pop()}}catch(k){throw b.__CE_state=2,k;}b.__CE_state=1;b.__CE_definition=e;if(e.attributeChangedCallback&&b.hasAttributes()){var f=e.observedAttributes;
for(e=0;e<f.length;e++){var g=f[e],h=b.getAttribute(g);null!==h&&a.attributeChangedCallback(b,g,null,h,null)}}S(b)&&a.connectedCallback(b)}}catch(k){zf(k)}}nf.prototype.connectedCallback=function(a){var b=a.__CE_definition;if(b.connectedCallback)try{b.connectedCallback.call(a)}catch(c){zf(c)}};nf.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;if(b.disconnectedCallback)try{b.disconnectedCallback.call(a)}catch(c){zf(c)}};
nf.prototype.attributeChangedCallback=function(a,b,c,d,e){var f=a.__CE_definition;if(f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(b))try{f.attributeChangedCallback.call(a,b,c,d,e)}catch(g){zf(g)}};
function Af(a,b,c,d){var e=b.__CE_registry;if(e&&(null===d||"http://www.w3.org/1999/xhtml"===d)&&(e=yf(e,c)))try{var f=new e.constructorFunction;if(void 0===f.__CE_state||void 0===f.__CE_definition)throw Error("Failed to construct '"+c+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==f.namespaceURI)throw Error("Failed to construct '"+c+"': The constructed element's namespace must be the HTML namespace.");if(f.hasAttributes())throw Error("Failed to construct '"+
c+"': The constructed element must not have any attributes.");if(null!==f.firstChild)throw Error("Failed to construct '"+c+"': The constructed element must not have any children.");if(null!==f.parentNode)throw Error("Failed to construct '"+c+"': The constructed element must not have a parent node.");if(f.ownerDocument!==b)throw Error("Failed to construct '"+c+"': The constructed element's owner document is incorrect.");if(f.localName!==c)throw Error("Failed to construct '"+c+"': The constructed element's local name is incorrect.");
return f}catch(g){return zf(g),b=null===d?Ae.call(b,c):Be.call(b,d,c),Object.setPrototypeOf(b,HTMLUnknownElement.prototype),b.__CE_state=2,b.__CE_definition=void 0,tf(a,b),b}b=null===d?Ae.call(b,c):Be.call(b,d,c);tf(a,b);return b}
function zf(a){var b=a.message,c=a.sourceURL||a.fileName||"",d=a.line||a.lineNumber||0,e=a.column||a.columnNumber||0,f=void 0;void 0===ErrorEvent.prototype.initErrorEvent?f=new ErrorEvent("error",{cancelable:!0,message:b,filename:c,lineno:d,colno:e,error:a}):(f=document.createEvent("ErrorEvent"),f.initErrorEvent("error",!1,!0,b,c,d),f.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})});void 0===f.error&&Object.defineProperty(f,"error",
{configurable:!0,enumerable:!0,get:function(){return a}});window.dispatchEvent(f);f.defaultPrevented||console.error(a)};function Bf(){var a=this;this.C=void 0;this.Ca=new Promise(function(b){a.a=b})}Bf.prototype.resolve=function(a){if(this.C)throw Error("Already resolved.");this.C=a;this.a(a)};function Cf(a){var b=document;this.S=void 0;this.M=a;this.a=b;xf(this.M,this.a);"loading"===this.a.readyState&&(this.S=new MutationObserver(this.b.bind(this)),this.S.observe(this.a,{childList:!0,subtree:!0}))}function Df(a){a.S&&a.S.disconnect()}Cf.prototype.b=function(a){var b=this.a.readyState;"interactive"!==b&&"complete"!==b||Df(this);for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,d=0;d<c.length;d++)xf(this.M,c[d])};function T(a){this.fa=new Map;this.ga=new Map;this.xa=new Map;this.na=!1;this.qa=new Map;this.ea=function(b){return b()};this.P=!1;this.ha=[];this.M=a;this.ya=a.jb?new Cf(a):void 0}w=T.prototype;w.$a=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Ef(this,a);this.fa.set(a,b);this.ha.push(a);this.P||(this.P=!0,this.ea(function(){return Ff(c)}))};
w.define=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError("Custom element constructors must be functions.");Ef(this,a);Gf(this,a,b);this.ha.push(a);this.P||(this.P=!0,this.ea(function(){return Ff(c)}))};function Ef(a,b){if(!hf(b))throw new SyntaxError("The element name '"+b+"' is not valid.");if(yf(a,b))throw Error("A custom element with name '"+(b+"' has already been defined."));if(a.na)throw Error("A custom element is already being defined.");}
function Gf(a,b,c){a.na=!0;var d;try{var e=c.prototype;if(!(e instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var f=function(m){var q=e[m];if(void 0!==q&&!(q instanceof Function))throw Error("The '"+m+"' callback must be a function.");return q};var g=f("connectedCallback");var h=f("disconnectedCallback");var k=f("adoptedCallback");var l=(d=f("attributeChangedCallback"))&&c.observedAttributes||[]}catch(m){throw m;}finally{a.na=!1}c={localName:b,
constructorFunction:c,connectedCallback:g,disconnectedCallback:h,adoptedCallback:k,attributeChangedCallback:d,observedAttributes:l,constructionStack:[]};a.ga.set(b,c);a.xa.set(c.constructorFunction,c);return c}w.upgrade=function(a){xf(this.M,a)};
function Ff(a){if(!1!==a.P){a.P=!1;for(var b=[],c=a.ha,d=new Map,e=0;e<c.length;e++)d.set(c[e],[]);xf(a.M,document,{upgrade:function(k){if(void 0===k.__CE_state){var l=k.localName,m=d.get(l);m?m.push(k):a.ga.has(l)&&b.push(k)}}});for(e=0;e<b.length;e++)vf(a.M,b[e]);for(e=0;e<c.length;e++){for(var f=c[e],g=d.get(f),h=0;h<g.length;h++)vf(a.M,g[h]);(f=a.qa.get(f))&&f.resolve(void 0)}c.length=0}}w.get=function(a){if(a=yf(this,a))return a.constructorFunction};
w.whenDefined=function(a){if(!hf(a))return Promise.reject(new SyntaxError("'"+a+"' is not a valid custom element name."));var b=this.qa.get(a);if(b)return b.Ca;b=new Bf;this.qa.set(a,b);var c=this.ga.has(a)||this.fa.has(a);a=-1===this.ha.indexOf(a);c&&a&&b.resolve(void 0);return b.Ca};w.polyfillWrapFlushCallback=function(a){this.ya&&Df(this.ya);var b=this.ea;this.ea=function(c){return a(function(){return b(c)})}};
function yf(a,b){var c=a.ga.get(b);if(c)return c;if(c=a.fa.get(b)){a.fa.delete(b);try{return Gf(a,b,c())}catch(d){zf(d)}}}window.CustomElementRegistry=T;T.prototype.define=T.prototype.define;T.prototype.upgrade=T.prototype.upgrade;T.prototype.get=T.prototype.get;T.prototype.whenDefined=T.prototype.whenDefined;T.prototype.polyfillDefineLazy=T.prototype.$a;T.prototype.polyfillWrapFlushCallback=T.prototype.polyfillWrapFlushCallback;function Hf(a,b,c){function d(e){return function(f){for(var g=[],h=0;h<arguments.length;++h)g[h]=arguments[h];h=[];for(var k=[],l=0;l<g.length;l++){var m=g[l];m instanceof Element&&S(m)&&k.push(m);if(m instanceof DocumentFragment)for(m=m.firstChild;m;m=m.nextSibling)h.push(m);else h.push(m)}e.apply(this,g);for(g=0;g<k.length;g++)wf(a,k[g]);if(S(this))for(g=0;g<h.length;g++)k=h[g],k instanceof Element&&uf(a,k)}}void 0!==c.prepend&&(b.prepend=d(c.prepend));void 0!==c.append&&(b.append=d(c.append))}
;function If(a){Document.prototype.createElement=function(b){return Af(a,this,b,null)};Document.prototype.importNode=function(b,c){b=Ce.call(this,b,!!c);this.__CE_registry?xf(a,b):sf(a,b);return b};Document.prototype.createElementNS=function(b,c){return Af(a,this,c,b)};Hf(a,Document.prototype,{prepend:De,append:Ee})};function Jf(a){function b(d){return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g]=arguments[g];g=[];for(var h=[],k=0;k<f.length;k++){var l=f[k];l instanceof Element&&S(l)&&h.push(l);if(l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)g.push(l);else g.push(l)}d.apply(this,f);for(f=0;f<h.length;f++)wf(a,h[f]);if(S(this))for(f=0;f<g.length;f++)h=g[f],h instanceof Element&&uf(a,h)}}var c=Element.prototype;void 0!==Ze&&(c.before=b(Ze));void 0!==$e&&(c.after=b($e));void 0!==
af&&(c.replaceWith=function(d){for(var e=[],f=0;f<arguments.length;++f)e[f]=arguments[f];f=[];for(var g=[],h=0;h<e.length;h++){var k=e[h];k instanceof Element&&S(k)&&g.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)f.push(k);else f.push(k)}h=S(this);af.apply(this,e);for(e=0;e<g.length;e++)wf(a,g[e]);if(h)for(wf(a,this),e=0;e<f.length;e++)g=f[e],g instanceof Element&&uf(a,g)});void 0!==bf&&(c.remove=function(){var d=S(this);bf.call(this);d&&wf(a,this)})};function Kf(a){function b(e,f){Object.defineProperty(e,"innerHTML",{enumerable:f.enumerable,configurable:!0,get:f.get,set:function(g){var h=this,k=void 0;S(this)&&(k=[],pf(a,this,function(q){q!==h&&k.push(q)}));f.set.call(this,g);if(k)for(var l=0;l<k.length;l++){var m=k[l];1===m.__CE_state&&a.disconnectedCallback(m)}this.ownerDocument.__CE_registry?xf(a,this):sf(a,this);return g}})}function c(e,f){e.insertAdjacentElement=function(g,h){var k=S(h);g=f.call(this,g,h);k&&wf(a,h);S(g)&&uf(a,h);return g}}
function d(e,f){function g(h,k){for(var l=[];h!==k;h=h.nextSibling)l.push(h);for(k=0;k<l.length;k++)xf(a,l[k])}e.insertAdjacentHTML=function(h,k){h=h.toLowerCase();if("beforebegin"===h){var l=this.previousSibling;f.call(this,h,k);g(l||this.parentNode.firstChild,this)}else if("afterbegin"===h)l=this.firstChild,f.call(this,h,k),g(this.firstChild,l);else if("beforeend"===h)l=this.lastChild,f.call(this,h,k),g(l||this.firstChild,null);else if("afterend"===h)l=this.nextSibling,f.call(this,h,k),g(this.nextSibling,
l);else throw new SyntaxError("The value provided ("+String(h)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");}}Ne&&(Element.prototype.attachShadow=function(e){e=Ne.call(this,e);if(a.R&&!e.__CE_patched){e.__CE_patched=!0;for(var f=0;f<a.X.length;f++)a.X[f](e)}return this.__CE_shadowRoot=e});Oe&&Oe.get?b(Element.prototype,Oe):df&&df.get?b(HTMLElement.prototype,df):rf(a,function(e){b(e,{enumerable:!0,configurable:!0,get:function(){return He.call(this,!0).innerHTML},set:function(f){var g=
"template"===this.localName,h=g?this.content:this,k=Be.call(document,this.namespaceURI,this.localName);for(k.innerHTML=f;0<h.childNodes.length;)Ke.call(h,h.childNodes[0]);for(f=g?k.content:k;0<f.childNodes.length;)Ie.call(h,f.childNodes[0])}})});Element.prototype.setAttribute=function(e,f){if(1!==this.__CE_state)return Qe.call(this,e,f);var g=Pe.call(this,e);Qe.call(this,e,f);f=Pe.call(this,e);a.attributeChangedCallback(this,e,g,f,null)};Element.prototype.setAttributeNS=function(e,f,g){if(1!==this.__CE_state)return Te.call(this,
e,f,g);var h=Se.call(this,e,f);Te.call(this,e,f,g);g=Se.call(this,e,f);a.attributeChangedCallback(this,f,h,g,e)};Element.prototype.removeAttribute=function(e){if(1!==this.__CE_state)return Re.call(this,e);var f=Pe.call(this,e);Re.call(this,e);null!==f&&a.attributeChangedCallback(this,e,f,null,null)};Element.prototype.removeAttributeNS=function(e,f){if(1!==this.__CE_state)return Ue.call(this,e,f);var g=Se.call(this,e,f);Ue.call(this,e,f);var h=Se.call(this,e,f);g!==h&&a.attributeChangedCallback(this,
f,g,h,e)};ef?c(HTMLElement.prototype,ef):Ve&&c(Element.prototype,Ve);ff?d(HTMLElement.prototype,ff):We&&d(Element.prototype,We);Hf(a,Element.prototype,{prepend:Xe,append:Ye});Jf(a)};var Lf={};function Mf(a){function b(){var c=this.constructor;var d=document.__CE_registry.xa.get(c);if(!d)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var e=d.constructionStack;if(0===e.length)return e=Ae.call(document,d.localName),Object.setPrototypeOf(e,c.prototype),e.__CE_state=1,e.__CE_definition=d,tf(a,e),e;var f=e.length-1,g=e[f];if(g===Lf)throw Error("Failed to construct '"+d.localName+"': This element was already constructed.");e[f]=
Lf;Object.setPrototypeOf(g,c.prototype);tf(a,g);return g}b.prototype=cf.prototype;Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:b});window.HTMLElement=b};function Nf(a){function b(c,d){Object.defineProperty(c,"textContent",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,e);else{var f=void 0;if(this.firstChild){var g=this.childNodes,h=g.length;if(0<h&&S(this)){f=Array(h);for(var k=0;k<h;k++)f[k]=g[k]}}d.set.call(this,e);if(f)for(e=0;e<f.length;e++)wf(a,f[e])}}})}Node.prototype.insertBefore=function(c,d){if(c instanceof DocumentFragment){var e=kf(c);c=Je.call(this,c,d);if(S(this))for(d=
0;d<e.length;d++)uf(a,e[d]);return c}e=c instanceof Element&&S(c);d=Je.call(this,c,d);e&&wf(a,c);S(this)&&uf(a,c);return d};Node.prototype.appendChild=function(c){if(c instanceof DocumentFragment){var d=kf(c);c=Ie.call(this,c);if(S(this))for(var e=0;e<d.length;e++)uf(a,d[e]);return c}d=c instanceof Element&&S(c);e=Ie.call(this,c);d&&wf(a,c);S(this)&&uf(a,c);return e};Node.prototype.cloneNode=function(c){c=He.call(this,!!c);this.ownerDocument.__CE_registry?xf(a,c):sf(a,c);return c};Node.prototype.removeChild=
function(c){var d=c instanceof Element&&S(c),e=Ke.call(this,c);d&&wf(a,c);return e};Node.prototype.replaceChild=function(c,d){if(c instanceof DocumentFragment){var e=kf(c);c=Le.call(this,c,d);if(S(this))for(wf(a,d),d=0;d<e.length;d++)uf(a,e[d]);return c}e=c instanceof Element&&S(c);var f=Le.call(this,c,d),g=S(this);g&&wf(a,d);e&&wf(a,c);g&&uf(a,c);return f};Me&&Me.get?b(Node.prototype,Me):qf(a,function(c){b(c,{enumerable:!0,configurable:!0,get:function(){for(var d=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==
Node.COMMENT_NODE&&d.push(e.textContent);return d.join("")},set:function(d){for(;this.firstChild;)Ke.call(this,this.firstChild);null!=d&&""!==d&&Ie.call(this,document.createTextNode(d))}})})};var of=window.customElements;function Of(){var a=new nf;Mf(a);If(a);Hf(a,DocumentFragment.prototype,{prepend:Fe,append:Ge});Nf(a);Kf(a);a=new T(a);document.__CE_registry=a;Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:a})}of&&!of.forcePolyfill&&"function"==typeof of.define&&"function"==typeof of.get||Of();window.__CE_installPolyfill=Of;/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Pf(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}
function Qf(a){var b=a=a.replace(Rf,"").replace(Sf,""),c=new Pf;c.start=0;c.end=b.length;for(var d=c,e=0,f=b.length;e<f;e++)if("{"===b[e]){d.rules||(d.rules=[]);var g=d,h=g.rules[g.rules.length-1]||null;d=new Pf;d.start=e+1;d.parent=g;d.previous=h;g.rules.push(d)}else"}"===b[e]&&(d.end=e+1,d=d.parent||c);return Tf(c,a)}
function Tf(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=Uf(c),c=c.replace(Vf," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?0===c.indexOf("@media")?a.type=Wf:c.match(Xf)&&(a.type=Yf,a.keyframesName=a.selector.split(Vf).pop()):a.type=0===c.indexOf("--")?Zf:$f);if(c=a.rules)for(var d=0,e=c.length,f=void 0;d<e&&(f=c[d]);d++)Tf(f,
b);return a}function Uf(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(b,c){b=c;for(c=6-b.length;c--;)b="0"+b;return"\\"+b})}
function ag(a,b,c){c=void 0===c?"":c;var d="";if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=e.length,h=void 0;f<g&&(h=e[f]);f++)d=ag(h,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(bg,"").replace(cg,""),b=b.replace(dg,"").replace(eg,"")),(d=b.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" {\n"),c+=d,a.selector&&(c+="}\n\n"));return c}
var $f=1,Yf=7,Wf=4,Zf=1E3,Rf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Sf=/@import[^;]*;/gim,bg=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,cg=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,dg=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,eg=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Xf=/^@[^\s]*keyframes/,Vf=/\s+/g;var U=!(window.ShadyDOM&&window.ShadyDOM.inUse),fg;function gg(a){fg=a&&a.shimcssproperties?!1:U||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}var hg;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(hg=window.ShadyCSS.cssBuild);var ig=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);
window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?fg=window.ShadyCSS.nativeCss:window.ShadyCSS?(gg(window.ShadyCSS),window.ShadyCSS=void 0):gg(window.WebComponents&&window.WebComponents.flags);var V=fg;var jg=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,kg=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,lg=/(--[\w-]+)\s*([:,;)]|$)/gi,mg=/(animation\s*:)|(animation-name\s*:)/,ng=/@media\s(.*)/,og=/\{[^}]*\}/g;var pg=new Set;function qg(a,b){if(!a)return"";"string"===typeof a&&(a=Qf(a));b&&sg(a,b);return ag(a,V)}function tg(a){!a.__cssRules&&a.textContent&&(a.__cssRules=Qf(a.textContent));return a.__cssRules||null}function ug(a){return!!a.parent&&a.parent.type===Yf}function sg(a,b,c,d){if(a){var e=!1,f=a.type;if(d&&f===Wf){var g=a.selector.match(ng);g&&(window.matchMedia(g[1]).matches||(e=!0))}f===$f?b(a):c&&f===Yf?c(a):f===Zf&&(e=!0);if((a=a.rules)&&!e)for(e=0,f=a.length,g=void 0;e<f&&(g=a[e]);e++)sg(g,b,c,d)}}
function vg(a,b,c,d){var e=document.createElement("style");b&&e.setAttribute("scope",b);e.textContent=a;wg(e,c,d);return e}var xg=null;function yg(a){a=document.createComment(" Shady DOM styles for "+a+" ");var b=document.head;b.insertBefore(a,(xg?xg.nextSibling:null)||b.firstChild);return xg=a}function wg(a,b,c){b=b||document.head;b.insertBefore(a,c&&c.nextSibling||b.firstChild);xg?a.compareDocumentPosition(xg)===Node.DOCUMENT_POSITION_PRECEDING&&(xg=a):xg=a}
function zg(a,b){for(var c=0,d=a.length;b<d;b++)if("("===a[b])c++;else if(")"===a[b]&&0===--c)return b;return-1}function Ag(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");var d=zg(a,c+3),e=a.substring(c+4,d);c=a.substring(0,c);a=Ag(a.substring(d+1),b);d=e.indexOf(",");return-1===d?b(c,e.trim(),"",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function Bg(a,b){U?a.setAttribute("class",b):window.ShadyDOM.nativeMethods.setAttribute.call(a,"class",b)}
var Cg=window.ShadyDOM&&window.ShadyDOM.wrap||function(a){return a};function Dg(a){var b=a.localName,c="";b?-1<b.indexOf("-")||(c=b,b=a.getAttribute&&a.getAttribute("is")||""):(b=a.is,c=a.extends);return{is:b,ca:c}}function Eg(a){for(var b=[],c="",d=0;0<=d&&d<a.length;d++)if("("===a[d]){var e=zg(a,d);c+=a.slice(d,e+1);d=e}else","===a[d]?(b.push(c),c=""):c+=a[d];c&&b.push(c);return b}
function Fg(a){if(void 0!==hg)return hg;if(void 0===a.__cssBuild){var b=a.getAttribute("css-build");if(b)a.__cssBuild=b;else{a:{b="template"===a.localName?a.content.firstChild:a.firstChild;if(b instanceof Comment&&(b=b.textContent.trim().split(":"),"css-build"===b[0])){b=b[1];break a}b=""}if(""!==b){var c="template"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.__cssBuild=b}}return a.__cssBuild||""}
function Gg(a){a=void 0===a?"":a;return""!==a&&V?U?"shadow"===a:"shady"===a:!1};function Hg(){}function Ig(a,b){Jg(Kg,a,function(c){Lg(c,b||"")})}function Jg(a,b,c){b.nodeType===Node.ELEMENT_NODE&&c(b);var d;"template"===b.localName?d=(b.content||b._content||b).childNodes:d=b.children||b.childNodes;if(d)for(b=0;b<d.length;b++)Jg(a,d[b],c)}
function Lg(a,b,c){if(b)if(a.classList)c?(a.classList.remove("style-scope"),a.classList.remove(b)):(a.classList.add("style-scope"),a.classList.add(b));else if(a.getAttribute){var d=a.getAttribute("class");c?d&&(b=d.replace("style-scope","").replace(b,""),Bg(a,b)):Bg(a,(d?d+" ":"")+"style-scope "+b)}}function Mg(a,b,c){Jg(Kg,a,function(d){Lg(d,b,!0);Lg(d,c)})}function Ng(a,b){Jg(Kg,a,function(c){Lg(c,b||"",!0)})}
function Og(a,b,c,d,e){var f=Kg;e=void 0===e?"":e;""===e&&(U||"shady"===(void 0===d?"":d)?e=qg(b,c):(a=Dg(a),e=Pg(f,b,a.is,a.ca,c)+"\n\n"));return e.trim()}function Pg(a,b,c,d,e){var f=Qg(c,d);c=c?"."+c:"";return qg(b,function(g){g.c||(g.selector=g.w=Rg(a,g,a.b,c,f),g.c=!0);e&&e(g,c,f)})}function Qg(a,b){return b?"[is="+a+"]":a}
function Rg(a,b,c,d,e){var f=Eg(b.selector);if(!ug(b)){b=0;for(var g=f.length,h=void 0;b<g&&(h=f[b]);b++)f[b]=c.call(a,h,d,e)}return f.filter(function(k){return!!k}).join(",")}function Sg(a){return a.replace(Tg,function(b,c,d){-1<d.indexOf("+")?d=d.replace(/\+/g,"___"):-1<d.indexOf("___")&&(d=d.replace(/___/g,"+"));return":"+c+"("+d+")"})}
function Ug(a){for(var b=[],c;c=a.match(Vg);){var d=c.index,e=zg(a,d);if(-1===e)throw Error(c.input+" selector missing ')'");c=a.slice(d,e+1);a=a.replace(c,"\ue000");b.push(c)}return{wa:a,matches:b}}function Wg(a,b){var c=a.split("\ue000");return b.reduce(function(d,e,f){return d+e+c[f+1]},c[0])}
Hg.prototype.b=function(a,b,c){var d=!1;a=a.trim();var e=Tg.test(a);e&&(a=a.replace(Tg,function(h,k,l){return":"+k+"("+l.replace(/\s/g,"")+")"}),a=Sg(a));var f=Vg.test(a);if(f){var g=Ug(a);a=g.wa;g=g.matches}a=a.replace(Xg,":host $1");a=a.replace(Yg,function(h,k,l){d||(h=Zg(l,k,b,c),d=d||h.stop,k=h.Qa,l=h.value);return k+l});f&&(a=Wg(a,g));e&&(a=Sg(a));return a=a.replace($g,function(h,k,l,m){return'[dir="'+l+'"] '+k+m+", "+k+'[dir="'+l+'"]'+m})};
function Zg(a,b,c,d){var e=a.indexOf("::slotted");0<=a.indexOf(":host")?a=ah(a,d):0!==e&&(a=c?bh(a,c):a);c=!1;0<=e&&(b="",c=!0);if(c){var f=!0;c&&(a=a.replace(ch,function(g,h){return" > "+h}))}return{value:a,Qa:b,stop:f}}function bh(a,b){a=a.split(/(\[.+?\])/);for(var c=[],d=0;d<a.length;d++)if(1===d%2)c.push(a[d]);else{var e=a[d];if(""!==e||d!==a.length-1)e=e.split(":"),e[0]+=b,c.push(e.join(":"))}return c.join("")}
function ah(a,b){var c=a.match(dh);return(c=c&&c[2].trim()||"")?c[0].match(eh)?a.replace(dh,function(d,e,f){return b+f}):c.split(eh)[0]===b?c:"should_not_match":a.replace(":host",b)}function fh(a){":root"===a.selector&&(a.selector="html")}Hg.prototype.c=function(a){return a.match(":host")?"":a.match("::slotted")?this.b(a,":not(.style-scope)"):bh(a.trim(),":not(.style-scope)")};ca.Object.defineProperties(Hg.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});
var Tg=/:(nth[-\w]+)\(([^)]+)\)/,Yg=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,eh=/[[.:#*]/,Xg=/^(::slotted)/,dh=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ch=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,$g=/(.*):dir\((?:(ltr|rtl))\)(.*)/,Vg=/:(?:matches|any|-(?:webkit|moz)-any)/,Kg=new Hg;function gh(a,b,c,d,e){this.H=a||null;this.b=b||null;this.ta=c||[];this.F=null;this.cssBuild=e||"";this.ca=d||"";this.a=this.G=this.L=null}function hh(a){return a?a.__styleInfo:null}function ih(a,b){return a.__styleInfo=b}gh.prototype.c=function(){return this.H};gh.prototype._getStyleRules=gh.prototype.c;function jh(a){var b=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return b&&b.call(this,a)}var kh=/:host\s*>\s*/,lh=navigator.userAgent.match("Trident");function mh(){}function nh(a){var b={},c=[],d=0;sg(a,function(f){oh(f);f.index=d++;f=f.v.cssText;for(var g;g=lg.exec(f);){var h=g[1];":"!==g[2]&&(b[h]=!0)}},function(f){c.push(f)});a.b=c;a=[];for(var e in b)a.push(e);return a}
function oh(a){if(!a.v){var b={},c={};ph(a,c)&&(b.K=c,a.rules=null);b.cssText=a.parsedCssText.replace(og,"").replace(jg,"");a.v=b}}function ph(a,b){var c=a.v;if(c){if(c.K)return Object.assign(b,c.K),!0}else{c=a.parsedCssText;for(var d;a=jg.exec(c);){d=(a[2]||a[3]).trim();if("inherit"!==d||"unset"!==d)b[a[1].trim()]=d;d=!0}return d}}
function qh(a,b,c){b&&(b=0<=b.indexOf(";")?rh(a,b,c):Ag(b,function(d,e,f,g){if(!e)return d+g;(e=qh(a,c[e],c))&&"initial"!==e?"apply-shim-inherit"===e&&(e="inherit"):e=qh(a,c[f]||f,c)||f;return d+(e||"")+g}));return b&&b.trim()||""}
function rh(a,b,c){b=b.split(";");for(var d=0,e,f;d<b.length;d++)if(e=b[d]){kg.lastIndex=0;if(f=kg.exec(e))e=qh(a,c[f[1]],c);else if(f=e.indexOf(":"),-1!==f){var g=e.substring(f);g=g.trim();g=qh(a,g,c)||g;e=e.substring(0,f)+g}b[d]=e&&e.lastIndexOf(";")===e.length-1?e.slice(0,-1):e||""}return b.join(";")}
function sh(a,b){var c={},d=[];sg(a,function(e){e.v||oh(e);var f=e.w||e.parsedSelector;b&&e.v.K&&f&&jh.call(b,f)&&(ph(e,c),e=e.index,f=parseInt(e/32,10),d[f]=(d[f]||0)|1<<e%32)},null,!0);return{K:c,key:d}}
function th(a,b,c,d){b.v||oh(b);if(b.v.K){var e=Dg(a);a=e.is;e=e.ca;e=a?Qg(a,e):"html";var f=b.parsedSelector;var g=!!f.match(kh)||"html"===e&&-1<f.indexOf("html");var h=0===f.indexOf(":host")&&!g;"shady"===c&&(g=f===e+" > *."+e||-1!==f.indexOf("html"),h=!g&&0===f.indexOf(e));if(g||h)c=e,h&&(b.w||(b.w=Rg(Kg,b,Kg.b,a?"."+a:"",e)),c=b.w||e),g&&"html"===e&&(c=b.w||b.J),d({wa:c,Xa:h,mb:g})}}
function uh(a,b,c){var d={},e={};sg(b,function(f){th(a,f,c,function(g){jh.call(a._element||a,g.wa)&&(g.Xa?ph(f,d):ph(f,e))})},null,!0);return{cb:e,Va:d}}
function vh(a,b,c,d){var e=Dg(b),f=Qg(e.is,e.ca),g=new RegExp("(?:^|[^.#[:])"+(b.extends?"\\"+f.slice(0,-1)+"\\]":f)+"($|[.:[\\s>+~])"),h=hh(b);e=h.H;h=h.cssBuild;var k=wh(e,d);return Og(b,e,function(l){var m="";l.v||oh(l);l.v.cssText&&(m=rh(a,l.v.cssText,c));l.cssText=m;if(!U&&!ug(l)&&l.cssText){var q=m=l.cssText;null==l.Da&&(l.Da=mg.test(m));if(l.Da)if(null==l.ka){l.ka=[];for(var H in k)q=k[H],q=q(m),m!==q&&(m=q,l.ka.push(H))}else{for(H=0;H<l.ka.length;++H)q=k[l.ka[H]],m=q(m);q=m}l.cssText=q;l.w=
l.w||l.selector;m="."+d;H=Eg(l.w);q=0;for(var C=H.length,t=void 0;q<C&&(t=H[q]);q++)H[q]=t.match(g)?t.replace(f,m):m+" "+t;l.selector=H.join(",")}},h)}function wh(a,b){a=a.b;var c={};if(!U&&a)for(var d=0,e=a[d];d<a.length;e=a[++d]){var f=e,g=b;f.l=new RegExp("\\b"+f.keyframesName+"(?!\\B|-)","g");f.a=f.keyframesName+"-"+g;f.w=f.w||f.selector;f.selector=f.w.replace(f.keyframesName,f.a);c[e.keyframesName]=xh(e)}return c}function xh(a){return function(b){return b.replace(a.l,a.a)}}
function yh(a,b){var c=zh,d=tg(a);a.textContent=qg(d,function(e){var f=e.cssText=e.parsedCssText;e.v&&e.v.cssText&&(f=f.replace(bg,"").replace(cg,""),e.cssText=rh(c,f,b))})}ca.Object.defineProperties(mh.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var zh=new mh;var Ah={},Bh=window.customElements;if(Bh&&!U&&!ig){var Ch=Bh.define;Bh.define=function(a,b,c){Ah[a]||(Ah[a]=yg(a));Ch.call(Bh,a,b,c)}};function Dh(){this.cache={}}Dh.prototype.store=function(a,b,c,d){var e=this.cache[a]||[];e.push({K:b,styleElement:c,G:d});100<e.length&&e.shift();this.cache[a]=e};function Eh(){}var Fh=new RegExp(Kg.a+"\\s*([^\\s]*)");function Gh(a){return(a=(a.classList&&a.classList.value?a.classList.value:a.getAttribute("class")||"").match(Fh))?a[1]:""}function Hh(a){var b=Cg(a).getRootNode();return b===a||b===a.ownerDocument?"":(a=b.host)?Dg(a).is:""}
function Ih(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.target!==document.documentElement&&c.target!==document.head)for(var d=0;d<c.addedNodes.length;d++){var e=c.addedNodes[d];if(e.nodeType===Node.ELEMENT_NODE){var f=e.getRootNode(),g=Gh(e);if(g&&f===e.ownerDocument&&("style"!==e.localName&&"template"!==e.localName||""===Fg(e)))Ng(e,g);else if(f instanceof ShadowRoot)for(f=Hh(e),f!==g&&Mg(e,g,f),e=window.ShadyDOM.nativeMethods.querySelectorAll.call(e,":not(."+Kg.a+")"),g=0;g<e.length;g++){f=e[g];
var h=Hh(f);h&&Lg(f,h)}}}}}
if(!(U||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Jh=new MutationObserver(Ih),Kh=function(a){Jh.observe(a,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Kh(document);else{var Lh=function(){Kh(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Lh):requestAnimationFrame(function(){if("loading"===document.readyState){var a=function(){Lh();document.removeEventListener("readystatechange",a)};document.addEventListener("readystatechange",
a)}else Lh()})}Eh=function(){Ih(Jh.takeRecords())}};var Mh={};var Nh=Promise.resolve();function Oh(a){if(a=Mh[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function Ph(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function Qh(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a._validating||(a._validating=!0,Nh.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a._validating=!1}))};var Rh={},Sh=new Dh;function X(){this.Y={};this.c=document.documentElement;var a=new Pf;a.rules=[];this.l=ih(this.c,new gh(a));this.J=!1;this.a=this.b=null}w=X.prototype;w.flush=function(){Eh()};w.Ta=function(a){return tg(a)};w.hb=function(a){return qg(a)};w.prepareTemplate=function(a,b,c){this.prepareTemplateDom(a,b);this.prepareTemplateStyles(a,b,c)};
w.prepareTemplateStyles=function(a,b,c){if(!a._prepared&&!ig){U||Ah[b]||(Ah[b]=yg(b));a._prepared=!0;a.name=b;a.extends=c;Mh[b]=a;var d=Fg(a),e=Gg(d);c={is:b,extends:c};for(var f=[],g=a.content.querySelectorAll("style"),h=0;h<g.length;h++){var k=g[h];if(k.hasAttribute("shady-unscoped")){if(!U){var l=k.textContent;if(!pg.has(l)){pg.add(l);var m=document.createElement("style");m.setAttribute("shady-unscoped","");m.textContent=l;document.head.appendChild(m)}k.parentNode.removeChild(k)}}else f.push(k.textContent),
k.parentNode.removeChild(k)}f=f.join("").trim()+(Rh[b]||"");Th(this);if(!e){if(g=!d)g=kg.test(f)||jg.test(f),kg.lastIndex=0,jg.lastIndex=0;h=Qf(f);g&&V&&this.b&&this.b.transformRules(h,b);a._styleAst=h}g=[];V||(g=nh(a._styleAst));if(!g.length||V)h=U?a.content:null,b=Ah[b]||null,d=Og(c,a._styleAst,null,d,e?f:""),d=d.length?vg(d,c.is,h,b):null,a._style=d;a.a=g}};w.ab=function(a,b){Rh[b]=a.join(" ")};
w.prepareTemplateDom=function(a,b){if(!ig){var c=Fg(a);U||"shady"===c||a._domPrepared||(a._domPrepared=!0,Ig(a.content,b))}};function Uh(a){var b=Dg(a),c=b.is;b=b.ca;var d=Ah[c]||null,e=Mh[c];if(e){c=e._styleAst;var f=e.a;e=Fg(e);b=new gh(c,d,f,b,e);ih(a,b);return b}}
function Vh(a){!a.a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(a.a=window.ShadyCSS.CustomStyleInterface,a.a.transformCallback=function(b){a.Ha(b)},a.a.validateCallback=function(){requestAnimationFrame(function(){(a.a.enqueued||a.J)&&a.flushCustomStyles()})})}function Th(a){if(!a.b&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){a.b=window.ShadyCSS.ApplyShim;a.b.invalidCallback=Oh;var b=!0}else b=!1;Vh(a);return b}
w.flushCustomStyles=function(){if(!ig){var a=Th(this);if(this.a){var b=this.a.processStyles();if((a||this.a.enqueued)&&!Gg(this.l.cssBuild)){if(V){if(!this.l.cssBuild)for(a=0;a<b.length;a++){var c=this.a.getStyleForCustomStyle(b[a]);if(c&&V&&this.b){var d=tg(c);Th(this);this.b.transformRules(d);c.textContent=qg(d)}}}else{Wh(this,b);Xh(this,this.c,this.l);for(a=0;a<b.length;a++)(c=this.a.getStyleForCustomStyle(b[a]))&&yh(c,this.l.L);this.J&&this.styleDocument()}this.a.enqueued=!1}}}};
function Wh(a,b){b=b.map(function(c){return a.a.getStyleForCustomStyle(c)}).filter(function(c){return!!c});b.sort(function(c,d){c=d.compareDocumentPosition(c);return c&Node.DOCUMENT_POSITION_FOLLOWING?1:c&Node.DOCUMENT_POSITION_PRECEDING?-1:0});a.l.H.rules=b.map(function(c){return tg(c)})}
w.styleElement=function(a,b){if(ig){if(b){hh(a)||ih(a,new gh(null));var c=hh(a);c.F=c.F||{};Object.assign(c.F,b);Yh(this,a,c)}}else if(c=hh(a)||Uh(a))if(a!==this.c&&(this.J=!0),b&&(c.F=c.F||{},Object.assign(c.F,b)),V)Yh(this,a,c);else if(this.flush(),Xh(this,a,c),c.ta&&c.ta.length){b=Dg(a).is;var d;a:{if(d=Sh.cache[b])for(var e=d.length-1;0<=e;e--){var f=d[e];b:{var g=c.ta;for(var h=0;h<g.length;h++){var k=g[h];if(f.K[k]!==c.L[k]){g=!1;break b}}g=!0}if(g){d=f;break a}}d=void 0}g=d?d.styleElement:
null;e=c.G;(f=d&&d.G)||(f=this.Y[b]=(this.Y[b]||0)+1,f=b+"-"+f);c.G=f;f=c.G;h=zh;h=g?g.textContent||"":vh(h,a,c.L,f);k=hh(a);var l=k.a;l&&!U&&l!==g&&(l._useCount--,0>=l._useCount&&l.parentNode&&l.parentNode.removeChild(l));U?k.a?(k.a.textContent=h,g=k.a):h&&(g=vg(h,f,a.shadowRoot,k.b)):g?g.parentNode||(lh&&-1<h.indexOf("@media")&&(g.textContent=h),wg(g,null,k.b)):h&&(g=vg(h,f,null,k.b));g&&(g._useCount=g._useCount||0,k.a!=g&&g._useCount++,k.a=g);f=g;U||(g=c.G,k=h=a.getAttribute("class")||"",e&&(k=
h.replace(new RegExp("\\s*x-scope\\s*"+e+"\\s*","g")," ")),k+=(k?" ":"")+"x-scope "+g,h!==k&&Bg(a,k));d||Sh.store(b,c.L,f,c.G)}};
function Yh(a,b,c){var d=Dg(b).is;if(c.F){var e=c.F,f;for(f in e)null===f?b.style.removeProperty(f):b.style.setProperty(f,e[f])}e=Mh[d];if(!(!e&&b!==a.c||e&&""!==Fg(e))&&e&&e._style&&!Ph(e)){if(Ph(e)||e._applyShimValidatingVersion!==e._applyShimNextVersion)Th(a),a.b&&a.b.transformRules(e._styleAst,d),e._style.textContent=Og(b,c.H),Qh(e);U&&(a=b.shadowRoot)&&(a=a.querySelector("style"))&&(a.textContent=Og(b,c.H));c.H=e._styleAst}}
function Zh(a,b){return(b=Cg(b).getRootNode().host)?hh(b)||Uh(b)?b:Zh(a,b):a.c}function Xh(a,b,c){var d=Zh(a,b),e=hh(d),f=e.L;d===a.c||f||(Xh(a,d,e),f=e.L);a=Object.create(f||null);d=uh(b,c.H,c.cssBuild);b=sh(e.H,b).K;Object.assign(a,d.Va,b,d.cb);b=c.F;for(var g in b)if((e=b[g])||0===e)a[g]=e;g=zh;b=Object.getOwnPropertyNames(a);for(e=0;e<b.length;e++)d=b[e],a[d]=qh(g,a[d],a);c.L=a}w.styleDocument=function(a){this.styleSubtree(this.c,a)};
w.styleSubtree=function(a,b){var c=Cg(a),d=c.shadowRoot,e=a===this.c;(d||e)&&this.styleElement(a,b);if(a=e?c:d)for(a=Array.from(a.querySelectorAll("*")).filter(function(f){return Cg(f).shadowRoot}),b=0;b<a.length;b++)this.styleSubtree(a[b])};
w.Ha=function(a){var b=this,c=Fg(a);c!==this.l.cssBuild&&(this.l.cssBuild=c);if(!Gg(c)){var d=tg(a);sg(d,function(e){if(U)fh(e);else{var f=Kg;e.selector=e.parsedSelector;fh(e);e.selector=e.w=Rg(f,e,f.c,void 0,void 0)}V&&""===c&&(Th(b),b.b&&b.b.transformRule(e))});V?a.textContent=qg(d):this.l.H.rules.push(d)}};w.getComputedStyleValue=function(a,b){var c;V||(c=(hh(a)||hh(Zh(this,a))).L[b]);return(c=c||window.getComputedStyle(a).getPropertyValue(b))?c.trim():""};
w.gb=function(a,b){var c=Cg(a).getRootNode(),d;b?d=("string"===typeof b?b:String(b)).split(/\s/):d=[];b=c.host&&c.host.localName;if(!b&&(c=a.getAttribute("class"))){c=c.split(/\s/);for(var e=0;e<c.length;e++)if(c[e]===Kg.a){b=c[e+1];break}}b&&d.push(Kg.a,b);V||(b=hh(a))&&b.G&&d.push(zh.a,b.G);Bg(a,d.join(" "))};w.Oa=function(a){return hh(a)};w.fb=function(a,b){Lg(a,b)};w.ib=function(a,b){Lg(a,b,!0)};w.eb=function(a){return Hh(a)};w.Ra=function(a){return Gh(a)};X.prototype.flush=X.prototype.flush;
X.prototype.prepareTemplate=X.prototype.prepareTemplate;X.prototype.styleElement=X.prototype.styleElement;X.prototype.styleDocument=X.prototype.styleDocument;X.prototype.styleSubtree=X.prototype.styleSubtree;X.prototype.getComputedStyleValue=X.prototype.getComputedStyleValue;X.prototype.setElementClass=X.prototype.gb;X.prototype._styleInfoForNode=X.prototype.Oa;X.prototype.transformCustomStyleForDocument=X.prototype.Ha;X.prototype.getStyleAst=X.prototype.Ta;X.prototype.styleAstToString=X.prototype.hb;
X.prototype.flushCustomStyles=X.prototype.flushCustomStyles;X.prototype.scopeNode=X.prototype.fb;X.prototype.unscopeNode=X.prototype.ib;X.prototype.scopeForNode=X.prototype.eb;X.prototype.currentScopeForNode=X.prototype.Ra;X.prototype.prepareAdoptedCssText=X.prototype.ab;Object.defineProperties(X.prototype,{nativeShadow:{get:function(){return U}},nativeCss:{get:function(){return V}}});var Y=new X,$h,ai;window.ShadyCSS&&($h=window.ShadyCSS.ApplyShim,ai=window.ShadyCSS.CustomStyleInterface);
window.ShadyCSS={ScopingShim:Y,prepareTemplate:function(a,b,c){Y.flushCustomStyles();Y.prepareTemplate(a,b,c)},prepareTemplateDom:function(a,b){Y.prepareTemplateDom(a,b)},prepareTemplateStyles:function(a,b,c){Y.flushCustomStyles();Y.prepareTemplateStyles(a,b,c)},styleSubtree:function(a,b){Y.flushCustomStyles();Y.styleSubtree(a,b)},styleElement:function(a){Y.flushCustomStyles();Y.styleElement(a)},styleDocument:function(a){Y.flushCustomStyles();Y.styleDocument(a)},flushCustomStyles:function(){Y.flushCustomStyles()},
getComputedStyleValue:function(a,b){return Y.getComputedStyleValue(a,b)},nativeCss:V,nativeShadow:U,cssBuild:hg,disableRuntime:ig};$h&&(window.ShadyCSS.ApplyShim=$h);ai&&(window.ShadyCSS.CustomStyleInterface=ai);(function(a){function b(t){""==t&&(f.call(this),this.h=!0);return t.toLowerCase()}function c(t){var F=t.charCodeAt(0);return 32<F&&127>F&&-1==[34,35,60,62,63,96].indexOf(F)?t:encodeURIComponent(t)}function d(t){var F=t.charCodeAt(0);return 32<F&&127>F&&-1==[34,35,60,62,96].indexOf(F)?t:encodeURIComponent(t)}function e(t,F,E){function M(ka){va.push(ka)}var y=F||"scheme start",W=0,v="",ua=!1,ea=!1,va=[];a:for(;(void 0!=t[W-1]||0==W)&&!this.h;){var n=t[W];switch(y){case "scheme start":if(n&&q.test(n))v+=
n.toLowerCase(),y="scheme";else if(F){M("Invalid scheme.");break a}else{v="";y="no scheme";continue}break;case "scheme":if(n&&H.test(n))v+=n.toLowerCase();else if(":"==n){this.g=v;v="";if(F)break a;void 0!==l[this.g]&&(this.A=!0);y="file"==this.g?"relative":this.A&&E&&E.g==this.g?"relative or authority":this.A?"authority first slash":"scheme data"}else if(F){void 0!=n&&M("Code point not allowed in scheme: "+n);break a}else{v="";W=0;y="no scheme";continue}break;case "scheme data":"?"==n?(this.o="?",
y="query"):"#"==n?(this.u="#",y="fragment"):void 0!=n&&"\t"!=n&&"\n"!=n&&"\r"!=n&&(this.pa+=c(n));break;case "no scheme":if(E&&void 0!==l[E.g]){y="relative";continue}else M("Missing scheme."),f.call(this),this.h=!0;break;case "relative or authority":if("/"==n&&"/"==t[W+1])y="authority ignore slashes";else{M("Expected /, got: "+n);y="relative";continue}break;case "relative":this.A=!0;"file"!=this.g&&(this.g=E.g);if(void 0==n){this.i=E.i;this.m=E.m;this.j=E.j.slice();this.o=E.o;this.s=E.s;this.f=E.f;
break a}else if("/"==n||"\\"==n)"\\"==n&&M("\\ is an invalid code point."),y="relative slash";else if("?"==n)this.i=E.i,this.m=E.m,this.j=E.j.slice(),this.o="?",this.s=E.s,this.f=E.f,y="query";else if("#"==n)this.i=E.i,this.m=E.m,this.j=E.j.slice(),this.o=E.o,this.u="#",this.s=E.s,this.f=E.f,y="fragment";else{y=t[W+1];var I=t[W+2];if("file"!=this.g||!q.test(n)||":"!=y&&"|"!=y||void 0!=I&&"/"!=I&&"\\"!=I&&"?"!=I&&"#"!=I)this.i=E.i,this.m=E.m,this.s=E.s,this.f=E.f,this.j=E.j.slice(),this.j.pop();y=
"relative path";continue}break;case "relative slash":if("/"==n||"\\"==n)"\\"==n&&M("\\ is an invalid code point."),y="file"==this.g?"file host":"authority ignore slashes";else{"file"!=this.g&&(this.i=E.i,this.m=E.m,this.s=E.s,this.f=E.f);y="relative path";continue}break;case "authority first slash":if("/"==n)y="authority second slash";else{M("Expected '/', got: "+n);y="authority ignore slashes";continue}break;case "authority second slash":y="authority ignore slashes";if("/"!=n){M("Expected '/', got: "+
n);continue}break;case "authority ignore slashes":if("/"!=n&&"\\"!=n){y="authority";continue}else M("Expected authority, got: "+n);break;case "authority":if("@"==n){ua&&(M("@ already seen."),v+="%40");ua=!0;for(n=0;n<v.length;n++)I=v[n],"\t"==I||"\n"==I||"\r"==I?M("Invalid whitespace in authority."):":"==I&&null===this.f?this.f="":(I=c(I),null!==this.f?this.f+=I:this.s+=I);v=""}else if(void 0==n||"/"==n||"\\"==n||"?"==n||"#"==n){W-=v.length;v="";y="host";continue}else v+=n;break;case "file host":if(void 0==
n||"/"==n||"\\"==n||"?"==n||"#"==n){2!=v.length||!q.test(v[0])||":"!=v[1]&&"|"!=v[1]?(0!=v.length&&(this.i=b.call(this,v),v=""),y="relative path start"):y="relative path";continue}else"\t"==n||"\n"==n||"\r"==n?M("Invalid whitespace in file host."):v+=n;break;case "host":case "hostname":if(":"!=n||ea)if(void 0==n||"/"==n||"\\"==n||"?"==n||"#"==n){this.i=b.call(this,v);v="";y="relative path start";if(F)break a;continue}else"\t"!=n&&"\n"!=n&&"\r"!=n?("["==n?ea=!0:"]"==n&&(ea=!1),v+=n):M("Invalid code point in host/hostname: "+
n);else if(this.i=b.call(this,v),v="",y="port","hostname"==F)break a;break;case "port":if(/[0-9]/.test(n))v+=n;else if(void 0==n||"/"==n||"\\"==n||"?"==n||"#"==n||F){""!=v&&(v=parseInt(v,10),v!=l[this.g]&&(this.m=v+""),v="");if(F)break a;y="relative path start";continue}else"\t"==n||"\n"==n||"\r"==n?M("Invalid code point in port: "+n):(f.call(this),this.h=!0);break;case "relative path start":"\\"==n&&M("'\\' not allowed in path.");y="relative path";if("/"!=n&&"\\"!=n)continue;break;case "relative path":if(void 0!=
n&&"/"!=n&&"\\"!=n&&(F||"?"!=n&&"#"!=n))"\t"!=n&&"\n"!=n&&"\r"!=n&&(v+=c(n));else{"\\"==n&&M("\\ not allowed in relative path.");if(I=m[v.toLowerCase()])v=I;".."==v?(this.j.pop(),"/"!=n&&"\\"!=n&&this.j.push("")):"."==v&&"/"!=n&&"\\"!=n?this.j.push(""):"."!=v&&("file"==this.g&&0==this.j.length&&2==v.length&&q.test(v[0])&&"|"==v[1]&&(v=v[0]+":"),this.j.push(v));v="";"?"==n?(this.o="?",y="query"):"#"==n&&(this.u="#",y="fragment")}break;case "query":F||"#"!=n?void 0!=n&&"\t"!=n&&"\n"!=n&&"\r"!=n&&(this.o+=
d(n)):(this.u="#",y="fragment");break;case "fragment":void 0!=n&&"\t"!=n&&"\n"!=n&&"\r"!=n&&(this.u+=n)}W++}}function f(){this.s=this.pa=this.g="";this.f=null;this.m=this.i="";this.j=[];this.u=this.o="";this.A=this.h=!1}function g(t,F){void 0===F||F instanceof g||(F=new g(String(F)));this.a=t;f.call(this);e.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,F)}var h=!1;try{var k=new URL("b","http://a");k.pathname="c%20d";h="http://a/c%20d"===k.href}catch(t){}if(!h){var l=Object.create(null);
l.ftp=21;l.file=0;l.gopher=70;l.http=80;l.https=443;l.ws=80;l.wss=443;var m=Object.create(null);m["%2e"]=".";m[".%2e"]="..";m["%2e."]="..";m["%2e%2e"]="..";var q=/[a-zA-Z]/,H=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this.h)return this.a;var t="";if(""!=this.s||null!=this.f)t=this.s+(null!=this.f?":"+this.f:"")+"@";return this.protocol+(this.A?"//"+t+this.host:"")+this.pathname+this.o+this.u},set href(t){f.call(this);e.call(this,t)},get protocol(){return this.g+
":"},set protocol(t){this.h||e.call(this,t+":","scheme start")},get host(){return this.h?"":this.m?this.i+":"+this.m:this.i},set host(t){!this.h&&this.A&&e.call(this,t,"host")},get hostname(){return this.i},set hostname(t){!this.h&&this.A&&e.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.h&&this.A&&e.call(this,t,"port")},get pathname(){return this.h?"":this.A?"/"+this.j.join("/"):this.pa},set pathname(t){!this.h&&this.A&&(this.j=[],e.call(this,t,"relative path start"))},get search(){return this.h||
!this.o||"?"==this.o?"":this.o},set search(t){!this.h&&this.A&&(this.o="?","?"==t[0]&&(t=t.slice(1)),e.call(this,t,"query"))},get hash(){return this.h||!this.u||"#"==this.u?"":this.u},set hash(t){this.h||(t?(this.u="#","#"==t[0]&&(t=t.slice(1)),e.call(this,t,"fragment")):this.u="")},get origin(){var t;if(this.h||!this.g)return"";switch(this.g){case "data":case "file":case "javascript":case "mailto":return"null"}return(t=this.host)?this.g+"://"+t:""}};var C=a.URL;C&&(g.createObjectURL=function(t){return C.createObjectURL.apply(C,
arguments)},g.revokeObjectURL=function(t){C.revokeObjectURL(t)});a.URL=g}})(window);Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var a=(this.ownerDocument||this).querySelector("base[href]");return a&&a.href||window.location.href},configurable:!0,enumerable:!0});var bi=document.createElement("style");bi.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var ci=document.querySelector("head");ci.insertBefore(bi,ci.firstChild);/*

Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var di=window.customElements,ei=!1,fi=null;di.polyfillWrapFlushCallback&&di.polyfillWrapFlushCallback(function(a){fi=a;ei&&a()});function gi(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document);fi&&fi();ei=!0;window.WebComponents.ready=!0;document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}
"complete"!==document.readyState?(window.addEventListener("load",gi),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",gi);gi()})):gi();}).call(this);



}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)

},{"timers":3}],2:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],3:[function(require,module,exports){
(function (setImmediate,clearImmediate){
var nextTick = require('process/browser.js').nextTick;
var apply = Function.prototype.apply;
var slice = Array.prototype.slice;
var immediateIds = {};
var nextImmediateId = 0;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) { timeout.close(); };

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// That's not how node.js implements it but the exposed api is the same.
exports.setImmediate = typeof setImmediate === "function" ? setImmediate : function(fn) {
  var id = nextImmediateId++;
  var args = arguments.length < 2 ? false : slice.call(arguments, 1);

  immediateIds[id] = true;

  nextTick(function onNextTick() {
    if (immediateIds[id]) {
      // fn.call() is faster so we optimize for the common use-case
      // @see http://jsperf.com/call-apply-segu
      if (args) {
        fn.apply(null, args);
      } else {
        fn.call(null);
      }
      // Prevent ids from leaking
      exports.clearImmediate(id);
    }
  });

  return id;
};

exports.clearImmediate = typeof clearImmediate === "function" ? clearImmediate : function(id) {
  delete immediateIds[id];
};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":2,"timers":3}],4:[function(require,module,exports){
"use strict";

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

    
(function () {
  //require('@webcomponents/webcomponentsjs');

  var DDGAutofill = require('./email-modules/DDGAutofill');

  var Form = require('./email-modules/Form');

  var ddgDomainRegex = new RegExp(/^https:\/\/(([a-z0-9-_]+?)\.)?duckduckgo\.com/); // Send a message to the web app (only on DDG domains)
    
    console.log("requires have run")

 var injectEmailAutofill = function injectEmailAutofill() {
    // Here we store a map of input -> button associations
    var inputButtonMap = new Map();
    var forms = new Map();
    customElements.define('ddg-autofill', DDGAutofill);

    var updateAllButtons = function updateAllButtons() {
      inputButtonMap.forEach(function (button) {
        DDGAutofill.updateButtonPosition(button);
      });
    };

    var intObs = new IntersectionObserver(function (entries) {
      var _iterator = _createForOfIteratorHelper(entries),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var entry = _step.value;
          var input = entry.target;

          if (entry.isIntersecting) {
            // If is intersecting and visible (note that `display:none` will never intersect)
            if (window.getComputedStyle(input).visibility !== 'hidden') {
              var associatedForm = forms.get(input.form) || forms.get(input);
              var button = new DDGAutofill(input, associatedForm);
              document.body.appendChild(button); // Keep track of the input->button pair

              inputButtonMap.set(input, button);
            }
          } else {
            // If it's not intersecting and we have the input stored…
            if (inputButtonMap.has(input)) {
              // …remove the button from the DOM
              inputButtonMap.get(input).remove(); // …and remove the input from the map

              inputButtonMap["delete"](input);
            }
          }
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    });
    var EMAIL_SELECTOR = "\n        input:not([type])[name*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input[type=\"\"][name*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input[type=text][name*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input:not([type])[id*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input[type=\"\"][id*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input[type=text][id*=mail i]:not([readonly]):not([disabled]):not([hidden]),\n        input[type=email]:not([readonly]):not([disabled]):not([hidden]),\n        input[aria-label*=mail i],\n        input[placeholder*=mail i]:not([readonly])\n    ";

    var findEligibleInput = function findEligibleInput(context) {
      context.querySelectorAll(EMAIL_SELECTOR).forEach(function (input) {
        var parentForm = input.form;

        if (parentForm) {
          if (forms.has(parentForm)) {
            // If we've already met the form, add the input
            forms.get(parentForm).addInput(input);
          } else {
            forms.set(parentForm, new Form(parentForm, input, intObs));
          }
        } else {
          // If input is not associated with a form, analyse the page
          forms.set(input, new Form(null, input, intObs));
        }
      });
      forms.forEach(function (formObj, formEl) {
        console.log(formEl, formObj.autofillSignal, formObj.signals);

        if (formObj.autofillSignal > 0) {
          formObj.decorateInputs();
        }
      });
    };

    findEligibleInput(document); // For all DOM mutations, search for new eligible inputs and update existing inputs positions

    var mutObs = new MutationObserver(function (mutationList) {
      var _iterator2 = _createForOfIteratorHelper(mutationList),
          _step2;

      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var mutationRecord = _step2.value;

          if (mutationRecord.type === 'childList') {
            // We query only within the context of added/removed nodes
            mutationRecord.addedNodes.forEach(function (el) {
              if (el instanceof HTMLElement) {
                window.requestIdleCallback(function () {
                  return findEligibleInput(el);
                });
              }
            });
          }

          if (mutationRecord.type === 'attributes') {
            updateAllButtons();
          }
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    });
    mutObs.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true
    });
    var resObs = new ResizeObserver(function (entries) {
      return entries.forEach(updateAllButtons);
    });
    resObs.observe(document.body); // Update the position if transitions or animations are detected just in case

    ['transitionend', 'animationend', 'load'].forEach(function (eventType) {
      return window.addEventListener(eventType, function () {
        return updateAllButtons();
      });
    });
  };

  var notifyWebApp = function notifyWebApp(message) {
      console.log("this is a test")
    if (window.origin.match(ddgDomainRegex)) {
        console.log(("email login happened"));
      window.postMessage(message, window.origin);
    }
  }; // Listen for sign in message from the ddg email page


  window.addEventListener('message', function (event) {
      console.log("message event listener")
    if (!event.origin.match(ddgDomainRegex)) return; // The web app notifies us that the user signed in

      console.log("pre adduserdata")
    if (event.data.addUserData) {
      console.log(("adduserdata"));
        window.webkit.messageHandlers["emailHandlerStoreToken"].postMessage({ token: event.data.addUserData.token, username: event.data.addUserData.userName });
      //EmailInterface.storeCredentials(event.data.addUserData.token, event.data.addUserData.userName);
    } // The web app wants to know if the user is signed in

      console.log("pre checkExtensionSignedIn")
    if (event.data.checkExtensionSignedIn) {
        console.log("checkExtensionSignedIn was true")
      //var userData = (EmailInterface.isSignedIn() == 'true');
        var userData = false;
      notifyWebApp({
        extensionSignedIn: {
          value: userData
        }
      });
    }
  }); // Check if we already have user data

    console.log(("test5432"));
  //var userData = (EmailInterface.isSignedIn() == 'true');
    var userData = false
  if (userData) {
    injectEmailAutofill();
    notifyWebApp({
      extensionSignedIn: {
        value: true
      }
    });
  }
})();

},{"./email-modules/DDGAutofill":5,"./email-modules/Form":6,"@webcomponents/webcomponentsjs":1}],5:[function(require,module,exports){
//const logo = chrome.runtime.getURL('img/ddg-logo-borderless.svg')
const logo = 'https://spreadprivacy.com/content/images/2019/01/ddg_icon_white-background-3.png'

class DDGAutofill extends HTMLElement {
    constructor (input, associatedForm) {
        super()
        const shadow = this.attachShadow({mode: 'open'})
        this.input = input
        this.associatedForm = associatedForm
        this.inputRightMargin = parseInt(getComputedStyle(this.input).paddingRight)
        this.animationFrame = null
        this.topPosition = 0
        this.leftPosition = 0

        shadow.innerHTML = `
<style>
    *, *::before, *::after {
        box-sizing: border-box;
    }
    .wrapper {
        position: absolute;
        top: 0;
        left: 0;
        width: 30px;
        height: 30px;
        padding: 0;
        transform: translateY(-50%);
        font-family: "Proxima Nova";
        z-index: 2147483647;
    }
    .trigger {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 30px;
        height: 30px;
        padding: 0;
        border: none;
        text-align: center;
        background: transparent;
        cursor: pointer;
    }
    .trigger > img {
        width: 24px;
        height: 24px;
    }
    .tooltip {
        position: absolute;
        bottom: calc(100% + 15px);
        right: calc(100% - 60px);
        width: 350px;
        max-width: calc(100vw - 25px);
        padding: 25px;
        border: 1px solid #D0D0D0;
        border-radius: 20px;
        background-color: #FFFFFF;
        font-size: 14px;
        line-height: 1.4;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        z-index: 2147483647;
    }
    .tooltip::before {
        content: "";
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        display: block;
        border-top: 12px solid #D0D0D0;
        position: absolute;
        right: 34px;
        bottom: -12px;
    }
    .tooltip::after {
        content: "";
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        display: block;
        border-top: 12px solid #FFFFFF;
        position: absolute;
        right: 34px;
        bottom: -10px;
    }
    .tooltip strong {
        margin: 0 0 4px;
        color: #333333;
        font-size: 16px;
        font-weight: bold;
        line-height: 1.3;
    }
    .tooltip p {
        margin: 4px 0 12px;
        color: #666666;
    }
    .tooltip__button-container {
        display: flex;
    }
    .tooltip__button {
        flex: 1;
        height: 40px;
        padding: 0 10px;
        background-color: #332FF3;
        color: #FFFFFF;
        border: none;
        border-radius: 10px;
        font-weight: bold;
    }
    .tooltip__button:last-child {
        margin-left: 12px;
    }
    .tooltip__button--secondary {
        background-color: #EEEEEE;
        color: #332FF3;
    }
</style>
<div class="wrapper">
    <button class="trigger"><img src="${logo}" alt="Open the DuckDuckGo autofill tooltip" /></button>
    <div class="tooltip" hidden>
        <strong>Duck.com created a private alias for you.</strong>
        <p>Emails will be sent to you as usual, and you gain an extra level of privacy.</p>
        <div class="tooltip__button-container">
            <button class="tooltip__button tooltip__button--secondary js-dismiss">Don’t use</button>
            <button class="tooltip__button tooltip__button--primary js-confirm">Use Private Alias</button>
        </div>
    </div>
</div>`
        this.wrapper = shadow.querySelector('.wrapper')
        this.trigger = shadow.querySelector('.trigger')
        this.tooltip = shadow.querySelector('.tooltip')
        this.dismissButton = shadow.querySelector('.js-dismiss')
        this.confirmButton = shadow.querySelector('.js-confirm')
    }

    static updateButtonPosition (el) {
        if (el.animationFrame) {
            window.cancelAnimationFrame(el.animationFrame)
        }

        el.animationFrame = window.requestAnimationFrame(() => {
            const {right, top, height} = el.input.getBoundingClientRect()
            const currentTop = `${top + window.scrollY + height / 2}px`
            const currentLeft = `${right + window.scrollX - 30 - el.inputRightMargin}px`

            if (currentTop !== el.topPosition) {
                el.wrapper.style.top = currentTop
                el.topPosition = currentTop
            }
            if (currentLeft !== el.leftPosition) {
                el.wrapper.style.left = currentLeft
                el.leftPosition = currentLeft
            }

            el.animationFrame = null
        })
    }

    connectedCallback () {
        DDGAutofill.updateButtonPosition(this)

        this.showTooltip = () => {
            if (!this.tooltip.hidden) {
                return
            }
            this.tooltip.hidden = false
            window.addEventListener('click', this.hideTooltip)
        }
        this.hideTooltip = (e) => {
            if (e && (e.target === this.input || e.target === this)) {
                return
            }
            if (this.tooltip.hidden) {
                return
            }
            this.tooltip.hidden = true
            window.removeEventListener('click', this.hideTooltip)
        }
        this.execOnInputs = (fn) => {
            this.associatedForm.relevantInputs.forEach(fn)
        }
        this.areAllInputsEmpty = () => {
            let allEmpty = true
            this.execOnInputs(input => {
                if (input.value) allEmpty = false
            })
            return allEmpty
        }
        this.autofillInputs = () => {
            console.log("autofill inputs is running now")
//            var data = EmailInterface.getAlias();
//            var userData = JSON.parse(data)
//            if (userData.nextAlias) {
//                this.execOnInputs(input => {
//                    input.value = userData.nextAlias
//                    input.style.backgroundColor = '#F8F498'
//                    input.style.color = '#333333'
//
//                    // If the user changes the alias, remove the decoration
//                    input.addEventListener('input', () => {
//                        this.execOnInputs(input => {
//                            input.style.removeProperty('background-color')
//                            input.style.removeProperty('color')
//                        })
//                    }, {once: true})
//                })
//            }
        }
        this.resetInputs = () => {
            this.execOnInputs(input => {
                input.value = ''
                input.style.removeProperty('background-color')
                input.style.removeProperty('color')
            })
        }

        this.input.addEventListener('focus', () => {
            if (this.areAllInputsEmpty()) {
                this.autofillInputs()
                this.showTooltip()
            }
        }, {once: true})

        this.trigger.addEventListener('click', () => {
            this.showTooltip()
        })
        this.dismissButton.addEventListener('click', (e) => {
            e.stopImmediatePropagation()
            this.resetInputs()
            this.hideTooltip()
        })
        this.confirmButton.addEventListener('click', (e) => {
            e.stopImmediatePropagation()
            this.autofillInputs()
            this.hideTooltip()
        })
    }
}

module.exports = DDGAutofill

},{}],6:[function(require,module,exports){
"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Form = /*#__PURE__*/function () {
  function Form(form, input, intObs) {
    _classCallCheck(this, Form);

    this.form = form;
    this.intObs = intObs;
    this.relevantInputs = new Set();
    this.addInput(input);
    this.autofillSignal = 0;
    this.signals = [];
    this.evaluateElAttributes(input, 3, true);
    form ? this.evaluateForm() : this.evaluatePage();
    return this;
  }

  _createClass(Form, [{
    key: "addInput",
    value: function addInput(input) {
      this.relevantInputs.add(input);
      return this;
    }
  }, {
    key: "decorateInputs",
    value: function decorateInputs() {
      var _this = this;

      window.requestAnimationFrame(function () {
        _this.relevantInputs.forEach(function (input) {
          input.setAttribute('data-ddg-autofill', 'true');

          _this.intObs.observe(input);
        });
      });
      return this;
    }
  }, {
    key: "increaseSignalBy",
    value: function increaseSignalBy(strength, signal) {
      this.autofillSignal += strength;
      this.signals.push("".concat(signal, ": +").concat(strength));
      return this;
    }
  }, {
    key: "decreaseSignalBy",
    value: function decreaseSignalBy(strength, signal) {
      this.autofillSignal -= strength;
      this.signals.push("".concat(signal, ": -").concat(strength));
      return this;
    }
  }, {
    key: "updateSignal",
    value: function updateSignal(_ref) {
      var string = _ref.string,
          strength = _ref.strength,
          _ref$signalType = _ref.signalType,
          signalType = _ref$signalType === void 0 ? 'generic' : _ref$signalType,
          _ref$shouldFlip = _ref.shouldFlip,
          shouldFlip = _ref$shouldFlip === void 0 ? false : _ref$shouldFlip,
          _ref$shouldCheckUnifi = _ref.shouldCheckUnifiedForm,
          shouldCheckUnifiedForm = _ref$shouldCheckUnifi === void 0 ? false : _ref$shouldCheckUnifi,
          _ref$shouldBeConserva = _ref.shouldBeConservative,
          shouldBeConservative = _ref$shouldBeConserva === void 0 ? false : _ref$shouldBeConserva;
      var loginRegex = new RegExp(/sign(ing)?.?in(?!g)|log.?in/i);
      var signupRegex = new RegExp(/sign(ing)?.?up|join|regist(er|ration)|newsletter|subscri(be|ption)|contact|create|start/i);
      var conservativeSignupRegex = new RegExp(/sign.?up|join|register|newsletter|subscri(be|ption)/i);
      var strictSignupRegex = new RegExp(/sign.?up|join|register/i);
      var loginMatches = string.match(loginRegex); // Check explicitly for unified login/signup forms. They should always be negative, so we increase signal

      if (shouldCheckUnifiedForm && loginMatches && string.match(strictSignupRegex)) {
        this.decreaseSignalBy(strength + 2, "Unified detected ".concat(signalType));
        return this;
      }

      var signupMatches = string.match(shouldBeConservative ? conservativeSignupRegex : signupRegex); // In some cases a login match means the login is somewhere else, i.e. when a link points outside

      if (shouldFlip) {
        if (loginMatches) this.increaseSignalBy(strength, signalType);
        if (signupMatches) this.decreaseSignalBy(strength, signalType);
      } else {
        if (loginMatches) this.decreaseSignalBy(strength, signalType);
        if (signupMatches) this.increaseSignalBy(strength, signalType);
      }

      return this;
    }
  }, {
    key: "evaluateElAttributes",
    value: function evaluateElAttributes(el) {
      var _this2 = this;

      var signalStrength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;
      var isInput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      Array.from(el.attributes).forEach(function (attr) {
        var attributeString = "".concat(attr.nodeName, "=").concat(attr.nodeValue);

        _this2.updateSignal({
          string: attributeString,
          strength: signalStrength,
          signalType: "".concat(el.nodeName, " attr: ").concat(attributeString),
          shouldCheckUnifiedForm: isInput
        });
      });
    }
  }, {
    key: "evaluatePageTitle",
    value: function evaluatePageTitle() {
      var pageTitle = document.title;
      this.updateSignal({
        string: pageTitle,
        strength: 2,
        signalType: "page title: ".concat(pageTitle)
      });
    }
  }, {
    key: "evaluatePageHeadings",
    value: function evaluatePageHeadings() {
      var _this3 = this;

      var headings = document.querySelectorAll('h1, h2, h3');

      if (headings) {
        headings.forEach(function (_ref2) {
          var innerText = _ref2.innerText;

          _this3.updateSignal({
            string: innerText,
            strength: 0.5,
            signalType: "heading: ".concat(innerText),
            shouldCheckUnifiedForm: true,
            shouldBeConservative: true
          });
        });
      }
    }
  }, {
    key: "evaluatePage",
    value: function evaluatePage() {
      var _this4 = this;

      this.evaluatePageTitle();
      this.evaluatePageHeadings(); // Check for submit buttons

      var buttons = document.querySelectorAll("\n                button[type=submit],\n                button:not([type]),\n                [role=button]\n            ");
      buttons.forEach(function (button) {
        // if the button has a form, it's not related to our input, because our input has no form here
        if (!button.form && !button.closest('form')) {
          _this4.evaluateElAttributes(button, 0.5);
        }
      });
    }
  }, {
    key: "getText",
    value: function getText(el) {
      // for buttons, we don't care about descendants, just get the whole text as is
      // this is important in order to give proper attribution of the text to the button
      if (el.nodeName.toUpperCase() === 'BUTTON') return el.innerText;
      if (el.nodeName.toUpperCase() === 'INPUT' && ['submit', 'button'].includes(el.type)) return el.value;
      return Array.from(el.childNodes).reduce(function (text, child) {
        return child.nodeName === '#text' ? text + ' ' + child.textContent : text;
      }, '');
    }
  }, {
    key: "evaluateElement",
    value: function evaluateElement(el) {
      var string = this.getText(el); // check button contents

      if (el.nodeName.toUpperCase() === 'INPUT' && ['submit', 'button'].includes(el.type) || el.nodeName.toUpperCase() === 'BUTTON' && el.type === 'submit' || (el.getAttribute('role') || '').toUpperCase() === 'BUTTON') {
        this.updateSignal({
          string: string,
          strength: 2,
          signalType: "submit: ".concat(string)
        });
      } // if a link points to relevant urls or contain contents outside the page…


      if (el.nodeName === 'A' && el.href && el.href !== '#' || (el.getAttribute('role') || '').toUpperCase() === 'LINK') {
        // …and matches one of the regexes, we assume the match is not pertinent to the current form
        this.updateSignal({
          string: string,
          strength: 1,
          signalType: "external link: ".concat(string),
          shouldFlip: true
        });
      } else {
        // any other case
        this.updateSignal({
          string: string,
          strength: 1,
          signalType: "generic: ".concat(string),
          shouldCheckUnifiedForm: true
        });
      }
    }
  }, {
    key: "evaluateForm",
    value: function evaluateForm() {
      var _this5 = this;

      // Check page title
      this.evaluatePageTitle(); // Check form attributes

      this.evaluateElAttributes(this.form); // Check form contents (skip select and option because they contain too much noise)

      this.form.querySelectorAll('*:not(select):not(option)').forEach(function (el) {
        return _this5.evaluateElement(el);
      }); // If we can't decide at this point, try reading page headings

      if (this.autofillSignal === 0) {
        this.evaluatePageHeadings();
      }

      return this;
    }
  }]);

  return Form;
}();

module.exports = Form;

},{}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMtYnVuZGxlLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwic2hhcmVkL2pzL2NvbnRlbnQtc2NyaXB0cy9lbWFpbC1hdXRvZmlsbC5qcyIsInNoYXJlZC9qcy9jb250ZW50LXNjcmlwdHMvZW1haWwtbW9kdWxlcy9EREdBdXRvZmlsbC5qcyIsInNoYXJlZC9qcy9jb250ZW50LXNjcmlwdHMvZW1haWwtbW9kdWxlcy9Gb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMxVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDeExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMzRUEsQ0FBQyxZQUFNO0FBQ0gsRUFBQSxPQUFPLENBQUMsZ0NBQUQsQ0FBUDs7QUFDQSxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsNkJBQUQsQ0FBM0I7O0FBQ0EsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLHNCQUFELENBQXBCOztBQUVBLE1BQU0sY0FBYyxHQUFHLElBQUksTUFBSixDQUFXLCtDQUFYLENBQXZCLENBTEcsQ0FPSDs7QUFDQSxNQUFNLFlBQVksR0FBRyxTQUFmLFlBQWUsQ0FBQyxPQUFELEVBQWE7QUFDOUIsUUFBSSxNQUFNLENBQUMsTUFBUCxDQUFjLEtBQWQsQ0FBb0IsY0FBcEIsQ0FBSixFQUF5QztBQUNyQyxNQUFBLE1BQU0sQ0FBQyxXQUFQLENBQW1CLE9BQW5CLEVBQTRCLE1BQU0sQ0FBQyxNQUFuQztBQUNIO0FBQ0osR0FKRCxDQVJHLENBY0g7OztBQUNBLEVBQUEsTUFBTSxDQUFDLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLFVBQUMsS0FBRCxFQUFXO0FBQzFDLFFBQUksQ0FBQyxLQUFLLENBQUMsTUFBTixDQUFhLEtBQWIsQ0FBbUIsY0FBbkIsQ0FBTCxFQUF5QyxPQURDLENBRzFDOztBQUNBLFFBQUksS0FBSyxDQUFDLElBQU4sQ0FBVyxXQUFmLEVBQTRCO0FBQ3hCLE1BQUEsTUFBTSxDQUFDLE9BQVAsQ0FBZSxXQUFmLENBQTJCLEtBQUssQ0FBQyxJQUFqQyxFQUF1QyxVQUFDLEdBQUQsRUFBUztBQUM1QyxRQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksd0JBQVosRUFBc0MsR0FBdEM7QUFDSCxPQUZEO0FBR0gsS0FSeUMsQ0FVMUM7OztBQUNBLFFBQUksS0FBSyxDQUFDLElBQU4sQ0FBVyxzQkFBZixFQUF1QztBQUNuQyxNQUFBLE1BQU0sQ0FBQyxPQUFQLENBQWUsV0FBZixDQUEyQjtBQUFDLFFBQUEsVUFBVSxFQUFFO0FBQUMsVUFBQSxJQUFJLEVBQUU7QUFBUDtBQUFiLE9BQTNCLEVBQTZELFVBQUEsUUFBUSxFQUFJO0FBQ3JFLFFBQUEsWUFBWSxDQUFDO0FBQUMsVUFBQSxpQkFBaUIsRUFBRTtBQUFDLFlBQUEsS0FBSyxFQUFFLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFBN0I7QUFBcEIsU0FBRCxDQUFaO0FBQ0gsT0FGRDtBQUdIO0FBQ0osR0FoQkQsRUFmRyxDQWlDSDs7QUFDQSxFQUFBLE1BQU0sQ0FBQyxPQUFQLENBQWUsV0FBZixDQUEyQjtBQUFDLElBQUEsVUFBVSxFQUFFO0FBQUMsTUFBQSxJQUFJLEVBQUU7QUFBUDtBQUFiLEdBQTNCLEVBQTZELFVBQUEsUUFBUSxFQUFJO0FBQ3JFLFFBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxTQUF6QixFQUFvQztBQUNoQyxNQUFBLG1CQUFtQjtBQUNuQixNQUFBLFlBQVksQ0FBQztBQUFDLFFBQUEsaUJBQWlCLEVBQUU7QUFBQyxVQUFBLEtBQUssRUFBRTtBQUFSO0FBQXBCLE9BQUQsQ0FBWjtBQUNILEtBSEQsTUFHTztBQUNIO0FBQ0EsTUFBQSxZQUFZLENBQUM7QUFBQyxRQUFBLGtCQUFrQixFQUFFO0FBQXJCLE9BQUQsQ0FBWixDQUZHLENBR0g7O0FBQ0EsTUFBQSxNQUFNLENBQUMsT0FBUCxDQUFlLFNBQWYsQ0FBeUIsV0FBekIsQ0FBcUMsVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0RCxZQUFJLE1BQU0sQ0FBQyxFQUFQLEtBQWMsTUFBTSxDQUFDLE9BQVAsQ0FBZSxFQUE3QixJQUFtQyxPQUFPLENBQUMsSUFBUixLQUFpQixjQUF4RCxFQUF3RTtBQUNwRSxVQUFBLFlBQVksQ0FBQztBQUFDLFlBQUEsaUJBQWlCLEVBQUU7QUFBQyxjQUFBLEtBQUssRUFBRTtBQUFSO0FBQXBCLFdBQUQsQ0FBWjtBQUNBLFVBQUEsbUJBQW1CO0FBQ3RCO0FBQ0osT0FMRDtBQU1IO0FBQ0osR0FmRDs7QUFpQkEsTUFBTSxtQkFBbUIsR0FBRyxTQUF0QixtQkFBc0IsR0FBTTtBQUM5QjtBQUNBLFFBQU0sY0FBYyxHQUFHLElBQUksR0FBSixFQUF2QjtBQUNBLFFBQU0sS0FBSyxHQUFHLElBQUksR0FBSixFQUFkO0FBRUEsSUFBQSxjQUFjLENBQUMsTUFBZixDQUFzQixjQUF0QixFQUFzQyxXQUF0Qzs7QUFFQSxRQUFNLGdCQUFnQixHQUFHLFNBQW5CLGdCQUFtQixHQUFNO0FBQzNCLE1BQUEsY0FBYyxDQUFDLE9BQWYsQ0FBdUIsVUFBQyxNQUFELEVBQVk7QUFDL0IsUUFBQSxXQUFXLENBQUMsb0JBQVosQ0FBaUMsTUFBakM7QUFDSCxPQUZEO0FBR0gsS0FKRDs7QUFNQSxRQUFNLE1BQU0sR0FBRyxJQUFJLG9CQUFKLENBQXlCLFVBQUEsT0FBTyxFQUFJO0FBQUEsaURBQzNCLE9BRDJCO0FBQUE7O0FBQUE7QUFDL0MsNERBQTZCO0FBQUEsY0FBbEIsS0FBa0I7QUFDekIsY0FBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQXBCOztBQUNBLGNBQUksS0FBSyxDQUFDLGNBQVYsRUFBMEI7QUFDdEI7QUFDQSxnQkFBSSxNQUFNLENBQUMsZ0JBQVAsQ0FBd0IsS0FBeEIsRUFBK0IsVUFBL0IsS0FBOEMsUUFBbEQsRUFBNEQ7QUFDeEQsa0JBQU0sY0FBYyxHQUFHLEtBQUssQ0FBQyxHQUFOLENBQVUsS0FBSyxDQUFDLElBQWhCLEtBQXlCLEtBQUssQ0FBQyxHQUFOLENBQVUsS0FBVixDQUFoRDtBQUNBLGtCQUFNLE1BQU0sR0FBRyxJQUFJLFdBQUosQ0FBZ0IsS0FBaEIsRUFBdUIsY0FBdkIsQ0FBZjtBQUNBLGNBQUEsUUFBUSxDQUFDLElBQVQsQ0FBYyxXQUFkLENBQTBCLE1BQTFCLEVBSHdELENBSXhEOztBQUNBLGNBQUEsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsS0FBbkIsRUFBMEIsTUFBMUI7QUFDSDtBQUNKLFdBVEQsTUFTTztBQUNIO0FBQ0EsZ0JBQUksY0FBYyxDQUFDLEdBQWYsQ0FBbUIsS0FBbkIsQ0FBSixFQUErQjtBQUMzQjtBQUNBLGNBQUEsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsS0FBbkIsRUFBMEIsTUFBMUIsR0FGMkIsQ0FHM0I7O0FBQ0EsY0FBQSxjQUFjLFVBQWQsQ0FBc0IsS0FBdEI7QUFDSDtBQUNKO0FBQ0o7QUFyQjhDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQmxELEtBdEJjLENBQWY7QUF3QkEsUUFBTSxjQUFjLG1yQkFBcEI7O0FBWUEsUUFBTSxpQkFBaUIsR0FBRyxTQUFwQixpQkFBb0IsQ0FBQSxPQUFPLEVBQUk7QUFDakMsTUFBQSxPQUFPLENBQUMsZ0JBQVIsQ0FBeUIsY0FBekIsRUFDSyxPQURMLENBQ2EsVUFBQSxLQUFLLEVBQUk7QUFDZCxZQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsSUFBekI7O0FBQ0EsWUFBSSxVQUFKLEVBQWdCO0FBQ1osY0FBSSxLQUFLLENBQUMsR0FBTixDQUFVLFVBQVYsQ0FBSixFQUEyQjtBQUN2QjtBQUNBLFlBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBVSxVQUFWLEVBQXNCLFFBQXRCLENBQStCLEtBQS9CO0FBQ0gsV0FIRCxNQUdPO0FBQ0gsWUFBQSxLQUFLLENBQUMsR0FBTixDQUFVLFVBQVYsRUFBc0IsSUFBSSxJQUFKLENBQVMsVUFBVCxFQUFxQixLQUFyQixFQUE0QixNQUE1QixDQUF0QjtBQUNIO0FBQ0osU0FQRCxNQU9PO0FBQ0g7QUFDQSxVQUFBLEtBQUssQ0FBQyxHQUFOLENBQVUsS0FBVixFQUFpQixJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsS0FBZixFQUFzQixNQUF0QixDQUFqQjtBQUNIO0FBQ0osT0FkTDtBQWVBLE1BQUEsS0FBSyxDQUFDLE9BQU4sQ0FBYyxVQUFDLE9BQUQsRUFBVSxNQUFWLEVBQXFCO0FBQy9CLFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLE9BQU8sQ0FBQyxjQUE1QixFQUE0QyxPQUFPLENBQUMsT0FBcEQ7O0FBQ0EsWUFBSSxPQUFPLENBQUMsY0FBUixHQUF5QixDQUE3QixFQUFnQztBQUM1QixVQUFBLE9BQU8sQ0FBQyxjQUFSO0FBQ0g7QUFDSixPQUxEO0FBTUgsS0F0QkQ7O0FBd0JBLElBQUEsaUJBQWlCLENBQUMsUUFBRCxDQUFqQixDQXpFOEIsQ0EyRTlCOztBQUNBLFFBQU0sTUFBTSxHQUFHLElBQUksZ0JBQUosQ0FBcUIsVUFBQyxZQUFELEVBQWtCO0FBQUEsa0RBQ3JCLFlBRHFCO0FBQUE7O0FBQUE7QUFDbEQsK0RBQTJDO0FBQUEsY0FBaEMsY0FBZ0M7O0FBQ3ZDLGNBQUksY0FBYyxDQUFDLElBQWYsS0FBd0IsV0FBNUIsRUFBeUM7QUFDckM7QUFDQSxZQUFBLGNBQWMsQ0FBQyxVQUFmLENBQTBCLE9BQTFCLENBQWtDLFVBQUEsRUFBRSxFQUFJO0FBQ3BDLGtCQUFJLEVBQUUsWUFBWSxXQUFsQixFQUErQjtBQUMzQixnQkFBQSxNQUFNLENBQUMsbUJBQVAsQ0FBMkI7QUFBQSx5QkFDdkIsaUJBQWlCLENBQUMsRUFBRCxDQURNO0FBQUEsaUJBQTNCO0FBR0g7QUFDSixhQU5EO0FBT0g7O0FBRUQsY0FBSSxjQUFjLENBQUMsSUFBZixLQUF3QixZQUE1QixFQUEwQztBQUN0QyxZQUFBLGdCQUFnQjtBQUNuQjtBQUNKO0FBaEJpRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJyRCxLQWpCYyxDQUFmO0FBa0JBLElBQUEsTUFBTSxDQUFDLE9BQVAsQ0FBZSxRQUFRLENBQUMsSUFBeEIsRUFBOEI7QUFBQyxNQUFBLFNBQVMsRUFBRSxJQUFaO0FBQWtCLE1BQUEsT0FBTyxFQUFFLElBQTNCO0FBQWlDLE1BQUEsVUFBVSxFQUFFO0FBQTdDLEtBQTlCO0FBRUEsUUFBTSxNQUFNLEdBQUcsSUFBSSxjQUFKLENBQW1CLFVBQUEsT0FBTztBQUFBLGFBQUksT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsZ0JBQWhCLENBQUo7QUFBQSxLQUExQixDQUFmO0FBQ0EsSUFBQSxNQUFNLENBQUMsT0FBUCxDQUFlLFFBQVEsQ0FBQyxJQUF4QixFQWpHOEIsQ0FtRzlCOztBQUNBLEtBQUMsZUFBRCxFQUFrQixjQUFsQixFQUFrQyxNQUFsQyxFQUEwQyxPQUExQyxDQUNJLFVBQUEsU0FBUztBQUFBLGFBQUksTUFBTSxDQUFDLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DO0FBQUEsZUFBTSxnQkFBZ0IsRUFBdEI7QUFBQSxPQUFuQyxDQUFKO0FBQUEsS0FEYjtBQUdILEdBdkdEO0FBd0dILENBM0pEOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0lDOU9NLEk7QUFDRixnQkFBYSxJQUFiLEVBQW1CLEtBQW5CLEVBQTBCLE1BQTFCLEVBQWtDO0FBQUE7O0FBQzlCLFNBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0EsU0FBSyxjQUFMLEdBQXNCLElBQUksR0FBSixFQUF0QjtBQUNBLFNBQUssUUFBTCxDQUFjLEtBQWQ7QUFDQSxTQUFLLGNBQUwsR0FBc0IsQ0FBdEI7QUFDQSxTQUFLLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBSyxvQkFBTCxDQUEwQixLQUExQixFQUFpQyxDQUFqQyxFQUFvQyxJQUFwQztBQUNBLElBQUEsSUFBSSxHQUFHLEtBQUssWUFBTCxFQUFILEdBQXlCLEtBQUssWUFBTCxFQUE3QjtBQUNBLFdBQU8sSUFBUDtBQUNIOzs7OzZCQUVTLEssRUFBTztBQUNiLFdBQUssY0FBTCxDQUFvQixHQUFwQixDQUF3QixLQUF4QjtBQUNBLGFBQU8sSUFBUDtBQUNIOzs7cUNBRWlCO0FBQUE7O0FBQ2QsTUFBQSxNQUFNLENBQUMscUJBQVAsQ0FBNkIsWUFBTTtBQUMvQixRQUFBLEtBQUksQ0FBQyxjQUFMLENBQW9CLE9BQXBCLENBQTRCLFVBQUEsS0FBSyxFQUFJO0FBQ2pDLFVBQUEsS0FBSyxDQUFDLFlBQU4sQ0FBbUIsbUJBQW5CLEVBQXdDLE1BQXhDOztBQUVBLFVBQUEsS0FBSSxDQUFDLE1BQUwsQ0FBWSxPQUFaLENBQW9CLEtBQXBCO0FBQ0gsU0FKRDtBQUtILE9BTkQ7QUFPQSxhQUFPLElBQVA7QUFDSDs7O3FDQUVpQixRLEVBQVUsTSxFQUFRO0FBQ2hDLFdBQUssY0FBTCxJQUF1QixRQUF2QjtBQUNBLFdBQUssT0FBTCxDQUFhLElBQWIsV0FBcUIsTUFBckIsZ0JBQWlDLFFBQWpDO0FBQ0EsYUFBTyxJQUFQO0FBQ0g7OztxQ0FFaUIsUSxFQUFVLE0sRUFBUTtBQUNoQyxXQUFLLGNBQUwsSUFBdUIsUUFBdkI7QUFDQSxXQUFLLE9BQUwsQ0FBYSxJQUFiLFdBQXFCLE1BQXJCLGdCQUFpQyxRQUFqQztBQUNBLGFBQU8sSUFBUDtBQUNIOzs7dUNBU0U7QUFBQSxVQU5DLE1BTUQsUUFOQyxNQU1EO0FBQUEsVUFMQyxRQUtELFFBTEMsUUFLRDtBQUFBLGlDQUpDLFVBSUQ7QUFBQSxVQUpDLFVBSUQsZ0NBSmMsU0FJZDtBQUFBLGlDQUhDLFVBR0Q7QUFBQSxVQUhDLFVBR0QsZ0NBSGMsS0FHZDtBQUFBLHVDQUZDLHNCQUVEO0FBQUEsVUFGQyxzQkFFRCxzQ0FGMEIsS0FFMUI7QUFBQSx1Q0FEQyxvQkFDRDtBQUFBLFVBREMsb0JBQ0Qsc0NBRHdCLEtBQ3hCO0FBQ0MsVUFBTSxVQUFVLEdBQUcsSUFBSSxNQUFKLENBQVcsOEJBQVgsQ0FBbkI7QUFDQSxVQUFNLFdBQVcsR0FBRyxJQUFJLE1BQUosQ0FDaEIsMEZBRGdCLENBQXBCO0FBR0EsVUFBTSx1QkFBdUIsR0FBRyxJQUFJLE1BQUosQ0FBVyxzREFBWCxDQUFoQztBQUNBLFVBQU0saUJBQWlCLEdBQUcsSUFBSSxNQUFKLENBQVcseUJBQVgsQ0FBMUI7QUFDQSxVQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsS0FBUCxDQUFhLFVBQWIsQ0FBckIsQ0FQRCxDQVNDOztBQUNBLFVBQUksc0JBQXNCLElBQUksWUFBMUIsSUFBMEMsTUFBTSxDQUFDLEtBQVAsQ0FBYSxpQkFBYixDQUE5QyxFQUErRTtBQUMzRSxhQUFLLGdCQUFMLENBQXNCLFFBQVEsR0FBRyxDQUFqQyw2QkFBd0QsVUFBeEQ7QUFDQSxlQUFPLElBQVA7QUFDSDs7QUFFRCxVQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsS0FBUCxDQUFhLG9CQUFvQixHQUFHLHVCQUFILEdBQTZCLFdBQTlELENBQXRCLENBZkQsQ0FpQkM7O0FBQ0EsVUFBSSxVQUFKLEVBQWdCO0FBQ1osWUFBSSxZQUFKLEVBQWtCLEtBQUssZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsVUFBaEM7QUFDbEIsWUFBSSxhQUFKLEVBQW1CLEtBQUssZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsVUFBaEM7QUFDdEIsT0FIRCxNQUdPO0FBQ0gsWUFBSSxZQUFKLEVBQWtCLEtBQUssZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsVUFBaEM7QUFDbEIsWUFBSSxhQUFKLEVBQW1CLEtBQUssZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsVUFBaEM7QUFDdEI7O0FBQ0QsYUFBTyxJQUFQO0FBQ0g7Ozt5Q0FFcUIsRSxFQUF5QztBQUFBOztBQUFBLFVBQXJDLGNBQXFDLHVFQUFwQixDQUFvQjtBQUFBLFVBQWpCLE9BQWlCLHVFQUFQLEtBQU87QUFDM0QsTUFBQSxLQUFLLENBQUMsSUFBTixDQUFXLEVBQUUsQ0FBQyxVQUFkLEVBQTBCLE9BQTFCLENBQWtDLFVBQUEsSUFBSSxFQUFJO0FBQ3RDLFlBQU0sZUFBZSxhQUFNLElBQUksQ0FBQyxRQUFYLGNBQXVCLElBQUksQ0FBQyxTQUE1QixDQUFyQjs7QUFDQSxRQUFBLE1BQUksQ0FBQyxZQUFMLENBQWtCO0FBQ2QsVUFBQSxNQUFNLEVBQUUsZUFETTtBQUVkLFVBQUEsUUFBUSxFQUFFLGNBRkk7QUFHZCxVQUFBLFVBQVUsWUFBSyxFQUFFLENBQUMsUUFBUixvQkFBMEIsZUFBMUIsQ0FISTtBQUlkLFVBQUEsc0JBQXNCLEVBQUU7QUFKVixTQUFsQjtBQU1ILE9BUkQ7QUFTSDs7O3dDQUVvQjtBQUNqQixVQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBM0I7QUFDQSxXQUFLLFlBQUwsQ0FBa0I7QUFBQyxRQUFBLE1BQU0sRUFBRSxTQUFUO0FBQW9CLFFBQUEsUUFBUSxFQUFFLENBQTlCO0FBQWlDLFFBQUEsVUFBVSx3QkFBaUIsU0FBakI7QUFBM0MsT0FBbEI7QUFDSDs7OzJDQUV1QjtBQUFBOztBQUNwQixVQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsWUFBMUIsQ0FBakI7O0FBQ0EsVUFBSSxRQUFKLEVBQWM7QUFDVixRQUFBLFFBQVEsQ0FBQyxPQUFULENBQWlCLGlCQUFpQjtBQUFBLGNBQWYsU0FBZSxTQUFmLFNBQWU7O0FBQzlCLFVBQUEsTUFBSSxDQUFDLFlBQUwsQ0FBa0I7QUFDZCxZQUFBLE1BQU0sRUFBRSxTQURNO0FBRWQsWUFBQSxRQUFRLEVBQUUsR0FGSTtBQUdkLFlBQUEsVUFBVSxxQkFBYyxTQUFkLENBSEk7QUFJZCxZQUFBLHNCQUFzQixFQUFFLElBSlY7QUFLZCxZQUFBLG9CQUFvQixFQUFFO0FBTFIsV0FBbEI7QUFPSCxTQVJEO0FBU0g7QUFDSjs7O21DQUVlO0FBQUE7O0FBQ1osV0FBSyxpQkFBTDtBQUNBLFdBQUssb0JBQUwsR0FGWSxDQUdaOztBQUNBLFVBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxnQkFBVCw0SEFBaEI7QUFLQSxNQUFBLE9BQU8sQ0FBQyxPQUFSLENBQWdCLFVBQUEsTUFBTSxFQUFJO0FBQ3RCO0FBQ0EsWUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFSLElBQWdCLENBQUMsTUFBTSxDQUFDLE9BQVAsQ0FBZSxNQUFmLENBQXJCLEVBQTZDO0FBQ3pDLFVBQUEsTUFBSSxDQUFDLG9CQUFMLENBQTBCLE1BQTFCLEVBQWtDLEdBQWxDO0FBQ0g7QUFDSixPQUxEO0FBTUg7Ozs0QkFFUSxFLEVBQUk7QUFDVDtBQUNBO0FBQ0EsVUFBSSxFQUFFLENBQUMsUUFBSCxDQUFZLFdBQVosT0FBOEIsUUFBbEMsRUFBNEMsT0FBTyxFQUFFLENBQUMsU0FBVjtBQUU1QyxVQUFJLEVBQUUsQ0FBQyxRQUFILENBQVksV0FBWixPQUE4QixPQUE5QixJQUF5QyxDQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXFCLFFBQXJCLENBQThCLEVBQUUsQ0FBQyxJQUFqQyxDQUE3QyxFQUFxRixPQUFPLEVBQUUsQ0FBQyxLQUFWO0FBRXJGLGFBQU8sS0FBSyxDQUFDLElBQU4sQ0FBVyxFQUFFLENBQUMsVUFBZCxFQUEwQixNQUExQixDQUFpQyxVQUFDLElBQUQsRUFBTyxLQUFQO0FBQUEsZUFDcEMsS0FBSyxDQUFDLFFBQU4sS0FBbUIsT0FBbkIsR0FBNkIsSUFBSSxHQUFHLEdBQVAsR0FBYSxLQUFLLENBQUMsV0FBaEQsR0FBOEQsSUFEMUI7QUFBQSxPQUFqQyxFQUNpRSxFQURqRSxDQUFQO0FBRUg7OztvQ0FFZ0IsRSxFQUFJO0FBQ2pCLFVBQU0sTUFBTSxHQUFHLEtBQUssT0FBTCxDQUFhLEVBQWIsQ0FBZixDQURpQixDQUdqQjs7QUFDQSxVQUNLLEVBQUUsQ0FBQyxRQUFILENBQVksV0FBWixPQUE4QixPQUE5QixJQUF5QyxDQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXFCLFFBQXJCLENBQThCLEVBQUUsQ0FBQyxJQUFqQyxDQUExQyxJQUNDLEVBQUUsQ0FBQyxRQUFILENBQVksV0FBWixPQUE4QixRQUE5QixJQUEwQyxFQUFFLENBQUMsSUFBSCxLQUFZLFFBRHZELElBRUMsQ0FBQyxFQUFFLENBQUMsWUFBSCxDQUFnQixNQUFoQixLQUEyQixFQUE1QixFQUFnQyxXQUFoQyxPQUFrRCxRQUh2RCxFQUlFO0FBQ0UsYUFBSyxZQUFMLENBQWtCO0FBQUMsVUFBQSxNQUFNLEVBQU4sTUFBRDtBQUFTLFVBQUEsUUFBUSxFQUFFLENBQW5CO0FBQXNCLFVBQUEsVUFBVSxvQkFBYSxNQUFiO0FBQWhDLFNBQWxCO0FBQ0gsT0FWZ0IsQ0FXakI7OztBQUNBLFVBQ0ksRUFBRSxDQUFDLFFBQUgsS0FBZ0IsR0FBaEIsSUFBdUIsRUFBRSxDQUFDLElBQTFCLElBQWtDLEVBQUUsQ0FBQyxJQUFILEtBQVksR0FBOUMsSUFDQSxDQUFDLEVBQUUsQ0FBQyxZQUFILENBQWdCLE1BQWhCLEtBQTJCLEVBQTVCLEVBQWdDLFdBQWhDLE9BQWtELE1BRnRELEVBR0U7QUFDRTtBQUNBLGFBQUssWUFBTCxDQUFrQjtBQUFDLFVBQUEsTUFBTSxFQUFOLE1BQUQ7QUFBUyxVQUFBLFFBQVEsRUFBRSxDQUFuQjtBQUFzQixVQUFBLFVBQVUsMkJBQW9CLE1BQXBCLENBQWhDO0FBQThELFVBQUEsVUFBVSxFQUFFO0FBQTFFLFNBQWxCO0FBQ0gsT0FORCxNQU1PO0FBQ0g7QUFDQSxhQUFLLFlBQUwsQ0FBa0I7QUFBQyxVQUFBLE1BQU0sRUFBTixNQUFEO0FBQVMsVUFBQSxRQUFRLEVBQUUsQ0FBbkI7QUFBc0IsVUFBQSxVQUFVLHFCQUFjLE1BQWQsQ0FBaEM7QUFBd0QsVUFBQSxzQkFBc0IsRUFBRTtBQUFoRixTQUFsQjtBQUNIO0FBQ0o7OzttQ0FFZTtBQUFBOztBQUNaO0FBQ0EsV0FBSyxpQkFBTCxHQUZZLENBSVo7O0FBQ0EsV0FBSyxvQkFBTCxDQUEwQixLQUFLLElBQS9CLEVBTFksQ0FPWjs7QUFDQSxXQUFLLElBQUwsQ0FBVSxnQkFBVixDQUEyQiwyQkFBM0IsRUFBd0QsT0FBeEQsQ0FBZ0UsVUFBQSxFQUFFO0FBQUEsZUFBSSxNQUFJLENBQUMsZUFBTCxDQUFxQixFQUFyQixDQUFKO0FBQUEsT0FBbEUsRUFSWSxDQVVaOztBQUNBLFVBQUksS0FBSyxjQUFMLEtBQXdCLENBQTVCLEVBQStCO0FBQzNCLGFBQUssb0JBQUw7QUFDSDs7QUFDRCxhQUFPLElBQVA7QUFDSDs7Ozs7O0FBR0wsTUFBTSxDQUFDLE9BQVAsR0FBaUIsSUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipcbkBsaWNlbnNlIEBub2NvbXBpbGVcbkNvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4oZnVuY3Rpb24oKXsvKlxuXG4gQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZFxuIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5XG4gR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUFxuIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4ndXNlIHN0cmljdCc7dmFyIHc7ZnVuY3Rpb24gYWEoYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19dmFyIGJhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7YSE9QXJyYXkucHJvdG90eXBlJiZhIT1PYmplY3QucHJvdG90eXBlJiYoYVtiXT1jLnZhbHVlKX0sY2E9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09dGhpcz90aGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6dGhpcztmdW5jdGlvbiBkYSgpe2RhPWZ1bmN0aW9uKCl7fTtjYS5TeW1ib2x8fChjYS5TeW1ib2w9ZmEpfVxuZnVuY3Rpb24gaGEoYSxiKXt0aGlzLmE9YTtiYSh0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KX1oYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTt2YXIgZmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe2lmKHRoaXMgaW5zdGFuY2VvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBoYShcImpzY29tcF9zeW1ib2xfXCIrKGN8fFwiXCIpK1wiX1wiK2IrKyxjKX12YXIgYj0wO3JldHVybiBhfSgpO1xuZnVuY3Rpb24gaWEoKXtkYSgpO3ZhciBhPWNhLlN5bWJvbC5pdGVyYXRvcjthfHwoYT1jYS5TeW1ib2wuaXRlcmF0b3I9Y2EuU3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpKTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBBcnJheS5wcm90b3R5cGVbYV0mJmJhKEFycmF5LnByb3RvdHlwZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbGEoYWEodGhpcykpfX0pO2lhPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBsYShhKXtpYSgpO2E9e25leHQ6YX07YVtjYS5TeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfWZ1bmN0aW9uIG1hKGEpe3ZhciBiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBiP2IuY2FsbChhKTp7bmV4dDphYShhKX19XG5mdW5jdGlvbiBuYShhKXtmb3IodmFyIGIsYz1bXTshKGI9YS5uZXh0KCkpLmRvbmU7KWMucHVzaChiLnZhbHVlKTtyZXR1cm4gY312YXIgb2E7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mKW9hPU9iamVjdC5zZXRQcm90b3R5cGVPZjtlbHNle3ZhciBwYTthOnt2YXIgcWE9e1BhOiEwfSxyYT17fTt0cnl7cmEuX19wcm90b19fPXFhO3BhPXJhLlBhO2JyZWFrIGF9Y2F0Y2goYSl7fXBhPSExfW9hPXBhP2Z1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189YjtpZihhLl9fcHJvdG9fXyE9PWIpdGhyb3cgbmV3IFR5cGVFcnJvcihhK1wiIGlzIG5vdCBleHRlbnNpYmxlXCIpO3JldHVybiBhfTpudWxsfXZhciBzYT1vYTtmdW5jdGlvbiB3YSgpe3RoaXMubD0hMTt0aGlzLmI9bnVsbDt0aGlzLkVhPXZvaWQgMDt0aGlzLmE9MTt0aGlzLlk9MDt0aGlzLmM9bnVsbH1cbmZ1bmN0aW9uIHlhKGEpe2lmKGEubCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTthLmw9ITB9d2EucHJvdG90eXBlLko9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTtmdW5jdGlvbiB6YShhLGIpe2EuYz17U2E6YixXYTohMH07YS5hPWEuWX13YS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGEpe3RoaXMuYz17cmV0dXJuOmF9O3RoaXMuYT10aGlzLll9O2Z1bmN0aW9uIEFhKGEsYil7YS5hPTM7cmV0dXJue3ZhbHVlOmJ9fWZ1bmN0aW9uIEJhKGEpe3RoaXMuYT1uZXcgd2E7dGhpcy5iPWF9ZnVuY3Rpb24gQ2EoYSxiKXt5YShhLmEpO3ZhciBjPWEuYS5iO2lmKGMpcmV0dXJuIERhKGEsXCJyZXR1cm5cImluIGM/Y1tcInJldHVyblwiXTpmdW5jdGlvbihkKXtyZXR1cm57dmFsdWU6ZCxkb25lOiEwfX0sYixhLmEucmV0dXJuKTthLmEucmV0dXJuKGIpO3JldHVybiBFYShhKX1cbmZ1bmN0aW9uIERhKGEsYixjLGQpe3RyeXt2YXIgZT1iLmNhbGwoYS5hLmIsYyk7aWYoIShlIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK2UrXCIgaXMgbm90IGFuIG9iamVjdFwiKTtpZighZS5kb25lKXJldHVybiBhLmEubD0hMSxlO3ZhciBmPWUudmFsdWV9Y2F0Y2goZyl7cmV0dXJuIGEuYS5iPW51bGwsemEoYS5hLGcpLEVhKGEpfWEuYS5iPW51bGw7ZC5jYWxsKGEuYSxmKTtyZXR1cm4gRWEoYSl9ZnVuY3Rpb24gRWEoYSl7Zm9yKDthLmEuYTspdHJ5e3ZhciBiPWEuYihhLmEpO2lmKGIpcmV0dXJuIGEuYS5sPSExLHt2YWx1ZTpiLnZhbHVlLGRvbmU6ITF9fWNhdGNoKGMpe2EuYS5FYT12b2lkIDAsemEoYS5hLGMpfWEuYS5sPSExO2lmKGEuYS5jKXtiPWEuYS5jO2EuYS5jPW51bGw7aWYoYi5XYSl0aHJvdyBiLlNhO3JldHVybnt2YWx1ZTpiLnJldHVybixkb25lOiEwfX1yZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fVxuZnVuY3Rpb24gRmEoYSl7dGhpcy5uZXh0PWZ1bmN0aW9uKGIpe3lhKGEuYSk7YS5hLmI/Yj1EYShhLGEuYS5iLm5leHQsYixhLmEuSik6KGEuYS5KKGIpLGI9RWEoYSkpO3JldHVybiBifTt0aGlzLnRocm93PWZ1bmN0aW9uKGIpe3lhKGEuYSk7YS5hLmI/Yj1EYShhLGEuYS5iW1widGhyb3dcIl0sYixhLmEuSik6KHphKGEuYSxiKSxiPUVhKGEpKTtyZXR1cm4gYn07dGhpcy5yZXR1cm49ZnVuY3Rpb24oYil7cmV0dXJuIENhKGEsYil9O2lhKCk7dGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIEdhKGEsYil7Yj1uZXcgRmEobmV3IEJhKGIpKTtzYSYmc2EoYixhLnByb3RvdHlwZSk7cmV0dXJuIGJ9QXJyYXkuZnJvbXx8KEFycmF5LmZyb209ZnVuY3Rpb24oYSl7cmV0dXJuW10uc2xpY2UuY2FsbChhKX0pO1xuT2JqZWN0LmFzc2lnbnx8KE9iamVjdC5hc3NpZ249ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGM9MCxkO2M8Yi5sZW5ndGg7YysrKWlmKGQ9YltjXSlmb3IodmFyIGU9YSxmPU9iamVjdC5rZXlzKGQpLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9ZltnXTtlW2hdPWRbaF19cmV0dXJuIGF9KTt2YXIgSGE9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtIYS5pbml0RXZlbnQoXCJmb29cIiwhMCwhMCk7SGEucHJldmVudERlZmF1bHQoKTtpZighSGEuZGVmYXVsdFByZXZlbnRlZCl7dmFyIElhPUV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGFibGUmJihJYS5jYWxsKHRoaXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGVmYXVsdFByZXZlbnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY29uZmlndXJhYmxlOiEwfSkpfX12YXIgSmE9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5pZighd2luZG93LkV2ZW50fHxKYSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIHdpbmRvdy5FdmVudCl7dmFyIEthPXdpbmRvdy5FdmVudDt3aW5kb3cuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7Yy5pbml0RXZlbnQoYSwhIWIuYnViYmxlcywhIWIuY2FuY2VsYWJsZSk7cmV0dXJuIGN9O2lmKEthKXtmb3IodmFyIExhIGluIEthKXdpbmRvdy5FdmVudFtMYV09S2FbTGFdO3dpbmRvdy5FdmVudC5wcm90b3R5cGU9S2EucHJvdG90eXBlfX1cbmlmKCF3aW5kb3cuQ3VzdG9tRXZlbnR8fEphJiZcImZ1bmN0aW9uXCIhPT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50KXdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhLGIpe2I9Ynx8e307dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtjLmluaXRDdXN0b21FdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sd2luZG93LkN1c3RvbUV2ZW50LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuaWYoIXdpbmRvdy5Nb3VzZUV2ZW50fHxKYSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIHdpbmRvdy5Nb3VzZUV2ZW50KXt2YXIgTWE9d2luZG93Lk1vdXNlRXZlbnQ7d2luZG93Lk1vdXNlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKTtjLmluaXRNb3VzZUV2ZW50KGEsISFiLmJ1YmJsZXMsISFiLmNhbmNlbGFibGUsYi52aWV3fHx3aW5kb3csYi5kZXRhaWwsYi5zY3JlZW5YLGIuc2NyZWVuWSxiLmNsaWVudFgsYi5jbGllbnRZLGIuY3RybEtleSxiLmFsdEtleSxiLnNoaWZ0S2V5LGIubWV0YUtleSxiLmJ1dHRvbixiLnJlbGF0ZWRUYXJnZXQpO3JldHVybiBjfTtpZihNYSlmb3IodmFyIE5hIGluIE1hKXdpbmRvdy5Nb3VzZUV2ZW50W05hXT1NYVtOYV07d2luZG93Lk1vdXNlRXZlbnQucHJvdG90eXBlPU1hLnByb3RvdHlwZX07LypcblxuIENvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gYihwLHIpe2lmKCFwLmNoaWxkTm9kZXMubGVuZ3RoKXJldHVybltdO3N3aXRjaChwLm5vZGVUeXBlKXtjYXNlIE5vZGUuRE9DVU1FTlRfTk9ERTpyZXR1cm4gRi5jYWxsKHAscik7Y2FzZSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU6cmV0dXJuIEUuY2FsbChwLHIpO2RlZmF1bHQ6cmV0dXJuIHQuY2FsbChwLHIpfX12YXIgYz1cInVuZGVmaW5lZFwiPT09dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQsZD0hKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5jbG9uZU5vZGUoKWluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCksZT0hMTsvVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmZnVuY3Rpb24oKXtmdW5jdGlvbiBwKHosUil7aWYoeiBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpZm9yKHZhciBmYjtmYj16LmZpcnN0Q2hpbGQ7KUIuY2FsbCh0aGlzLGZiLFIpO2Vsc2UgQi5jYWxsKHRoaXMsXG56LFIpO3JldHVybiB6fWU9ITA7dmFyIHI9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO05vZGUucHJvdG90eXBlLmNsb25lTm9kZT1mdW5jdGlvbih6KXt6PXIuY2FsbCh0aGlzLHopO3RoaXMgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50JiYoei5fX3Byb3RvX189RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUpO3JldHVybiB6fTtEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsPUhUTUxFbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsO0RvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I9SFRNTEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUse25vZGVUeXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfSxjb25maWd1cmFibGU6ITB9LGxvY2FsTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7fSxcbmNvbmZpZ3VyYWJsZTohMH0sbm9kZU5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVyblwiI2RvY3VtZW50LWZyYWdtZW50XCJ9LGNvbmZpZ3VyYWJsZTohMH19KTt2YXIgQj1Ob2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU7Tm9kZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlPXA7dmFyIEs9Tm9kZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ7Tm9kZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ9ZnVuY3Rpb24oeil7eiBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQ/cC5jYWxsKHRoaXMseixudWxsKTpLLmNhbGwodGhpcyx6KTtyZXR1cm4gen07dmFyIFo9Tm9kZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsamE9Tm9kZS5wcm90b3R5cGUucmVwbGFjZUNoaWxkO05vZGUucHJvdG90eXBlLnJlcGxhY2VDaGlsZD1mdW5jdGlvbih6LFIpe3ogaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50PyhwLmNhbGwodGhpcyx6LFIpLFouY2FsbCh0aGlzLFIpKTpqYS5jYWxsKHRoaXMseixSKTtyZXR1cm4gUn07RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9XG5mdW5jdGlvbigpe3ZhciB6PXRoaXMuY3JlYXRlRWxlbWVudChcImRmXCIpO3ouX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlO3JldHVybiB6fTt2YXIgdGE9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oeixSKXtSPXRhLmNhbGwodGhpcyx6LFJ8fCExKTt6IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCYmKFIuX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlKTtyZXR1cm4gUn19KCk7dmFyIGY9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLGc9RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQsaD1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZSxrPU5vZGUucHJvdG90eXBlLnJlbW92ZUNoaWxkLGw9Tm9kZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsbT1Ob2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQscT1ET01QYXJzZXIucHJvdG90eXBlLnBhcnNlRnJvbVN0cmluZyxcbkg9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiaW5uZXJIVE1MXCIpfHx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXJIVE1MfSxzZXQ6ZnVuY3Rpb24ocCl7dGhpcy5pbm5lckhUTUw9cH19LEM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuTm9kZS5wcm90b3R5cGUsXCJjaGlsZE5vZGVzXCIpfHx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGROb2Rlc319LHQ9RWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCxGPURvY3VtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLEU9RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCxNPWZ1bmN0aW9uKCl7aWYoIWMpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG5wLmNvbnRlbnQuYXBwZW5kQ2hpbGQocik7cD1wLmNsb25lTm9kZSghMCk7cmV0dXJuIDA9PT1wLmNvbnRlbnQuY2hpbGROb2Rlcy5sZW5ndGh8fDA9PT1wLmNvbnRlbnQuZmlyc3RDaGlsZC5jb250ZW50LmNoaWxkTm9kZXMubGVuZ3RofHxkfX0oKTtpZihjKXt2YXIgeT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0ZW1wbGF0ZVwiKSxXPSEwLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3YudGV4dENvbnRlbnQ9XCJ0ZW1wbGF0ZXtkaXNwbGF5Om5vbmU7fVwiO3ZhciB1YT1kb2N1bWVudC5oZWFkO3VhLmluc2VydEJlZm9yZSh2LHVhLmZpcnN0RWxlbWVudENoaWxkKTthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSk7dmFyIGVhPSFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLmhhc093blByb3BlcnR5KFwiaW5uZXJIVE1MXCIpO2EuVT1mdW5jdGlvbihwKXtpZighcC5jb250ZW50JiZwLm5hbWVzcGFjZVVSST09PVxuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSl7cC5jb250ZW50PXkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcih2YXIgcjtyPXAuZmlyc3RDaGlsZDspbC5jYWxsKHAuY29udGVudCxyKTtpZihlYSlwLl9fcHJvdG9fXz1hLnByb3RvdHlwZTtlbHNlIGlmKHAuY2xvbmVOb2RlPWZ1bmN0aW9uKEIpe3JldHVybiBhLmIodGhpcyxCKX0sVyl0cnl7bihwKSxJKHApfWNhdGNoKEIpe1c9ITF9YS5hKHAuY29udGVudCl9fTt2YXIgdmE9e29wdGlvbjpbXCJzZWxlY3RcIl0sdGhlYWQ6W1widGFibGVcIl0sY29sOltcImNvbGdyb3VwXCIsXCJ0YWJsZVwiXSx0cjpbXCJ0Ym9keVwiLFwidGFibGVcIl0sdGg6W1widHJcIixcInRib2R5XCIsXCJ0YWJsZVwiXSx0ZDpbXCJ0clwiLFwidGJvZHlcIixcInRhYmxlXCJdfSxuPWZ1bmN0aW9uKHApe09iamVjdC5kZWZpbmVQcm9wZXJ0eShwLFwiaW5uZXJIVE1MXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB4YSh0aGlzKX0sc2V0OmZ1bmN0aW9uKHIpe3ZhciBCPXZhWygvPChbYS16XVteL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pLmV4ZWMocil8fFxuW1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldO2lmKEIpZm9yKHZhciBLPTA7SzxCLmxlbmd0aDtLKyspcj1cIjxcIitCW0tdK1wiPlwiK3IrXCI8L1wiK0JbS10rXCI+XCI7eS5ib2R5LmlubmVySFRNTD1yO2ZvcihhLmEoeSk7dGhpcy5jb250ZW50LmZpcnN0Q2hpbGQ7KWsuY2FsbCh0aGlzLmNvbnRlbnQsdGhpcy5jb250ZW50LmZpcnN0Q2hpbGQpO3I9eS5ib2R5O2lmKEIpZm9yKEs9MDtLPEIubGVuZ3RoO0srKylyPXIubGFzdENoaWxkO2Zvcig7ci5maXJzdENoaWxkOylsLmNhbGwodGhpcy5jb250ZW50LHIuZmlyc3RDaGlsZCl9LGNvbmZpZ3VyYWJsZTohMH0pfSxJPWZ1bmN0aW9uKHApe09iamVjdC5kZWZpbmVQcm9wZXJ0eShwLFwib3V0ZXJIVE1MXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiPHRlbXBsYXRlPlwiK3RoaXMuaW5uZXJIVE1MK1wiPC90ZW1wbGF0ZT5cIn0sc2V0OmZ1bmN0aW9uKHIpe2lmKHRoaXMucGFyZW50Tm9kZSl7eS5ib2R5LmlubmVySFRNTD1yO2ZvcihyPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7eS5ib2R5LmZpcnN0Q2hpbGQ7KWwuY2FsbChyLFxueS5ib2R5LmZpcnN0Q2hpbGQpO20uY2FsbCh0aGlzLnBhcmVudE5vZGUscix0aGlzKX1lbHNlIHRocm93IEVycm9yKFwiRmFpbGVkIHRvIHNldCB0aGUgJ291dGVySFRNTCcgcHJvcGVydHkgb24gJ0VsZW1lbnQnOiBUaGlzIGVsZW1lbnQgaGFzIG5vIHBhcmVudCBub2RlLlwiKTt9LGNvbmZpZ3VyYWJsZTohMH0pfTtuKGEucHJvdG90eXBlKTtJKGEucHJvdG90eXBlKTthLmE9ZnVuY3Rpb24ocCl7cD1iKHAsXCJ0ZW1wbGF0ZVwiKTtmb3IodmFyIHI9MCxCPXAubGVuZ3RoLEs7cjxCJiYoSz1wW3JdKTtyKyspYS5VKEspfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7YS5hKGRvY3VtZW50KX0pO0RvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHA9Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XCJ0ZW1wbGF0ZVwiPT09cC5sb2NhbE5hbWUmJmEuVShwKTtyZXR1cm4gcH07RE9NUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZyb21TdHJpbmc9XG5mdW5jdGlvbigpe3ZhciBwPXEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuYShwKTtyZXR1cm4gcH07T2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImlubmVySFRNTFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geGEodGhpcyl9LHNldDpmdW5jdGlvbihwKXtILnNldC5jYWxsKHRoaXMscCk7YS5hKHRoaXMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pO3ZhciBrYT0vWyZcXHUwMEEwXCJdL2csYmM9L1smXFx1MDBBMDw+XS9nLGdiPWZ1bmN0aW9uKHApe3N3aXRjaChwKXtjYXNlIFwiJlwiOnJldHVyblwiJmFtcDtcIjtjYXNlIFwiPFwiOnJldHVyblwiJmx0O1wiO2Nhc2UgXCI+XCI6cmV0dXJuXCImZ3Q7XCI7Y2FzZSAnXCInOnJldHVyblwiJnF1b3Q7XCI7Y2FzZSBcIlxcdTAwYTBcIjpyZXR1cm5cIiZuYnNwO1wifX07dj1mdW5jdGlvbihwKXtmb3IodmFyIHI9e30sQj0wO0I8cC5sZW5ndGg7QisrKXJbcFtCXV09ITA7cmV0dXJuIHJ9O3ZhciBTYT12KFwiYXJlYSBiYXNlIGJyIGNvbCBjb21tYW5kIGVtYmVkIGhyIGltZyBpbnB1dCBrZXlnZW4gbGluayBtZXRhIHBhcmFtIHNvdXJjZSB0cmFjayB3YnJcIi5zcGxpdChcIiBcIikpLFxuaGI9dihcInN0eWxlIHNjcmlwdCB4bXAgaWZyYW1lIG5vZW1iZWQgbm9mcmFtZXMgcGxhaW50ZXh0IG5vc2NyaXB0XCIuc3BsaXQoXCIgXCIpKSx4YT1mdW5jdGlvbihwLHIpe1widGVtcGxhdGVcIj09PXAubG9jYWxOYW1lJiYocD1wLmNvbnRlbnQpO2Zvcih2YXIgQj1cIlwiLEs9cj9yKHApOkMuZ2V0LmNhbGwocCksWj0wLGphPUsubGVuZ3RoLHRhO1o8amEmJih0YT1LW1pdKTtaKyspe2E6e3ZhciB6PXRhO3ZhciBSPXA7dmFyIGZiPXI7c3dpdGNoKHoubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBjYz16LmxvY2FsTmFtZSxpYj1cIjxcIitjYyxyZz16LmF0dHJpYnV0ZXMsQmQ9MDtSPXJnW0JkXTtCZCsrKWliKz1cIiBcIitSLm5hbWUrJz1cIicrUi52YWx1ZS5yZXBsYWNlKGthLGdiKSsnXCInO2liKz1cIj5cIjt6PVNhW2NjXT9pYjppYit4YSh6LGZiKStcIjwvXCIrY2MrXCI+XCI7YnJlYWsgYTtjYXNlIE5vZGUuVEVYVF9OT0RFOno9ei5kYXRhO3o9UiYmaGJbUi5sb2NhbE5hbWVdP3o6XG56LnJlcGxhY2UoYmMsZ2IpO2JyZWFrIGE7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTp6PVwiXFx4M2MhLS1cIit6LmRhdGErXCItLVxceDNlXCI7YnJlYWsgYTtkZWZhdWx0OnRocm93IHdpbmRvdy5jb25zb2xlLmVycm9yKHopLEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO319Qis9en1yZXR1cm4gQn19aWYoY3x8TSl7YS5iPWZ1bmN0aW9uKHAscil7dmFyIEI9Zi5jYWxsKHAsITEpO3RoaXMuVSYmdGhpcy5VKEIpO3ImJihsLmNhbGwoQi5jb250ZW50LGYuY2FsbChwLmNvbnRlbnQsITApKSxKKEIuY29udGVudCxwLmNvbnRlbnQpKTtyZXR1cm4gQn07dmFyIEo9ZnVuY3Rpb24ocCxyKXtpZihyLnF1ZXJ5U2VsZWN0b3JBbGwmJihyPWIocixcInRlbXBsYXRlXCIpLDAhPT1yLmxlbmd0aCkpe3A9YihwLFwidGVtcGxhdGVcIik7Zm9yKHZhciBCPTAsSz1wLmxlbmd0aCxaLGphO0I8SztCKyspamE9cltCXSxaPXBbQl0sYSYmYS5VJiZhLlUoamEpLG0uY2FsbChaLnBhcmVudE5vZGUsdS5jYWxsKGphLCEwKSxcblopfX0sdT1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9ZnVuY3Rpb24ocCl7aWYoIWUmJmQmJnRoaXMgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWlmKHApdmFyIHI9Ry5jYWxsKHRoaXMub3duZXJEb2N1bWVudCx0aGlzLCEwKTtlbHNlIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Vsc2UgdGhpcy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZcInRlbXBsYXRlXCI9PT10aGlzLmxvY2FsTmFtZSYmdGhpcy5uYW1lc3BhY2VVUkk9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkk/cj1hLmIodGhpcyxwKTpyPWYuY2FsbCh0aGlzLHApO3AmJkoocix0aGlzKTtyZXR1cm4gcn0sRz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihwLHIpe3I9cnx8ITE7aWYoXCJ0ZW1wbGF0ZVwiPT09cC5sb2NhbE5hbWUpcmV0dXJuIGEuYihwLHIpO3ZhciBCPWguY2FsbCh0aGlzLHAscik7aWYocil7SihCLHApO1xucD1iKEIsJ3NjcmlwdDpub3QoW3R5cGVdKSxzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIl0sc2NyaXB0W3R5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIl0nKTtmb3IodmFyIEssWj0wO1o8cC5sZW5ndGg7WisrKXtLPXBbWl07cj1nLmNhbGwoZG9jdW1lbnQsXCJzY3JpcHRcIik7ci50ZXh0Q29udGVudD1LLnRleHRDb250ZW50O2Zvcih2YXIgamE9Sy5hdHRyaWJ1dGVzLHRhPTAsejt0YTxqYS5sZW5ndGg7dGErKyl6PWphW3RhXSxyLnNldEF0dHJpYnV0ZSh6Lm5hbWUsei52YWx1ZSk7bS5jYWxsKEsucGFyZW50Tm9kZSxyLEspfX1yZXR1cm4gQn19YyYmKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50PWEpfSkoKTt2YXIgT2E9c2V0VGltZW91dDtmdW5jdGlvbiBQYSgpe31mdW5jdGlvbiBRYShhLGIpe3JldHVybiBmdW5jdGlvbigpe2EuYXBwbHkoYixhcmd1bWVudHMpfX1mdW5jdGlvbiB4KGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuST0wO3RoaXMuemE9ITE7dGhpcy5DPXZvaWQgMDt0aGlzLlc9W107UmEoYSx0aGlzKX1cbmZ1bmN0aW9uIFRhKGEsYil7Zm9yKDszPT09YS5JOylhPWEuQzswPT09YS5JP2EuVy5wdXNoKGIpOihhLnphPSEwLFVhKGZ1bmN0aW9uKCl7dmFyIGM9MT09PWEuST9iLllhOmIuWmE7aWYobnVsbD09PWMpKDE9PT1hLkk/VmE6V2EpKGIudmEsYS5DKTtlbHNle3RyeXt2YXIgZD1jKGEuQyl9Y2F0Y2goZSl7V2EoYi52YSxlKTtyZXR1cm59VmEoYi52YSxkKX19KSl9ZnVuY3Rpb24gVmEoYSxiKXt0cnl7aWYoYj09PWEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuXCIpO2lmKGImJihcIm9iamVjdFwiPT09dHlwZW9mIGJ8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKSl7dmFyIGM9Yi50aGVuO2lmKGIgaW5zdGFuY2VvZiB4KXthLkk9MzthLkM9YjtYYShhKTtyZXR1cm59aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGMpe1JhKFFhKGMsYiksYSk7cmV0dXJufX1hLkk9MTthLkM9YjtYYShhKX1jYXRjaChkKXtXYShhLGQpfX1cbmZ1bmN0aW9uIFdhKGEsYil7YS5JPTI7YS5DPWI7WGEoYSl9ZnVuY3Rpb24gWGEoYSl7Mj09PWEuSSYmMD09PWEuVy5sZW5ndGgmJlVhKGZ1bmN0aW9uKCl7YS56YXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oXCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246XCIsYS5DKX0pO2Zvcih2YXIgYj0wLGM9YS5XLmxlbmd0aDtiPGM7YisrKVRhKGEsYS5XW2JdKTthLlc9bnVsbH1mdW5jdGlvbiBZYShhLGIsYyl7dGhpcy5ZYT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hOm51bGw7dGhpcy5aYT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iOm51bGw7dGhpcy52YT1jfWZ1bmN0aW9uIFJhKGEsYil7dmFyIGM9ITE7dHJ5e2EoZnVuY3Rpb24oZCl7Y3x8KGM9ITAsVmEoYixkKSl9LGZ1bmN0aW9uKGQpe2N8fChjPSEwLFdhKGIsZCkpfSl9Y2F0Y2goZCl7Y3x8KGM9ITAsV2EoYixkKSl9fVxueC5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsYSl9O3gucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihQYSk7VGEodGhpcyxuZXcgWWEoYSxiLGMpKTtyZXR1cm4gY307eC5wcm90b3R5cGVbXCJmaW5hbGx5XCJdPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYi5yZXNvbHZlKGEoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBjfSl9LGZ1bmN0aW9uKGMpe3JldHVybiBiLnJlc29sdmUoYSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucmVqZWN0KGMpfSl9KX07XG5mdW5jdGlvbiBaYShhKXtyZXR1cm4gbmV3IHgoZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGgsayl7dHJ5e2lmKGsmJihcIm9iamVjdFwiPT09dHlwZW9mIGt8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBrKSl7dmFyIGw9ay50aGVuO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBsKXtsLmNhbGwoayxmdW5jdGlvbihtKXtkKGgsbSl9LGMpO3JldHVybn19ZVtoXT1rOzA9PT0tLWYmJmIoZSl9Y2F0Y2gobSl7YyhtKX19aWYoIWF8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYS5sZW5ndGgpcmV0dXJuIGMobmV3IFR5cGVFcnJvcihcIlByb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXlcIikpO3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYihbXSk7Zm9yKHZhciBmPWUubGVuZ3RoLGc9MDtnPGUubGVuZ3RoO2crKylkKGcsZVtnXSl9KX1cbmZ1bmN0aW9uICRhKGEpe3JldHVybiBhJiZcIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuY29uc3RydWN0b3I9PT14P2E6bmV3IHgoZnVuY3Rpb24oYil7YihhKX0pfWZ1bmN0aW9uIGFiKGEpe3JldHVybiBuZXcgeChmdW5jdGlvbihiLGMpe2MoYSl9KX1mdW5jdGlvbiBiYihhKXtyZXR1cm4gbmV3IHgoZnVuY3Rpb24oYixjKXtpZighYXx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhLmxlbmd0aClyZXR1cm4gYyhuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5yYWNlIGFjY2VwdHMgYW4gYXJyYXlcIikpO2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKykkYShhW2RdKS50aGVuKGIsYyl9KX12YXIgVWE9XCJmdW5jdGlvblwiPT09dHlwZW9mIHNldEltbWVkaWF0ZSYmZnVuY3Rpb24oYSl7c2V0SW1tZWRpYXRlKGEpfXx8ZnVuY3Rpb24oYSl7T2EoYSwwKX07LypcblxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pZighd2luZG93LlByb21pc2Upe3dpbmRvdy5Qcm9taXNlPXg7eC5wcm90b3R5cGUudGhlbj14LnByb3RvdHlwZS50aGVuO3guYWxsPVphO3gucmFjZT1iYjt4LnJlc29sdmU9JGE7eC5yZWplY3Q9YWI7dmFyIGNiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGRiPVtdOyhuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe2Zvcih2YXIgYT1kYi5sZW5ndGgsYj0wO2I8YTtiKyspZGJbYl0oKTtkYi5zcGxpY2UoMCxhKX0pKS5vYnNlcnZlKGNiLHtjaGFyYWN0ZXJEYXRhOiEwfSk7VWE9ZnVuY3Rpb24oYSl7ZGIucHVzaChhKTtjYi50ZXh0Q29udGVudD0wPGNiLnRleHRDb250ZW50Lmxlbmd0aD9cIlwiOlwiYVwifX07LypcbiBDb3B5cmlnaHQgKEMpIDIwMTUgYnkgV2ViUmVmbGVjdGlvblxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG4oZnVuY3Rpb24oYSxiKXtpZighKGIgaW4gYSkpe3ZhciBjPXR5cGVvZiBnbG9iYWw9PT10eXBlb2YgYz93aW5kb3c6Z2xvYmFsLGQ9MCxlPVwiXCIrTWF0aC5yYW5kb20oKSxmPVwiX19cXHUwMDAxc3ltYm9sQEBcIitlLGc9YS5nZXRPd25Qcm9wZXJ0eU5hbWVzLGg9YS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isaz1hLmNyZWF0ZSxsPWEua2V5cyxtPWEuZnJlZXplfHxhLHE9YS5kZWZpbmVQcm9wZXJ0eSxIPWEuZGVmaW5lUHJvcGVydGllcyxDPWgoYSxcImdldE93blByb3BlcnR5TmFtZXNcIiksdD1hLnByb3RvdHlwZSxGPXQuaGFzT3duUHJvcGVydHksRT10LnByb3BlcnR5SXNFbnVtZXJhYmxlLE09dC50b1N0cmluZyx5PWZ1bmN0aW9uKEosdSxHKXtGLmNhbGwoSixmKXx8cShKLGYse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOnt9fSk7SltmXVtcIkBAXCIrdV09R30sVz1mdW5jdGlvbihKLHUpe3ZhciBHPWsoSik7Zyh1KS5mb3JFYWNoKGZ1bmN0aW9uKHApe3ZhLmNhbGwodSxcbnApJiZTYShHLHAsdVtwXSl9KTtyZXR1cm4gR30sdj1mdW5jdGlvbigpe30sdWE9ZnVuY3Rpb24oSil7cmV0dXJuIEohPWYmJiFGLmNhbGwoa2EsSil9LGVhPWZ1bmN0aW9uKEope3JldHVybiBKIT1mJiZGLmNhbGwoa2EsSil9LHZhPWZ1bmN0aW9uKEope3ZhciB1PVwiXCIrSjtyZXR1cm4gZWEodSk/Ri5jYWxsKHRoaXMsdSkmJnRoaXNbZl1bXCJAQFwiK3VdOkUuY2FsbCh0aGlzLEopfSxuPWZ1bmN0aW9uKEope3EodCxKLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dixzZXQ6ZnVuY3Rpb24odSl7eGEodGhpcyxKLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp1fSk7eSh0aGlzLEosITApfX0pO3JldHVybiBtKGthW0pdPXEoYShKKSxcImNvbnN0cnVjdG9yXCIsYmMpKX0sST1mdW5jdGlvbiBHKHUpe2lmKHRoaXMgaW5zdGFuY2VvZiBHKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG4oXCJfX1xcdTAwMDFzeW1ib2w6XCIuY29uY2F0KHV8fFxuXCJcIixlLCsrZCkpfSxrYT1rKG51bGwpLGJjPXt2YWx1ZTpJfSxnYj1mdW5jdGlvbih1KXtyZXR1cm4ga2FbdV19LFNhPWZ1bmN0aW9uKHUsRyxwKXt2YXIgcj1cIlwiK0c7aWYoZWEocikpe0c9eGE7aWYocC5lbnVtZXJhYmxlKXt2YXIgQj1rKHApO0IuZW51bWVyYWJsZT0hMX1lbHNlIEI9cDtHKHUscixCKTt5KHUsciwhIXAuZW51bWVyYWJsZSl9ZWxzZSBxKHUsRyxwKTtyZXR1cm4gdX0saGI9ZnVuY3Rpb24odSl7cmV0dXJuIGcodSkuZmlsdGVyKGVhKS5tYXAoZ2IpfTtDLnZhbHVlPVNhO3EoYSxcImRlZmluZVByb3BlcnR5XCIsQyk7Qy52YWx1ZT1oYjtxKGEsYixDKTtDLnZhbHVlPWZ1bmN0aW9uKHUpe3JldHVybiBnKHUpLmZpbHRlcih1YSl9O3EoYSxcImdldE93blByb3BlcnR5TmFtZXNcIixDKTtDLnZhbHVlPWZ1bmN0aW9uKHUsRyl7dmFyIHA9aGIoRyk7cC5sZW5ndGg/bChHKS5jb25jYXQocCkuZm9yRWFjaChmdW5jdGlvbihyKXt2YS5jYWxsKEcscikmJlNhKHUscixHW3JdKX0pOkgodSxcbkcpO3JldHVybiB1fTtxKGEsXCJkZWZpbmVQcm9wZXJ0aWVzXCIsQyk7Qy52YWx1ZT12YTtxKHQsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLEMpO0MudmFsdWU9STtxKGMsXCJTeW1ib2xcIixDKTtDLnZhbHVlPWZ1bmN0aW9uKHUpe3U9XCJfX1xcdTAwMDFzeW1ib2w6XCIuY29uY2F0KFwiX19cXHUwMDAxc3ltYm9sOlwiLHUsZSk7cmV0dXJuIHUgaW4gdD9rYVt1XTpuKHUpfTtxKEksXCJmb3JcIixDKTtDLnZhbHVlPWZ1bmN0aW9uKHUpe2lmKHVhKHUpKXRocm93IG5ldyBUeXBlRXJyb3IodStcIiBpcyBub3QgYSBzeW1ib2xcIik7aWYoRi5jYWxsKGthLHUpJiYodT11LnNsaWNlKDEwKSxcIl9fXFx1MDAwMXN5bWJvbDpcIj09PXUuc2xpY2UoMCwxMCkmJih1PXUuc2xpY2UoMTApLHUhPT1lKSkpcmV0dXJuIHU9dS5zbGljZSgwLHUubGVuZ3RoLWUubGVuZ3RoKSwwPHUubGVuZ3RoP3U6dm9pZCAwfTtxKEksXCJrZXlGb3JcIixDKTtDLnZhbHVlPWZ1bmN0aW9uKHUsRyl7dmFyIHA9aCh1LEcpO3AmJmVhKEcpJiYocC5lbnVtZXJhYmxlPVxudmEuY2FsbCh1LEcpKTtyZXR1cm4gcH07cShhLFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsQyk7Qy52YWx1ZT1mdW5jdGlvbih1LEcpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aHx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBHP2sodSk6Vyh1LEcpfTtxKGEsXCJjcmVhdGVcIixDKTtDLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIHU9TS5jYWxsKHRoaXMpO3JldHVyblwiW29iamVjdCBTdHJpbmddXCI9PT11JiZlYSh0aGlzKT9cIltvYmplY3QgU3ltYm9sXVwiOnV9O3EodCxcInRvU3RyaW5nXCIsQyk7dHJ5e2lmKCEwPT09ayhxKHt9LFwiX19cXHUwMDAxc3ltYm9sOlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcSh0aGlzLFwiX19cXHUwMDAxc3ltYm9sOlwiLHt2YWx1ZTohMH0pW1wiX19cXHUwMDAxc3ltYm9sOlwiXX19KSlbXCJfX1xcdTAwMDFzeW1ib2w6XCJdKXZhciB4YT1xO2Vsc2UgdGhyb3dcIklFMTFcIjt9Y2F0Y2godSl7eGE9ZnVuY3Rpb24oRyxwLHIpe3ZhciBCPWgodCxwKTtkZWxldGUgdFtwXTtxKEcscCxcbnIpO3EodCxwLEIpfX19fSkoT2JqZWN0LFwiZ2V0T3duUHJvcGVydHlTeW1ib2xzXCIpO1xuKGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5kZWZpbmVQcm9wZXJ0eSxkPWEucHJvdG90eXBlLGU9ZC50b1N0cmluZyxmO1wiaXRlcmF0b3IgbWF0Y2ggcmVwbGFjZSBzZWFyY2ggc3BsaXQgaGFzSW5zdGFuY2UgaXNDb25jYXRTcHJlYWRhYmxlIHVuc2NvcGFibGVzIHNwZWNpZXMgdG9QcmltaXRpdmUgdG9TdHJpbmdUYWdcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihnKXtpZighKGcgaW4gYikpc3dpdGNoKGMoYixnLHt2YWx1ZTpiKGcpfSksZyl7Y2FzZSBcInRvU3RyaW5nVGFnXCI6Zj1hLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkLFwidG9TdHJpbmdcIiksZi52YWx1ZT1mdW5jdGlvbigpe3ZhciBoPWUuY2FsbCh0aGlzKSxrPW51bGwhPXRoaXM/dGhpc1tiLnRvU3RyaW5nVGFnXTp0aGlzO3JldHVybiBudWxsPT1rP2g6XCJbb2JqZWN0IFwiK2srXCJdXCJ9LGMoZCxcInRvU3RyaW5nXCIsZil9fSl9KShPYmplY3QsU3ltYm9sKTtcbihmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiB0aGlzfWJbYV18fChiW2FdPWZ1bmN0aW9uKCl7dmFyIGU9MCxmPXRoaXMsZz17bmV4dDpmdW5jdGlvbigpe3ZhciBoPWYubGVuZ3RoPD1lO3JldHVybiBoP3tkb25lOmh9Ontkb25lOmgsdmFsdWU6ZltlKytdfX19O2dbYV09ZDtyZXR1cm4gZ30pO2NbYV18fChjW2FdPWZ1bmN0aW9uKCl7dmFyIGU9U3RyaW5nLmZyb21Db2RlUG9pbnQsZj10aGlzLGc9MCxoPWYubGVuZ3RoLGs9e25leHQ6ZnVuY3Rpb24oKXt2YXIgbD1oPD1nLG09bD9cIlwiOmUoZi5jb2RlUG9pbnRBdChnKSk7Zys9bS5sZW5ndGg7cmV0dXJuIGw/e2RvbmU6bH06e2RvbmU6bCx2YWx1ZTptfX19O2tbYV09ZDtyZXR1cm4ga30pfSkoU3ltYm9sLml0ZXJhdG9yLEFycmF5LnByb3RvdHlwZSxTdHJpbmcucHJvdG90eXBlKTsvKlxuXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbnZhciBlYj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcz9cIltvYmplY3QgVW5kZWZpbmVkXVwiOm51bGw9PT10aGlzP1wiW29iamVjdCBOdWxsXVwiOmViLmNhbGwodGhpcyl9O09iamVjdC5rZXlzPWZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuKGI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKSYmYi5lbnVtZXJhYmxlfSl9O2RhKCk7aWEoKTtcblN0cmluZy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSYmU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdHx8KGRhKCksaWEoKSxTdHJpbmcucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24gYigpe3ZhciBjLGQ9dGhpcztyZXR1cm4gR2EoYixmdW5jdGlvbihlKXsxPT1lLmEmJihjPTApO2lmKDMhPWUuYSlyZXR1cm4gYzxkLmxlbmd0aD9lPUFhKGUsZFtjXSk6KGUuYT0wLGU9dm9pZCAwKSxlO2MrKztlLmE9Mn0pfSk7ZGEoKTtpYSgpO1xuU2V0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdfHwoZGEoKSxpYSgpLFNldC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbiBiKCl7dmFyIGMsZD10aGlzLGU7cmV0dXJuIEdhKGIsZnVuY3Rpb24oZil7MT09Zi5hJiYoYz1bXSxkLmZvckVhY2goZnVuY3Rpb24oZyl7Yy5wdXNoKGcpfSksZT0wKTtpZigzIT1mLmEpcmV0dXJuIGU8Yy5sZW5ndGg/Zj1BYShmLGNbZV0pOihmLmE9MCxmPXZvaWQgMCksZjtlKys7Zi5hPTJ9KX0pO2RhKCk7aWEoKTtcbk1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXXx8KGRhKCksaWEoKSxNYXAucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24gYigpe3ZhciBjLGQ9dGhpcyxlO3JldHVybiBHYShiLGZ1bmN0aW9uKGYpezE9PWYuYSYmKGM9W10sZC5mb3JFYWNoKGZ1bmN0aW9uKGcsaCl7Yy5wdXNoKFtoLGddKX0pLGU9MCk7aWYoMyE9Zi5hKXJldHVybiBlPGMubGVuZ3RoP2Y9QWEoZixjW2VdKTooZi5hPTAsZj12b2lkIDApLGY7ZSsrO2YuYT0yfSl9KTsvKlxuXG4gQ29weXJpZ2h0IChjKSAyMDE0IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZFxuIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5XG4gR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUFxuIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG52YXIgamI9d2luZG93O2piLldlYkNvbXBvbmVudHM9amIuV2ViQ29tcG9uZW50c3x8e2ZsYWdzOnt9fTt2YXIga2I9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9XCJ3ZWJjb21wb25lbnRzLWJ1bmRsZVwiXScpLGxiPS93Yy0oLispLyxtYj17fTtpZighbWIubm9PcHRzKXtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoXCImXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiPVwiKTt2YXIgYjthWzBdJiYoYj1hWzBdLm1hdGNoKGxiKSkmJihtYltiWzFdXT1hWzFdfHwhMCl9KTtpZihrYilmb3IodmFyIG5iPTAsb2I9dm9pZCAwO29iPWtiLmF0dHJpYnV0ZXNbbmJdO25iKyspXCJzcmNcIiE9PW9iLm5hbWUmJihtYltvYi5uYW1lXT1vYi52YWx1ZXx8ITApO3ZhciBwYj17fTttYi5sb2cmJm1iLmxvZy5zcGxpdCYmbWIubG9nLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3BiW2FdPSEwfSk7bWIubG9nPXBifVxuamIuV2ViQ29tcG9uZW50cy5mbGFncz1tYjt2YXIgcWI9bWIuc2hhZHlkb207aWYocWIpe2piLlNoYWR5RE9NPWpiLlNoYWR5RE9NfHx7fTtqYi5TaGFkeURPTS5mb3JjZT1xYjt2YXIgcmI9bWIubm9QYXRjaDtqYi5TaGFkeURPTS5ub1BhdGNoPVwidHJ1ZVwiPT09cmI/ITA6cmJ9dmFyIHNiPW1iLnJlZ2lzdGVyfHxtYi5jZTtzYiYmd2luZG93LmN1c3RvbUVsZW1lbnRzJiYoamIuY3VzdG9tRWxlbWVudHMuZm9yY2VQb2x5ZmlsbD1zYik7LypcblxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmZ1bmN0aW9uIHRiKCl7fXRiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57fX07ZnVuY3Rpb24gQShhKXthLl9fc2hhZHl8fChhLl9fc2hhZHk9bmV3IHRiKTtyZXR1cm4gYS5fX3NoYWR5fWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEmJmEuX19zaGFkeX07dmFyIEw9d2luZG93LlNoYWR5RE9NfHx7fTtMLlVhPSEoIUVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvd3x8IU5vZGUucHJvdG90eXBlLmdldFJvb3ROb2RlKTt2YXIgdWI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOb2RlLnByb3RvdHlwZSxcImZpcnN0Q2hpbGRcIik7TC5CPSEhKHViJiZ1Yi5jb25maWd1cmFibGUmJnViLmdldCk7TC5zYT1MLmZvcmNlfHwhTC5VYTtMLkQ9TC5ub1BhdGNofHwhMTtMLmFhPUwucHJlZmVyUGVyZm9ybWFuY2U7TC51YT1cIm9uLWRlbWFuZFwiPT09TC5EO0wuSWE9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcIlRyaWRlbnRcIik7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuKGE9RChhKSkmJnZvaWQgMCE9PWEuZmlyc3RDaGlsZH1mdW5jdGlvbiBOKGEpe3JldHVybiBhIGluc3RhbmNlb2YgU2hhZG93Um9vdH1mdW5jdGlvbiB3YihhKXtyZXR1cm4oYT0oYT1EKGEpKSYmYS5yb290KSYmeGIoYSl9XG52YXIgeWI9RWxlbWVudC5wcm90b3R5cGUsemI9eWIubWF0Y2hlc3x8eWIubWF0Y2hlc1NlbGVjdG9yfHx5Yi5tb3pNYXRjaGVzU2VsZWN0b3J8fHliLm1zTWF0Y2hlc1NlbGVjdG9yfHx5Yi5vTWF0Y2hlc1NlbGVjdG9yfHx5Yi53ZWJraXRNYXRjaGVzU2VsZWN0b3IsQWI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksQmI9MCxDYj1bXTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKXtmb3IoO0NiLmxlbmd0aDspdHJ5e0NiLnNoaWZ0KCkoKX1jYXRjaChhKXt0aHJvdyBBYi50ZXh0Q29udGVudD1CYisrLGE7fX0pKS5vYnNlcnZlKEFiLHtjaGFyYWN0ZXJEYXRhOiEwfSk7ZnVuY3Rpb24gRGIoYSl7Q2IucHVzaChhKTtBYi50ZXh0Q29udGVudD1CYisrfVxudmFyIEViPWRvY3VtZW50LmNvbnRhaW5zP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEuX19zaGFkeV9uYXRpdmVfY29udGFpbnMoYil9OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifHxhLmRvY3VtZW50RWxlbWVudCYmYS5kb2N1bWVudEVsZW1lbnQuX19zaGFkeV9uYXRpdmVfY29udGFpbnMoYil9O2Z1bmN0aW9uIEZiKGEsYil7Zm9yKDtiOyl7aWYoYj09YSlyZXR1cm4hMDtiPWIuX19zaGFkeV9wYXJlbnROb2RlfXJldHVybiExfVxuZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTE7MDw9YjtiLS0pe3ZhciBjPWFbYl0sZD1jLmdldEF0dHJpYnV0ZShcImlkXCIpfHxjLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7ZCYmXCJsZW5ndGhcIiE9PWQmJmlzTmFOKGQpJiYoYVtkXT1jKX1hLml0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIGFbZV19O2EubmFtZWRJdGVtPWZ1bmN0aW9uKGUpe2lmKFwibGVuZ3RoXCIhPT1lJiZpc05hTihlKSYmYVtlXSlyZXR1cm4gYVtlXTtmb3IodmFyIGY9bWEoYSksZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpaWYoZz1nLnZhbHVlLChnLmdldEF0dHJpYnV0ZShcImlkXCIpfHxnLmdldEF0dHJpYnV0ZShcIm5hbWVcIikpPT1lKXJldHVybiBnO3JldHVybiBudWxsfTtyZXR1cm4gYX1mdW5jdGlvbiBIYihhKXt2YXIgYj1bXTtmb3IoYT1hLl9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGQ7YTthPWEuX19zaGFkeV9uYXRpdmVfbmV4dFNpYmxpbmcpYi5wdXNoKGEpO3JldHVybiBifVxuZnVuY3Rpb24gSWIoYSl7dmFyIGI9W107Zm9yKGE9YS5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YTthPWEuX19zaGFkeV9uZXh0U2libGluZyliLnB1c2goYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gSmIoYSxiLGMpe2MuY29uZmlndXJhYmxlPSEwO2lmKGMudmFsdWUpYVtiXT1jLnZhbHVlO2Vsc2UgdHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsYyl9Y2F0Y2goZCl7fX1mdW5jdGlvbiBPKGEsYixjLGQpe2M9dm9pZCAwPT09Yz9cIlwiOmM7Zm9yKHZhciBlIGluIGIpZCYmMDw9ZC5pbmRleE9mKGUpfHxKYihhLGMrZSxiW2VdKX1mdW5jdGlvbiBLYihhLGIpe2Zvcih2YXIgYyBpbiBiKWMgaW4gYSYmSmIoYSxjLGJbY10pfWZ1bmN0aW9uIFAoYSl7dmFyIGI9e307T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihjKXtiW2NdPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxjKX0pO3JldHVybiBifVxuZnVuY3Rpb24gTGIoYSxiKXtmb3IodmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYiksZD0wLGU7ZDxjLmxlbmd0aDtkKyspZT1jW2RdLGFbZV09YltlXX07dmFyIE1iPVtdLE5iO2Z1bmN0aW9uIE9iKGEpe05ifHwoTmI9ITAsRGIoUGIpKTtNYi5wdXNoKGEpfWZ1bmN0aW9uIFBiKCl7TmI9ITE7Zm9yKHZhciBhPSEhTWIubGVuZ3RoO01iLmxlbmd0aDspTWIuc2hpZnQoKSgpO3JldHVybiBhfVBiLmxpc3Q9TWI7ZnVuY3Rpb24gUWIoKXt0aGlzLmE9ITE7dGhpcy5hZGRlZE5vZGVzPVtdO3RoaXMucmVtb3ZlZE5vZGVzPVtdO3RoaXMuamE9bmV3IFNldH1mdW5jdGlvbiBSYihhKXthLmF8fChhLmE9ITAsRGIoZnVuY3Rpb24oKXthLmZsdXNoKCl9KSl9UWIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXt0aGlzLmE9ITE7dmFyIGE9dGhpcy50YWtlUmVjb3JkcygpO2EubGVuZ3RoJiZ0aGlzLmphLmZvckVhY2goZnVuY3Rpb24oYil7YihhKX0pfX07UWIucHJvdG90eXBlLnRha2VSZWNvcmRzPWZ1bmN0aW9uKCl7aWYodGhpcy5hZGRlZE5vZGVzLmxlbmd0aHx8dGhpcy5yZW1vdmVkTm9kZXMubGVuZ3RoKXt2YXIgYT1be2FkZGVkTm9kZXM6dGhpcy5hZGRlZE5vZGVzLHJlbW92ZWROb2Rlczp0aGlzLnJlbW92ZWROb2Rlc31dO3RoaXMuYWRkZWROb2Rlcz1bXTt0aGlzLnJlbW92ZWROb2Rlcz1bXTtyZXR1cm4gYX1yZXR1cm5bXX07XG5mdW5jdGlvbiBTYihhLGIpe3ZhciBjPUEoYSk7Yy5afHwoYy5aPW5ldyBRYik7Yy5aLmphLmFkZChiKTt2YXIgZD1jLlo7cmV0dXJue01hOmIsUzpkLE5hOmEsdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtyZXR1cm4gZC50YWtlUmVjb3JkcygpfX19ZnVuY3Rpb24gVGIoYSl7dmFyIGI9YSYmYS5TO2ImJihiLmphLmRlbGV0ZShhLk1hKSxiLmphLnNpemV8fChBKGEuTmEpLlo9bnVsbCkpfVxuZnVuY3Rpb24gVWIoYSxiKXt2YXIgYz1iLmdldFJvb3ROb2RlKCk7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGQpe3ZhciBlPWM9PT1kLnRhcmdldC5nZXRSb290Tm9kZSgpO2lmKGUmJmQuYWRkZWROb2Rlcyl7aWYoZT1bXS5zbGljZS5jYWxsKGQuYWRkZWROb2RlcykuZmlsdGVyKGZ1bmN0aW9uKGYpe3JldHVybiBjPT09Zi5nZXRSb290Tm9kZSgpfSksZS5sZW5ndGgpcmV0dXJuIGQ9T2JqZWN0LmNyZWF0ZShkKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxcImFkZGVkTm9kZXNcIix7dmFsdWU6ZSxjb25maWd1cmFibGU6ITB9KSxkfWVsc2UgaWYoZSlyZXR1cm4gZH0pLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZH0pfTt2YXIgVmI9L1smXFx1MDBBMFwiXS9nLFdiPS9bJlxcdTAwQTA8Pl0vZztmdW5jdGlvbiBYYihhKXtzd2l0Y2goYSl7Y2FzZSBcIiZcIjpyZXR1cm5cIiZhbXA7XCI7Y2FzZSBcIjxcIjpyZXR1cm5cIiZsdDtcIjtjYXNlIFwiPlwiOnJldHVyblwiJmd0O1wiO2Nhc2UgJ1wiJzpyZXR1cm5cIiZxdW90O1wiO2Nhc2UgXCJcXHUwMGEwXCI6cmV0dXJuXCImbmJzcDtcIn19ZnVuY3Rpb24gWWIoYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifXZhciBaYj1ZYihcImFyZWEgYmFzZSBiciBjb2wgY29tbWFuZCBlbWJlZCBociBpbWcgaW5wdXQga2V5Z2VuIGxpbmsgbWV0YSBwYXJhbSBzb3VyY2UgdHJhY2sgd2JyXCIuc3BsaXQoXCIgXCIpKSwkYj1ZYihcInN0eWxlIHNjcmlwdCB4bXAgaWZyYW1lIG5vZW1iZWQgbm9mcmFtZXMgcGxhaW50ZXh0IG5vc2NyaXB0XCIuc3BsaXQoXCIgXCIpKTtcbmZ1bmN0aW9uIGFjKGEsYil7XCJ0ZW1wbGF0ZVwiPT09YS5sb2NhbE5hbWUmJihhPWEuY29udGVudCk7Zm9yKHZhciBjPVwiXCIsZD1iP2IoYSk6YS5jaGlsZE5vZGVzLGU9MCxmPWQubGVuZ3RoLGc9dm9pZCAwO2U8ZiYmKGc9ZFtlXSk7ZSsrKXthOnt2YXIgaD1nO3ZhciBrPWEsbD1iO3N3aXRjaChoLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOms9aC5sb2NhbE5hbWU7Zm9yKHZhciBtPVwiPFwiK2sscT1oLmF0dHJpYnV0ZXMsSD0wLEM7Qz1xW0hdO0grKyltKz1cIiBcIitDLm5hbWUrJz1cIicrQy52YWx1ZS5yZXBsYWNlKFZiLFhiKSsnXCInO20rPVwiPlwiO2g9WmJba10/bTptK2FjKGgsbCkrXCI8L1wiK2srXCI+XCI7YnJlYWsgYTtjYXNlIE5vZGUuVEVYVF9OT0RFOmg9aC5kYXRhO2g9ayYmJGJbay5sb2NhbE5hbWVdP2g6aC5yZXBsYWNlKFdiLFhiKTticmVhayBhO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6aD1cIlxceDNjIS0tXCIraC5kYXRhK1wiLS1cXHgzZVwiO2JyZWFrIGE7ZGVmYXVsdDp0aHJvdyB3aW5kb3cuY29uc29sZS5lcnJvcihoKSxcbkVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO319Yys9aH1yZXR1cm4gY307dmFyIGRjPUwuQixlYz17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9xdWVyeVNlbGVjdG9yKGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX3F1ZXJ5U2VsZWN0b3JBbGwoYSl9fSxmYz17fTtmdW5jdGlvbiBnYyhhKXtmY1thXT1mdW5jdGlvbihiKXtyZXR1cm4gYltcIl9fc2hhZHlfbmF0aXZlX1wiK2FdfX1mdW5jdGlvbiBoYyhhLGIpe08oYSxiLFwiX19zaGFkeV9uYXRpdmVfXCIpO2Zvcih2YXIgYyBpbiBiKWdjKGMpfWZ1bmN0aW9uIFEoYSxiKXtiPXZvaWQgMD09PWI/W106Yjtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXSxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxkKTtlJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX3NoYWR5X25hdGl2ZV9cIitkLGUpLGUudmFsdWU/ZWNbZF18fChlY1tkXT1lLnZhbHVlKTpnYyhkKSl9fVxudmFyIGljPWRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZG9jdW1lbnQsTm9kZUZpbHRlci5TSE9XX0FMTCxudWxsLCExKSxqYz1kb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvY3VtZW50LE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULG51bGwsITEpLGtjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcImluZXJ0XCIpO2Z1bmN0aW9uIGxjKGEpe2Zvcih2YXIgYjtiPWEuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZDspYS5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChiKX12YXIgbWM9W1wiZmlyc3RFbGVtZW50Q2hpbGRcIixcImxhc3RFbGVtZW50Q2hpbGRcIixcImNoaWxkcmVuXCIsXCJjaGlsZEVsZW1lbnRDb3VudFwiXSxuYz1bXCJxdWVyeVNlbGVjdG9yXCIsXCJxdWVyeVNlbGVjdG9yQWxsXCJdO1xuZnVuY3Rpb24gb2MoKXt2YXIgYT1bXCJkaXNwYXRjaEV2ZW50XCIsXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdO3dpbmRvdy5FdmVudFRhcmdldD9RKHdpbmRvdy5FdmVudFRhcmdldC5wcm90b3R5cGUsYSk6KFEoTm9kZS5wcm90b3R5cGUsYSksUShXaW5kb3cucHJvdG90eXBlLGEpKTtkYz9RKE5vZGUucHJvdG90eXBlLFwicGFyZW50Tm9kZSBmaXJzdENoaWxkIGxhc3RDaGlsZCBwcmV2aW91c1NpYmxpbmcgbmV4dFNpYmxpbmcgY2hpbGROb2RlcyBwYXJlbnRFbGVtZW50IHRleHRDb250ZW50XCIuc3BsaXQoXCIgXCIpKTpoYyhOb2RlLnByb3RvdHlwZSx7cGFyZW50Tm9kZTp7Z2V0OmZ1bmN0aW9uKCl7aWMuY3VycmVudE5vZGU9dGhpcztyZXR1cm4gaWMucGFyZW50Tm9kZSgpfX0sZmlyc3RDaGlsZDp7Z2V0OmZ1bmN0aW9uKCl7aWMuY3VycmVudE5vZGU9dGhpcztyZXR1cm4gaWMuZmlyc3RDaGlsZCgpfX0sbGFzdENoaWxkOntnZXQ6ZnVuY3Rpb24oKXtpYy5jdXJyZW50Tm9kZT1cbnRoaXM7cmV0dXJuIGljLmxhc3RDaGlsZCgpfX0scHJldmlvdXNTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXtpYy5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBpYy5wcmV2aW91c1NpYmxpbmcoKX19LG5leHRTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXtpYy5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBpYy5uZXh0U2libGluZygpfX0sY2hpbGROb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGI9W107aWMuY3VycmVudE5vZGU9dGhpcztmb3IodmFyIGM9aWMuZmlyc3RDaGlsZCgpO2M7KWIucHVzaChjKSxjPWljLm5leHRTaWJsaW5nKCk7cmV0dXJuIGJ9fSxwYXJlbnRFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXtqYy5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBqYy5wYXJlbnROb2RlKCl9fSx0ZXh0Q29udGVudDp7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Y2FzZSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU6Zm9yKHZhciBiPVxuZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcih0aGlzLE5vZGVGaWx0ZXIuU0hPV19URVhULG51bGwsITEpLGM9XCJcIixkO2Q9Yi5uZXh0Tm9kZSgpOyljKz1kLm5vZGVWYWx1ZTtyZXR1cm4gYztkZWZhdWx0OnJldHVybiB0aGlzLm5vZGVWYWx1ZX19LHNldDpmdW5jdGlvbihiKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGJ8fG51bGw9PT1iKWI9XCJcIjtzd2l0Y2godGhpcy5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTpsYyh0aGlzKTsoMDxiLmxlbmd0aHx8dGhpcy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKSYmdGhpcy5fX3NoYWR5X25hdGl2ZV9pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYiksdm9pZCAwKTticmVhaztkZWZhdWx0OnRoaXMubm9kZVZhbHVlPWJ9fX19KTtRKE5vZGUucHJvdG90eXBlLFwiYXBwZW5kQ2hpbGQgaW5zZXJ0QmVmb3JlIHJlbW92ZUNoaWxkIHJlcGxhY2VDaGlsZCBjbG9uZU5vZGUgY29udGFpbnNcIi5zcGxpdChcIiBcIikpO1xuUShIVE1MRWxlbWVudC5wcm90b3R5cGUsW1wicGFyZW50RWxlbWVudFwiLFwiY29udGFpbnNcIl0pO2E9e2ZpcnN0RWxlbWVudENoaWxkOntnZXQ6ZnVuY3Rpb24oKXtqYy5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBqYy5maXJzdENoaWxkKCl9fSxsYXN0RWxlbWVudENoaWxkOntnZXQ6ZnVuY3Rpb24oKXtqYy5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBqYy5sYXN0Q2hpbGQoKX19LGNoaWxkcmVuOntnZXQ6ZnVuY3Rpb24oKXt2YXIgYj1bXTtqYy5jdXJyZW50Tm9kZT10aGlzO2Zvcih2YXIgYz1qYy5maXJzdENoaWxkKCk7YzspYi5wdXNoKGMpLGM9amMubmV4dFNpYmxpbmcoKTtyZXR1cm4gR2IoYil9fSxjaGlsZEVsZW1lbnRDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4/dGhpcy5jaGlsZHJlbi5sZW5ndGg6MH19fTtkYz8oUShFbGVtZW50LnByb3RvdHlwZSxtYyksUShFbGVtZW50LnByb3RvdHlwZSxbXCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nXCIsXCJuZXh0RWxlbWVudFNpYmxpbmdcIixcblwiaW5uZXJIVE1MXCIsXCJjbGFzc05hbWVcIl0pLFEoSFRNTEVsZW1lbnQucHJvdG90eXBlLFtcImNoaWxkcmVuXCIsXCJpbm5lckhUTUxcIixcImNsYXNzTmFtZVwiXSkpOihoYyhFbGVtZW50LnByb3RvdHlwZSxhKSxoYyhFbGVtZW50LnByb3RvdHlwZSx7cHJldmlvdXNFbGVtZW50U2libGluZzp7Z2V0OmZ1bmN0aW9uKCl7amMuY3VycmVudE5vZGU9dGhpcztyZXR1cm4gamMucHJldmlvdXNTaWJsaW5nKCl9fSxuZXh0RWxlbWVudFNpYmxpbmc6e2dldDpmdW5jdGlvbigpe2pjLmN1cnJlbnROb2RlPXRoaXM7cmV0dXJuIGpjLm5leHRTaWJsaW5nKCl9fSxpbm5lckhUTUw6e2dldDpmdW5jdGlvbigpe3JldHVybiBhYyh0aGlzLEhiKX0sc2V0OmZ1bmN0aW9uKGIpe3ZhciBjPVwidGVtcGxhdGVcIj09PXRoaXMubG9jYWxOYW1lP3RoaXMuY29udGVudDp0aGlzO2xjKGMpO3ZhciBkPXRoaXMubG9jYWxOYW1lfHxcImRpdlwiO2Q9dGhpcy5uYW1lc3BhY2VVUkkmJnRoaXMubmFtZXNwYWNlVVJJIT09a2MubmFtZXNwYWNlVVJJP1xua2MuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlVVJJLGQpOmtjLmNyZWF0ZUVsZW1lbnQoZCk7ZC5pbm5lckhUTUw9Yjtmb3IoYj1cInRlbXBsYXRlXCI9PT10aGlzLmxvY2FsTmFtZT9kLmNvbnRlbnQ6ZDtkPWIuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZDspYy5fX3NoYWR5X25hdGl2ZV9pbnNlcnRCZWZvcmUoZCx2b2lkIDApfX0sY2xhc3NOYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn0sc2V0OmZ1bmN0aW9uKGIpe3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixiKX19fSkpO1EoRWxlbWVudC5wcm90b3R5cGUsXCJzZXRBdHRyaWJ1dGUgZ2V0QXR0cmlidXRlIGhhc0F0dHJpYnV0ZSByZW1vdmVBdHRyaWJ1dGUgZm9jdXMgYmx1clwiLnNwbGl0KFwiIFwiKSk7UShFbGVtZW50LnByb3RvdHlwZSxuYyk7UShIVE1MRWxlbWVudC5wcm90b3R5cGUsW1wiZm9jdXNcIixcImJsdXJcIl0pO3dpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZcblEod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLFtcImlubmVySFRNTFwiXSk7ZGM/UShEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxtYyk6aGMoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsYSk7UShEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxuYyk7ZGM/KFEoRG9jdW1lbnQucHJvdG90eXBlLG1jKSxRKERvY3VtZW50LnByb3RvdHlwZSxbXCJhY3RpdmVFbGVtZW50XCJdKSk6aGMoRG9jdW1lbnQucHJvdG90eXBlLGEpO1EoRG9jdW1lbnQucHJvdG90eXBlLFtcImltcG9ydE5vZGVcIixcImdldEVsZW1lbnRCeUlkXCJdKTtRKERvY3VtZW50LnByb3RvdHlwZSxuYyl9O3ZhciBwYz1QKHtnZXQgY2hpbGROb2Rlcygpe3JldHVybiB0aGlzLl9fc2hhZHlfY2hpbGROb2Rlc30sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X2ZpcnN0Q2hpbGR9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X2xhc3RDaGlsZH0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7cmV0dXJuIHRoaXMuX19zaGFkeV9jaGlsZEVsZW1lbnRDb3VudH0sZ2V0IGNoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9jaGlsZHJlbn0sZ2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9maXJzdEVsZW1lbnRDaGlsZH0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X2xhc3RFbGVtZW50Q2hpbGR9LGdldCBzaGFkb3dSb290KCl7cmV0dXJuIHRoaXMuX19zaGFkeV9zaGFkb3dSb290fX0pLHFjPVAoe2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLl9fc2hhZHlfdGV4dENvbnRlbnR9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLl9fc2hhZHlfdGV4dENvbnRlbnQ9XG5hfSxnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9pbm5lckhUTUx9LHNldCBpbm5lckhUTUwoYSl7cmV0dXJuIHRoaXMuX19zaGFkeV9pbm5lckhUTUw9YX19KSxyYz1QKHtnZXQgcGFyZW50RWxlbWVudCgpe3JldHVybiB0aGlzLl9fc2hhZHlfcGFyZW50RWxlbWVudH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X3BhcmVudE5vZGV9LGdldCBuZXh0U2libGluZygpe3JldHVybiB0aGlzLl9fc2hhZHlfbmV4dFNpYmxpbmd9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X3ByZXZpb3VzU2libGluZ30sZ2V0IG5leHRFbGVtZW50U2libGluZygpe3JldHVybiB0aGlzLl9fc2hhZHlfbmV4dEVsZW1lbnRTaWJsaW5nfSxnZXQgcHJldmlvdXNFbGVtZW50U2libGluZygpe3JldHVybiB0aGlzLl9fc2hhZHlfcHJldmlvdXNFbGVtZW50U2libGluZ30sZ2V0IGNsYXNzTmFtZSgpe3JldHVybiB0aGlzLl9fc2hhZHlfY2xhc3NOYW1lfSxcbnNldCBjbGFzc05hbWUoYSl7cmV0dXJuIHRoaXMuX19zaGFkeV9jbGFzc05hbWU9YX19KTtmdW5jdGlvbiBzYyhhKXtmb3IodmFyIGIgaW4gYSl7dmFyIGM9YVtiXTtjJiYoYy5lbnVtZXJhYmxlPSExKX19c2MocGMpO3NjKHFjKTtzYyhyYyk7dmFyIHRjPUwuQnx8ITA9PT1MLkQsdWM9dGM/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGEpe3ZhciBiPUEoYSk7Yi5LYXx8KGIuS2E9ITAsS2IoYSxyYykpfSx2Yz10Yz9mdW5jdGlvbigpe306ZnVuY3Rpb24oYSl7dmFyIGI9QShhKTtiLkphfHwoYi5KYT0hMCxLYihhLHBjKSx3aW5kb3cuY3VzdG9tRWxlbWVudHMmJndpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrJiYhTC5EfHxLYihhLHFjKSl9O3ZhciB3Yz1cIl9fZXZlbnRXcmFwcGVyc1wiK0RhdGUubm93KCkseGM9ZnVuY3Rpb24oKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV2ZW50LnByb3RvdHlwZSxcImNvbXBvc2VkXCIpO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhLmdldC5jYWxsKGIpfTpudWxsfSgpLHljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe312YXIgYj0hMSxjPXtnZXQgY2FwdHVyZSgpe2I9ITA7cmV0dXJuITF9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixhLGMpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLGEsYyk7cmV0dXJuIGJ9KCk7ZnVuY3Rpb24gemMoYSl7aWYoYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhKXt2YXIgYj0hIWEuY2FwdHVyZTt2YXIgYz0hIWEub25jZTt2YXIgZD0hIWEucGFzc2l2ZTt2YXIgZT1hLk99ZWxzZSBiPSEhYSxkPWM9ITE7cmV0dXJue0dhOmUsY2FwdHVyZTpiLG9uY2U6YyxwYXNzaXZlOmQsRmE6eWM/YTpifX1cbnZhciBBYz17Ymx1cjohMCxmb2N1czohMCxmb2N1c2luOiEwLGZvY3Vzb3V0OiEwLGNsaWNrOiEwLGRibGNsaWNrOiEwLG1vdXNlZG93bjohMCxtb3VzZWVudGVyOiEwLG1vdXNlbGVhdmU6ITAsbW91c2Vtb3ZlOiEwLG1vdXNlb3V0OiEwLG1vdXNlb3ZlcjohMCxtb3VzZXVwOiEwLHdoZWVsOiEwLGJlZm9yZWlucHV0OiEwLGlucHV0OiEwLGtleWRvd246ITAsa2V5dXA6ITAsY29tcG9zaXRpb25zdGFydDohMCxjb21wb3NpdGlvbnVwZGF0ZTohMCxjb21wb3NpdGlvbmVuZDohMCx0b3VjaHN0YXJ0OiEwLHRvdWNoZW5kOiEwLHRvdWNobW92ZTohMCx0b3VjaGNhbmNlbDohMCxwb2ludGVyb3ZlcjohMCxwb2ludGVyZW50ZXI6ITAscG9pbnRlcmRvd246ITAscG9pbnRlcm1vdmU6ITAscG9pbnRlcnVwOiEwLHBvaW50ZXJjYW5jZWw6ITAscG9pbnRlcm91dDohMCxwb2ludGVybGVhdmU6ITAsZ290cG9pbnRlcmNhcHR1cmU6ITAsbG9zdHBvaW50ZXJjYXB0dXJlOiEwLGRyYWdzdGFydDohMCxcbmRyYWc6ITAsZHJhZ2VudGVyOiEwLGRyYWdsZWF2ZTohMCxkcmFnb3ZlcjohMCxkcm9wOiEwLGRyYWdlbmQ6ITAsRE9NQWN0aXZhdGU6ITAsRE9NRm9jdXNJbjohMCxET01Gb2N1c091dDohMCxrZXlwcmVzczohMH0sQmM9e0RPTUF0dHJNb2RpZmllZDohMCxET01BdHRyaWJ1dGVOYW1lQ2hhbmdlZDohMCxET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQ6ITAsRE9NRWxlbWVudE5hbWVDaGFuZ2VkOiEwLERPTU5vZGVJbnNlcnRlZDohMCxET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnQ6ITAsRE9NTm9kZVJlbW92ZWQ6ITAsRE9NTm9kZVJlbW92ZWRGcm9tRG9jdW1lbnQ6ITAsRE9NU3VidHJlZU1vZGlmaWVkOiEwfTtmdW5jdGlvbiBDYyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIE5vZGU/YS5fX3NoYWR5X2dldFJvb3ROb2RlKCk6YX1cbmZ1bmN0aW9uIERjKGEsYil7dmFyIGM9W10sZD1hO2ZvcihhPUNjKGEpO2Q7KWMucHVzaChkKSxkLl9fc2hhZHlfYXNzaWduZWRTbG90P2Q9ZC5fX3NoYWR5X2Fzc2lnbmVkU2xvdDpkLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFJiZkLmhvc3QmJihifHxkIT09YSk/ZD1kLmhvc3Q6ZD1kLl9fc2hhZHlfcGFyZW50Tm9kZTtjW2MubGVuZ3RoLTFdPT09ZG9jdW1lbnQmJmMucHVzaCh3aW5kb3cpO3JldHVybiBjfWZ1bmN0aW9uIEVjKGEpe2EuX19jb21wb3NlZFBhdGh8fChhLl9fY29tcG9zZWRQYXRoPURjKGEudGFyZ2V0LCEwKSk7cmV0dXJuIGEuX19jb21wb3NlZFBhdGh9ZnVuY3Rpb24gRmMoYSxiKXtpZighTilyZXR1cm4gYTthPURjKGEsITApO2Zvcih2YXIgYz0wLGQsZT12b2lkIDAsZixnPXZvaWQgMDtjPGIubGVuZ3RoO2MrKylpZihkPWJbY10sZj1DYyhkKSxmIT09ZSYmKGc9YS5pbmRleE9mKGYpLGU9ZiksIU4oZil8fC0xPGcpcmV0dXJuIGR9XG5mdW5jdGlvbiBHYyhhKXtmdW5jdGlvbiBiKGMsZCl7Yz1uZXcgYShjLGQpO2MuX19jb21wb3NlZD1kJiYhIWQuY29tcG9zZWQ7cmV0dXJuIGN9Yi5fX3Byb3RvX189YTtiLnByb3RvdHlwZT1hLnByb3RvdHlwZTtyZXR1cm4gYn12YXIgSGM9e2ZvY3VzOiEwLGJsdXI6ITB9O2Z1bmN0aW9uIEljKGEpe3JldHVybiBhLl9fdGFyZ2V0IT09YS50YXJnZXR8fGEuX19yZWxhdGVkVGFyZ2V0IT09YS5yZWxhdGVkVGFyZ2V0fWZ1bmN0aW9uIEpjKGEsYixjKXtpZihjPWIuX19oYW5kbGVycyYmYi5fX2hhbmRsZXJzW2EudHlwZV0mJmIuX19oYW5kbGVyc1thLnR5cGVdW2NdKWZvcih2YXIgZD0wLGU7KGU9Y1tkXSkmJighSWMoYSl8fGEudGFyZ2V0IT09YS5yZWxhdGVkVGFyZ2V0KSYmKGUuY2FsbChiLGEpLCFhLl9faW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKTtkKyspO31cbmZ1bmN0aW9uIEtjKGEpe3ZhciBiPWEuY29tcG9zZWRQYXRoKCksYz1iLm1hcChmdW5jdGlvbihrKXtyZXR1cm4gRmMoayxiKX0pLGQ9YS5idWJibGVzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiY3VycmVudFRhcmdldFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319KTt2YXIgZT1FdmVudC5DQVBUVVJJTkdfUEhBU0U7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJldmVudFBoYXNlXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlfX0pO2Zvcih2YXIgZj1iLmxlbmd0aC0xOzA8PWY7Zi0tKXt2YXIgZz1iW2ZdO2U9Zz09PWNbZl0/RXZlbnQuQVRfVEFSR0VUOkV2ZW50LkNBUFRVUklOR19QSEFTRTtKYyhhLGcsXCJjYXB0dXJlXCIpO2lmKGEubWEpcmV0dXJufWZvcihmPTA7ZjxiLmxlbmd0aDtmKyspe2c9YltmXTt2YXIgaD1nPT09Y1tmXTtpZihofHxkKWlmKGU9aD9FdmVudC5BVF9UQVJHRVQ6XG5FdmVudC5CVUJCTElOR19QSEFTRSxKYyhhLGcsXCJidWJibGVcIiksYS5tYSlyZXR1cm59ZT0wO2c9bnVsbH1mdW5jdGlvbiBMYyhhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBoPWFbZ10saz1oLnR5cGUsbD1oLmNhcHR1cmUsbT1oLm9uY2UscT1oLnBhc3NpdmU7aWYoYj09PWgubm9kZSYmYz09PWsmJmQ9PT1sJiZlPT09bSYmZj09PXEpcmV0dXJuIGd9cmV0dXJuLTF9ZnVuY3Rpb24gTWMoYSl7UGIoKTtyZXR1cm4hTC5hYSYmdGhpcyBpbnN0YW5jZW9mIE5vZGUmJiFFYihkb2N1bWVudCx0aGlzKT8oYS5fX3RhcmdldHx8TmMoYSx0aGlzKSxLYyhhKSk6dGhpcy5fX3NoYWR5X25hdGl2ZV9kaXNwYXRjaEV2ZW50KGEpfVxuZnVuY3Rpb24gT2MoYSxiLGMpe3ZhciBkPXpjKGMpLGU9ZC5jYXB0dXJlLGY9ZC5vbmNlLGc9ZC5wYXNzaXZlLGg9ZC5HYTtkPWQuRmE7aWYoYil7dmFyIGs9dHlwZW9mIGI7aWYoXCJmdW5jdGlvblwiPT09a3x8XCJvYmplY3RcIj09PWspaWYoXCJvYmplY3RcIiE9PWt8fGIuaGFuZGxlRXZlbnQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLmhhbmRsZUV2ZW50KXtpZihCY1thXSlyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9hZGRFdmVudExpc3RlbmVyKGEsYixkKTt2YXIgbD1ofHx0aGlzO2lmKGg9Ylt3Y10pe2lmKC0xPExjKGgsbCxhLGUsZixnKSlyZXR1cm59ZWxzZSBiW3djXT1bXTtoPWZ1bmN0aW9uKG0pe2YmJnRoaXMuX19zaGFkeV9yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKTttLl9fdGFyZ2V0fHxOYyhtKTtpZihsIT09dGhpcyl7dmFyIHE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLFwiY3VycmVudFRhcmdldFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobSxcImN1cnJlbnRUYXJnZXRcIixcbntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sY29uZmlndXJhYmxlOiEwfSk7dmFyIEg9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLFwiZXZlbnRQaGFzZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobSxcImV2ZW50UGhhc2VcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGU/RXZlbnQuQ0FQVFVSSU5HX1BIQVNFOkV2ZW50LkJVQkJMSU5HX1BIQVNFfX0pfW0uX19wcmV2aW91c0N1cnJlbnRUYXJnZXQ9bS5jdXJyZW50VGFyZ2V0O2lmKCFOKGwpJiZcInNsb3RcIiE9PWwubG9jYWxOYW1lfHwtMSE9bS5jb21wb3NlZFBhdGgoKS5pbmRleE9mKGwpKWlmKG0uY29tcG9zZWR8fC0xPG0uY29tcG9zZWRQYXRoKCkuaW5kZXhPZihsKSlpZihJYyhtKSYmbS50YXJnZXQ9PT1tLnJlbGF0ZWRUYXJnZXQpbS5ldmVudFBoYXNlPT09RXZlbnQuQlVCQkxJTkdfUEhBU0UmJm0uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZWxzZSBpZihtLmV2ZW50UGhhc2U9PT1cbkV2ZW50LkNBUFRVUklOR19QSEFTRXx8bS5idWJibGVzfHxtLnRhcmdldD09PWx8fGwgaW5zdGFuY2VvZiBXaW5kb3cpe3ZhciBDPVwiZnVuY3Rpb25cIj09PWs/Yi5jYWxsKGwsbSk6Yi5oYW5kbGVFdmVudCYmYi5oYW5kbGVFdmVudChtKTtsIT09dGhpcyYmKHE/KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLFwiY3VycmVudFRhcmdldFwiLHEpLHE9bnVsbCk6ZGVsZXRlIG0uY3VycmVudFRhcmdldCxIPyhPYmplY3QuZGVmaW5lUHJvcGVydHkobSxcImV2ZW50UGhhc2VcIixIKSxIPW51bGwpOmRlbGV0ZSBtLmV2ZW50UGhhc2UpO3JldHVybiBDfX07Ylt3Y10ucHVzaCh7bm9kZTpsLHR5cGU6YSxjYXB0dXJlOmUsb25jZTpmLHBhc3NpdmU6ZyxsYjpofSk7dGhpcy5fX2hhbmRsZXJzPXRoaXMuX19oYW5kbGVyc3x8e307dGhpcy5fX2hhbmRsZXJzW2FdPXRoaXMuX19oYW5kbGVyc1thXXx8e2NhcHR1cmU6W10sYnViYmxlOltdfTt0aGlzLl9faGFuZGxlcnNbYV1bZT9cImNhcHR1cmVcIjpcImJ1YmJsZVwiXS5wdXNoKGgpO1xuSGNbYV18fHRoaXMuX19zaGFkeV9uYXRpdmVfYWRkRXZlbnRMaXN0ZW5lcihhLGgsZCl9fX1cbmZ1bmN0aW9uIFBjKGEsYixjKXtpZihiKXt2YXIgZD16YyhjKTtjPWQuY2FwdHVyZTt2YXIgZT1kLm9uY2UsZj1kLnBhc3NpdmUsZz1kLkdhO2Q9ZC5GYTtpZihCY1thXSlyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9yZW1vdmVFdmVudExpc3RlbmVyKGEsYixkKTt2YXIgaD1nfHx0aGlzO2c9dm9pZCAwO3ZhciBrPW51bGw7dHJ5e2s9Ylt3Y119Y2F0Y2gobCl7fWsmJihlPUxjKGssaCxhLGMsZSxmKSwtMTxlJiYoZz1rLnNwbGljZShlLDEpWzBdLmxiLGsubGVuZ3RofHwoYlt3Y109dm9pZCAwKSkpO3RoaXMuX19zaGFkeV9uYXRpdmVfcmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGd8fGIsZCk7ZyYmdGhpcy5fX2hhbmRsZXJzJiZ0aGlzLl9faGFuZGxlcnNbYV0mJihhPXRoaXMuX19oYW5kbGVyc1thXVtjP1wiY2FwdHVyZVwiOlwiYnViYmxlXCJdLGI9YS5pbmRleE9mKGcpLC0xPGImJmEuc3BsaWNlKGIsMSkpfX1cbmZ1bmN0aW9uIFFjKCl7Zm9yKHZhciBhIGluIEhjKXdpbmRvdy5fX3NoYWR5X25hdGl2ZV9hZGRFdmVudExpc3RlbmVyKGEsZnVuY3Rpb24oYil7Yi5fX3RhcmdldHx8KE5jKGIpLEtjKGIpKX0sITApfVxudmFyIFJjPVAoe2dldCBjb21wb3NlZCgpe3ZvaWQgMD09PXRoaXMuX19jb21wb3NlZCYmKHhjP3RoaXMuX19jb21wb3NlZD1cImZvY3VzaW5cIj09PXRoaXMudHlwZXx8XCJmb2N1c291dFwiPT09dGhpcy50eXBlfHx4Yyh0aGlzKTohMSE9PXRoaXMuaXNUcnVzdGVkJiYodGhpcy5fX2NvbXBvc2VkPUFjW3RoaXMudHlwZV0pKTtyZXR1cm4gdGhpcy5fX2NvbXBvc2VkfHwhMX0sY29tcG9zZWRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fX2NvbXBvc2VkUGF0aHx8KHRoaXMuX19jb21wb3NlZFBhdGg9RGModGhpcy5fX3RhcmdldCx0aGlzLmNvbXBvc2VkKSk7cmV0dXJuIHRoaXMuX19jb21wb3NlZFBhdGh9LGdldCB0YXJnZXQoKXtyZXR1cm4gRmModGhpcy5jdXJyZW50VGFyZ2V0fHx0aGlzLl9fcHJldmlvdXNDdXJyZW50VGFyZ2V0LHRoaXMuY29tcG9zZWRQYXRoKCkpfSxnZXQgcmVsYXRlZFRhcmdldCgpe2lmKCF0aGlzLl9fcmVsYXRlZFRhcmdldClyZXR1cm4gbnVsbDt0aGlzLl9fcmVsYXRlZFRhcmdldENvbXBvc2VkUGF0aHx8XG4odGhpcy5fX3JlbGF0ZWRUYXJnZXRDb21wb3NlZFBhdGg9RGModGhpcy5fX3JlbGF0ZWRUYXJnZXQsITApKTtyZXR1cm4gRmModGhpcy5jdXJyZW50VGFyZ2V0fHx0aGlzLl9fcHJldmlvdXNDdXJyZW50VGFyZ2V0LHRoaXMuX19yZWxhdGVkVGFyZ2V0Q29tcG9zZWRQYXRoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7RXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO3RoaXMubWE9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe0V2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbCh0aGlzKTt0aGlzLm1hPXRoaXMuX19pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITB9fSk7XG5mdW5jdGlvbiBOYyhhLGIpe2I9dm9pZCAwPT09Yj9hLnRhcmdldDpiO2EuX190YXJnZXQ9YjthLl9fcmVsYXRlZFRhcmdldD1hLnJlbGF0ZWRUYXJnZXQ7aWYoTC5CKXtiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKTtpZighYi5oYXNPd25Qcm9wZXJ0eShcIl9fc2hhZHlfcGF0Y2hlZFByb3RvXCIpKXt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO2MuX19zaGFkeV9zb3VyY2VQcm90bz1iO08oYyxSYyk7Yi5fX3NoYWR5X3BhdGNoZWRQcm90bz1jfWEuX19wcm90b19fPWIuX19zaGFkeV9wYXRjaGVkUHJvdG99ZWxzZSBPKGEsUmMpfXZhciBTYz1HYyhFdmVudCksVGM9R2MoQ3VzdG9tRXZlbnQpLFVjPUdjKE1vdXNlRXZlbnQpO1xuZnVuY3Rpb24gVmMoKXtpZigheGMmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXZlbnQucHJvdG90eXBlLFwiaXNUcnVzdGVkXCIpKXt2YXIgYT1mdW5jdGlvbigpe3ZhciBiPW5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNvbXBvc2VkOiEwfSk7dGhpcy5fX3NoYWR5X2Rpc3BhdGNoRXZlbnQoYil9O0VsZW1lbnQucHJvdG90eXBlLmNsaWNrP0VsZW1lbnQucHJvdG90eXBlLmNsaWNrPWE6SFRNTEVsZW1lbnQucHJvdG90eXBlLmNsaWNrJiYoSFRNTEVsZW1lbnQucHJvdG90eXBlLmNsaWNrPWEpfX1cbnZhciBXYz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhFbGVtZW50LnByb3RvdHlwZSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwib25cIj09PWEuc3Vic3RyaW5nKDAsMil9KSxYYz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhIVE1MRWxlbWVudC5wcm90b3R5cGUpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm5cIm9uXCI9PT1hLnN1YnN0cmluZygwLDIpfSk7ZnVuY3Rpb24gWWMoYSl7cmV0dXJue3NldDpmdW5jdGlvbihiKXt2YXIgYz1BKHRoaXMpLGQ9YS5zdWJzdHJpbmcoMik7Yy5OfHwoYy5OPXt9KTtjLk5bYV0mJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGMuTlthXSk7dGhpcy5fX3NoYWR5X2FkZEV2ZW50TGlzdGVuZXIoZCxiKTtjLk5bYV09Yn0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGI9RCh0aGlzKTtyZXR1cm4gYiYmYi5OJiZiLk5bYV19LGNvbmZpZ3VyYWJsZTohMH19O2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJue2luZGV4OmEsYmE6W10saWE6Yn19XG5mdW5jdGlvbiAkYyhhLGIsYyxkKXt2YXIgZT0wLGY9MCxnPTAsaD0wLGs9TWF0aC5taW4oYi1lLGQtZik7aWYoMD09ZSYmMD09ZilhOntmb3IoZz0wO2c8aztnKyspaWYoYVtnXSE9PWNbZ10pYnJlYWsgYTtnPWt9aWYoYj09YS5sZW5ndGgmJmQ9PWMubGVuZ3RoKXtoPWEubGVuZ3RoO2Zvcih2YXIgbD1jLmxlbmd0aCxtPTA7bTxrLWcmJmFkKGFbLS1oXSxjWy0tbF0pOyltKys7aD1tfWUrPWc7Zis9ZztiLT1oO2QtPWg7aWYoMD09Yi1lJiYwPT1kLWYpcmV0dXJuW107aWYoZT09Yil7Zm9yKGI9WmMoZSwwKTtmPGQ7KWIuYmEucHVzaChjW2YrK10pO3JldHVybltiXX1pZihmPT1kKXJldHVybltaYyhlLGItZSldO2s9ZTtnPWY7ZD1kLWcrMTtoPWItaysxO2I9QXJyYXkoZCk7Zm9yKGw9MDtsPGQ7bCsrKWJbbF09QXJyYXkoaCksYltsXVswXT1sO2ZvcihsPTA7bDxoO2wrKyliWzBdW2xdPWw7Zm9yKGw9MTtsPGQ7bCsrKWZvcihtPTE7bTxoO20rKylpZihhW2srbS0xXT09PWNbZytsLTFdKWJbbF1bbV09XG5iW2wtMV1bbS0xXTtlbHNle3ZhciBxPWJbbC0xXVttXSsxLEg9YltsXVttLTFdKzE7YltsXVttXT1xPEg/cTpIfWs9Yi5sZW5ndGgtMTtnPWJbMF0ubGVuZ3RoLTE7ZD1iW2tdW2ddO2ZvcihhPVtdOzA8a3x8MDxnOykwPT1rPyhhLnB1c2goMiksZy0tKTowPT1nPyhhLnB1c2goMyksay0tKTooaD1iW2stMV1bZy0xXSxsPWJbay0xXVtnXSxtPWJba11bZy0xXSxxPWw8bT9sPGg/bDpoOm08aD9tOmgscT09aD8oaD09ZD9hLnB1c2goMCk6KGEucHVzaCgxKSxkPWgpLGstLSxnLS0pOnE9PWw/KGEucHVzaCgzKSxrLS0sZD1sKTooYS5wdXNoKDIpLGctLSxkPW0pKTthLnJldmVyc2UoKTtiPXZvaWQgMDtrPVtdO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspc3dpdGNoKGFbZ10pe2Nhc2UgMDpiJiYoay5wdXNoKGIpLGI9dm9pZCAwKTtlKys7ZisrO2JyZWFrO2Nhc2UgMTpifHwoYj1aYyhlLDApKTtiLmlhKys7ZSsrO2IuYmEucHVzaChjW2ZdKTtmKys7YnJlYWs7Y2FzZSAyOmJ8fChiPVpjKGUsXG4wKSk7Yi5pYSsrO2UrKzticmVhaztjYXNlIDM6Ynx8KGI9WmMoZSwwKSksYi5iYS5wdXNoKGNbZl0pLGYrK31iJiZrLnB1c2goYik7cmV0dXJuIGt9ZnVuY3Rpb24gYWQoYSxiKXtyZXR1cm4gYT09PWJ9O3ZhciBiZD1QKHtkaXNwYXRjaEV2ZW50Ok1jLGFkZEV2ZW50TGlzdGVuZXI6T2MscmVtb3ZlRXZlbnRMaXN0ZW5lcjpQY30pO3ZhciBjZD1udWxsO2Z1bmN0aW9uIGRkKCl7Y2R8fChjZD13aW5kb3cuU2hhZHlDU1MmJndpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSk7cmV0dXJuIGNkfHxudWxsfWZ1bmN0aW9uIGVkKGEsYixjKXt2YXIgZD1kZCgpO3JldHVybiBkJiZcImNsYXNzXCI9PT1iPyhkLnNldEVsZW1lbnRDbGFzcyhhLGMpLCEwKTohMX1mdW5jdGlvbiBmZChhLGIpe3ZhciBjPWRkKCk7YyYmYy51bnNjb3BlTm9kZShhLGIpfWZ1bmN0aW9uIGdkKGEsYil7dmFyIGM9ZGQoKTtpZighYylyZXR1cm4hMDtpZihhLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXtjPSEwO2ZvcihhPWEuX19zaGFkeV9maXJzdENoaWxkO2E7YT1hLl9fc2hhZHlfbmV4dFNpYmxpbmcpYz1jJiZnZChhLGIpO3JldHVybiBjfXJldHVybiBhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU/ITA6Yy5jdXJyZW50U2NvcGVGb3JOb2RlKGEpPT09Yn1cbmZ1bmN0aW9uIGhkKGEpe2lmKGEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm5cIlwiO3ZhciBiPWRkKCk7cmV0dXJuIGI/Yi5jdXJyZW50U2NvcGVGb3JOb2RlKGEpOlwiXCJ9ZnVuY3Rpb24gaWQoYSxiKXtpZihhKWZvcihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJmIoYSksYT1hLl9fc2hhZHlfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25leHRTaWJsaW5nKWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmaWQoYSxiKX07dmFyIGpkPXdpbmRvdy5kb2N1bWVudCxrZD1MLmFhLGxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsXCJpc0Nvbm5lY3RlZFwiKSxtZD1sZCYmbGQuZ2V0O2Z1bmN0aW9uIG5kKGEpe2Zvcih2YXIgYjtiPWEuX19zaGFkeV9maXJzdENoaWxkOylhLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gb2QoYSl7dmFyIGI9RChhKTtpZihiJiZ2b2lkIDAhPT1iLmxhKWZvcihiPWEuX19zaGFkeV9maXJzdENoaWxkO2I7Yj1iLl9fc2hhZHlfbmV4dFNpYmxpbmcpb2QoYik7aWYoYT1EKGEpKWEubGE9dm9pZCAwfWZ1bmN0aW9uIHBkKGEpe3ZhciBiPWE7aWYoYSYmXCJzbG90XCI9PT1hLmxvY2FsTmFtZSl7dmFyIGM9RChhKTsoYz1jJiZjLlYpJiYoYj1jLmxlbmd0aD9jWzBdOnBkKGEuX19zaGFkeV9uZXh0U2libGluZykpfXJldHVybiBifVxuZnVuY3Rpb24gcWQoYSxiLGMpe2lmKGE9KGE9RChhKSkmJmEuWil7aWYoYilpZihiLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKWZvcih2YXIgZD0wLGU9Yi5jaGlsZE5vZGVzLmxlbmd0aDtkPGU7ZCsrKWEuYWRkZWROb2Rlcy5wdXNoKGIuY2hpbGROb2Rlc1tkXSk7ZWxzZSBhLmFkZGVkTm9kZXMucHVzaChiKTtjJiZhLnJlbW92ZWROb2Rlcy5wdXNoKGMpO1JiKGEpfX1cbnZhciB4ZD1QKHtnZXQgcGFyZW50Tm9kZSgpe3ZhciBhPUQodGhpcyk7YT1hJiZhLnBhcmVudE5vZGU7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX3BhcmVudE5vZGV9LGdldCBmaXJzdENoaWxkKCl7dmFyIGE9RCh0aGlzKTthPWEmJmEuZmlyc3RDaGlsZDtyZXR1cm4gdm9pZCAwIT09YT9hOnRoaXMuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZH0sZ2V0IGxhc3RDaGlsZCgpe3ZhciBhPUQodGhpcyk7YT1hJiZhLmxhc3RDaGlsZDtyZXR1cm4gdm9pZCAwIT09YT9hOnRoaXMuX19zaGFkeV9uYXRpdmVfbGFzdENoaWxkfSxnZXQgbmV4dFNpYmxpbmcoKXt2YXIgYT1EKHRoaXMpO2E9YSYmYS5uZXh0U2libGluZztyZXR1cm4gdm9pZCAwIT09YT9hOnRoaXMuX19zaGFkeV9uYXRpdmVfbmV4dFNpYmxpbmd9LGdldCBwcmV2aW91c1NpYmxpbmcoKXt2YXIgYT1EKHRoaXMpO2E9YSYmYS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX3ByZXZpb3VzU2libGluZ30sXG5nZXQgY2hpbGROb2Rlcygpe2lmKHZiKHRoaXMpKXt2YXIgYT1EKHRoaXMpO2lmKCFhLmNoaWxkTm9kZXMpe2EuY2hpbGROb2Rlcz1bXTtmb3IodmFyIGI9dGhpcy5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YjtiPWIuX19zaGFkeV9uZXh0U2libGluZylhLmNoaWxkTm9kZXMucHVzaChiKX12YXIgYz1hLmNoaWxkTm9kZXN9ZWxzZSBjPXRoaXMuX19zaGFkeV9uYXRpdmVfY2hpbGROb2RlcztjLml0ZW09ZnVuY3Rpb24oZCl7cmV0dXJuIGNbZF19O3JldHVybiBjfSxnZXQgcGFyZW50RWxlbWVudCgpe3ZhciBhPUQodGhpcyk7KGE9YSYmYS5wYXJlbnROb2RlKSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFJiYoYT1udWxsKTtyZXR1cm4gdm9pZCAwIT09YT9hOnRoaXMuX19zaGFkeV9uYXRpdmVfcGFyZW50RWxlbWVudH0sZ2V0IGlzQ29ubmVjdGVkKCl7aWYobWQmJm1kLmNhbGwodGhpcykpcmV0dXJuITA7aWYodGhpcy5ub2RlVHlwZT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXJldHVybiExO1xudmFyIGE9dGhpcy5vd25lckRvY3VtZW50O2lmKG51bGw9PT1hfHxFYihhLHRoaXMpKXJldHVybiEwO2ZvcihhPXRoaXM7YSYmIShhIGluc3RhbmNlb2YgRG9jdW1lbnQpOylhPWEuX19zaGFkeV9wYXJlbnROb2RlfHwoTihhKT9hLmhvc3Q6dm9pZCAwKTtyZXR1cm4hIShhJiZhIGluc3RhbmNlb2YgRG9jdW1lbnQpfSxnZXQgdGV4dENvbnRlbnQoKXtpZih2Yih0aGlzKSl7Zm9yKHZhciBhPVtdLGI9dGhpcy5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YjtiPWIuX19zaGFkeV9uZXh0U2libGluZyliLm5vZGVUeXBlIT09Tm9kZS5DT01NRU5UX05PREUmJmEucHVzaChiLl9fc2hhZHlfdGV4dENvbnRlbnQpO3JldHVybiBhLmpvaW4oXCJcIil9cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfdGV4dENvbnRlbnR9LHNldCB0ZXh0Q29udGVudChhKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGF8fG51bGw9PT1hKWE9XCJcIjtzd2l0Y2godGhpcy5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTppZighdmIodGhpcykmJlxuTC5CKXt2YXIgYj10aGlzLl9fc2hhZHlfZmlyc3RDaGlsZDsoYiE9dGhpcy5fX3NoYWR5X2xhc3RDaGlsZHx8YiYmYi5ub2RlVHlwZSE9Tm9kZS5URVhUX05PREUpJiZuZCh0aGlzKTt0aGlzLl9fc2hhZHlfbmF0aXZlX3RleHRDb250ZW50PWF9ZWxzZSBuZCh0aGlzKSwoMDxhLmxlbmd0aHx8dGhpcy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKSYmdGhpcy5fX3NoYWR5X2luc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLm5vZGVWYWx1ZT1hfX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5vd25lckRvY3VtZW50IT09amQmJmEub3duZXJEb2N1bWVudCE9PWpkKXJldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX2luc2VydEJlZm9yZShhLGIpLGE7aWYoYT09PXRoaXMpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnYXBwZW5kQ2hpbGQnIG9uICdOb2RlJzogVGhlIG5ldyBjaGlsZCBlbGVtZW50IGNvbnRhaW5zIHRoZSBwYXJlbnQuXCIpO1xuaWYoYil7dmFyIGM9RChiKTtjPWMmJmMucGFyZW50Tm9kZTtpZih2b2lkIDAhPT1jJiZjIT09dGhpc3x8dm9pZCAwPT09YyYmYi5fX3NoYWR5X25hdGl2ZV9wYXJlbnROb2RlIT09dGhpcyl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdpbnNlcnRCZWZvcmUnIG9uICdOb2RlJzogVGhlIG5vZGUgYmVmb3JlIHdoaWNoIHRoZSBuZXcgbm9kZSBpcyB0byBiZSBpbnNlcnRlZCBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIG5vZGUuXCIpO31pZihiPT09YSlyZXR1cm4gYTtxZCh0aGlzLGEpO3ZhciBkPVtdLGU9KGM9cmQodGhpcykpP2MuaG9zdC5sb2NhbE5hbWU6aGQodGhpcyksZj1hLl9fc2hhZHlfcGFyZW50Tm9kZTtpZihmKXt2YXIgZz1oZChhKTt2YXIgaD0hIWN8fCFyZChhKXx8a2QmJnZvaWQgMCE9PXRoaXMuX19ub0luc2VydGlvblBvaW50O2YuX19zaGFkeV9yZW1vdmVDaGlsZChhLGgpfWY9ITA7dmFyIGs9KCFrZHx8dm9pZCAwPT09YS5fX25vSW5zZXJ0aW9uUG9pbnQmJnZvaWQgMD09PVxudGhpcy5fX25vSW5zZXJ0aW9uUG9pbnQpJiYhZ2QoYSxlKSxsPWMmJiFhLl9fbm9JbnNlcnRpb25Qb2ludCYmKCFrZHx8YS5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSk7aWYobHx8aylrJiYoZz1nfHxoZChhKSksaWQoYSxmdW5jdGlvbihtKXtsJiZcInNsb3RcIj09PW0ubG9jYWxOYW1lJiZkLnB1c2gobSk7aWYoayl7dmFyIHE9ZztkZCgpJiYocSYmZmQobSxxKSwocT1kZCgpKSYmcS5zY29wZU5vZGUobSxlKSl9fSk7ZC5sZW5ndGgmJihzZChjKSxjLmMucHVzaC5hcHBseShjLmMsZCBpbnN0YW5jZW9mIEFycmF5P2Q6bmEobWEoZCkpKSx0ZChjKSk7dmIodGhpcykmJih1ZChhLHRoaXMsYiksaD1EKHRoaXMpLGgucm9vdD8oZj0hMSx3Yih0aGlzKSYmdGQoaC5yb290KSk6YyYmXCJzbG90XCI9PT10aGlzLmxvY2FsTmFtZSYmKGY9ITEsdGQoYykpKTtmPyhjPU4odGhpcyk/dGhpcy5ob3N0OnRoaXMsYj8oYj1wZChiKSxjLl9fc2hhZHlfbmF0aXZlX2luc2VydEJlZm9yZShhLFxuYikpOmMuX19zaGFkeV9uYXRpdmVfYXBwZW5kQ2hpbGQoYSkpOmEub3duZXJEb2N1bWVudCE9PXRoaXMub3duZXJEb2N1bWVudCYmdGhpcy5vd25lckRvY3VtZW50LmFkb3B0Tm9kZShhKTtyZXR1cm4gYX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7aWYodGhpcyE9YXx8IU4oYSkpcmV0dXJuIHRoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSl9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEsYil7Yj12b2lkIDA9PT1iPyExOmI7aWYodGhpcy5vd25lckRvY3VtZW50IT09amQpcmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQoYSk7aWYoYS5fX3NoYWR5X3BhcmVudE5vZGUhPT10aGlzKXRocm93IEVycm9yKFwiVGhlIG5vZGUgdG8gYmUgcmVtb3ZlZCBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIG5vZGU6IFwiK2EpO3FkKHRoaXMsbnVsbCxhKTt2YXIgYz1yZChhKSxkPWMmJnZkKGMsYSksZT1EKHRoaXMpO2lmKHZiKHRoaXMpJiYod2QoYSx0aGlzKSx3Yih0aGlzKSkpe3RkKGUucm9vdCk7XG52YXIgZj0hMH1pZihkZCgpJiYhYiYmYyYmYS5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXt2YXIgZz1oZChhKTtpZChhLGZ1bmN0aW9uKGgpe2ZkKGgsZyl9KX1vZChhKTtjJiYoKGI9XCJzbG90XCI9PT10aGlzLmxvY2FsTmFtZSkmJihmPSEwKSwoZHx8YikmJnRkKGMpKTtmfHwoZj1OKHRoaXMpP3RoaXMuaG9zdDp0aGlzLCghZS5yb290JiZcInNsb3RcIiE9PWEubG9jYWxOYW1lfHxmPT09YS5fX3NoYWR5X25hdGl2ZV9wYXJlbnROb2RlKSYmZi5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChhKSk7cmV0dXJuIGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGIpe3RoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSxiKTt0aGlzLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYik7cmV0dXJuIGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtpZihcInRlbXBsYXRlXCI9PXRoaXMubG9jYWxOYW1lKXJldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX2Nsb25lTm9kZShhKTt2YXIgYj10aGlzLl9fc2hhZHlfbmF0aXZlX2Nsb25lTm9kZSghMSk7XG5pZihhJiZiLm5vZGVUeXBlIT09Tm9kZS5BVFRSSUJVVEVfTk9ERSl7YT10aGlzLl9fc2hhZHlfZmlyc3RDaGlsZDtmb3IodmFyIGM7YTthPWEuX19zaGFkeV9uZXh0U2libGluZyljPWEuX19zaGFkeV9jbG9uZU5vZGUoITApLGIuX19zaGFkeV9hcHBlbmRDaGlsZChjKX1yZXR1cm4gYn0sZ2V0Um9vdE5vZGU6ZnVuY3Rpb24oYSl7aWYodGhpcyYmdGhpcy5ub2RlVHlwZSl7dmFyIGI9QSh0aGlzKSxjPWIubGE7dm9pZCAwPT09YyYmKE4odGhpcyk/KGM9dGhpcyxiLmxhPWMpOihjPShjPXRoaXMuX19zaGFkeV9wYXJlbnROb2RlKT9jLl9fc2hhZHlfZ2V0Um9vdE5vZGUoYSk6dGhpcyxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuX19zaGFkeV9uYXRpdmVfY29udGFpbnModGhpcykmJihiLmxhPWMpKSk7cmV0dXJuIGN9fSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gRmIodGhpcyxhKX19KTt2YXIgemQ9UCh7Z2V0IGFzc2lnbmVkU2xvdCgpe3ZhciBhPXRoaXMuX19zaGFkeV9wYXJlbnROb2RlOyhhPWEmJmEuX19zaGFkeV9zaGFkb3dSb290KSYmeWQoYSk7cmV0dXJuKGE9RCh0aGlzKSkmJmEuYXNzaWduZWRTbG90fHxudWxsfX0pO2Z1bmN0aW9uIEFkKGEsYixjKXt2YXIgZD1bXTtDZChhLGIsYyxkKTtyZXR1cm4gZH1mdW5jdGlvbiBDZChhLGIsYyxkKXtmb3IoYT1hLl9fc2hhZHlfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25leHRTaWJsaW5nKXt2YXIgZTtpZihlPWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7ZT1hO3ZhciBmPWIsZz1jLGg9ZCxrPWYoZSk7ayYmaC5wdXNoKGUpO2cmJmcoayk/ZT1rOihDZChlLGYsZyxoKSxlPXZvaWQgMCl9aWYoZSlicmVha319XG52YXIgRGQ9UCh7Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7dmFyIGE9RCh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLmZpcnN0Q2hpbGQpe2ZvcihhPXRoaXMuX19zaGFkeV9maXJzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLl9fc2hhZHlfbmV4dFNpYmxpbmc7cmV0dXJuIGF9cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfZmlyc3RFbGVtZW50Q2hpbGR9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7dmFyIGE9RCh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLmxhc3RDaGlsZCl7Zm9yKGE9dGhpcy5fX3NoYWR5X2xhc3RDaGlsZDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5fX3NoYWR5X3ByZXZpb3VzU2libGluZztyZXR1cm4gYX1yZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9sYXN0RWxlbWVudENoaWxkfSxnZXQgY2hpbGRyZW4oKXtyZXR1cm4gdmIodGhpcyk/R2IoQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKEliKHRoaXMpLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0pKTp0aGlzLl9fc2hhZHlfbmF0aXZlX2NoaWxkcmVufSxnZXQgY2hpbGRFbGVtZW50Q291bnQoKXt2YXIgYT10aGlzLl9fc2hhZHlfY2hpbGRyZW47cmV0dXJuIGE/YS5sZW5ndGg6MH19KSxFZD1QKHtxdWVyeVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBBZCh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiB6Yi5jYWxsKGIsYSl9LGZ1bmN0aW9uKGIpe3JldHVybiEhYn0pWzBdfHxudWxsfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEsYil7aWYoYil7Yj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9fc2hhZHlfbmF0aXZlX3F1ZXJ5U2VsZWN0b3JBbGwoYSkpO3ZhciBjPXRoaXMuX19zaGFkeV9nZXRSb290Tm9kZSgpO3JldHVybiBHYihiLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC5fX3NoYWR5X2dldFJvb3ROb2RlKCk9PWN9KSl9cmV0dXJuIEdiKEFkKHRoaXMsZnVuY3Rpb24oZCl7cmV0dXJuIHpiLmNhbGwoZCxcbmEpfSkpfX0pLEZkPUwuYWEmJiFMLkQ/TGIoe30sRGQpOkRkO0xiKERkLEVkKTt2YXIgR2Q9d2luZG93LmRvY3VtZW50O2Z1bmN0aW9uIEhkKGEsYil7aWYoXCJzbG90XCI9PT1iKWE9YS5fX3NoYWR5X3BhcmVudE5vZGUsd2IoYSkmJnRkKEQoYSkucm9vdCk7ZWxzZSBpZihcInNsb3RcIj09PWEubG9jYWxOYW1lJiZcIm5hbWVcIj09PWImJihiPXJkKGEpKSl7aWYoYi5hKXtJZChiKTt2YXIgYz1hLkxhLGQ9SmQoYSk7aWYoZCE9PWMpe2M9Yi5iW2NdO3ZhciBlPWMuaW5kZXhPZihhKTswPD1lJiZjLnNwbGljZShlLDEpO2M9Yi5iW2RdfHwoYi5iW2RdPVtdKTtjLnB1c2goYSk7MTxjLmxlbmd0aCYmKGIuYltkXT1LZChjKSl9fXRkKGIpfX1cbnZhciBMZD1QKHtnZXQgcHJldmlvdXNFbGVtZW50U2libGluZygpe3ZhciBhPUQodGhpcyk7aWYoYSYmdm9pZCAwIT09YS5wcmV2aW91c1NpYmxpbmcpe2ZvcihhPXRoaXMuX19zaGFkeV9wcmV2aW91c1NpYmxpbmc7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEuX19zaGFkeV9wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfcHJldmlvdXNFbGVtZW50U2libGluZ30sZ2V0IG5leHRFbGVtZW50U2libGluZygpe3ZhciBhPUQodGhpcyk7aWYoYSYmdm9pZCAwIT09YS5uZXh0U2libGluZyl7Zm9yKGE9dGhpcy5fX3NoYWR5X25leHRTaWJsaW5nO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLl9fc2hhZHlfbmV4dFNpYmxpbmc7cmV0dXJuIGF9cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfbmV4dEVsZW1lbnRTaWJsaW5nfSxnZXQgc2xvdCgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNsb3RcIil9LFxuc2V0IHNsb3QoYSl7dGhpcy5fX3NoYWR5X3NldEF0dHJpYnV0ZShcInNsb3RcIixhKX0sZ2V0IGNsYXNzTmFtZSgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifSxzZXQgY2xhc3NOYW1lKGEpe3RoaXMuX19zaGFkeV9zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXt0aGlzLm93bmVyRG9jdW1lbnQhPT1HZD90aGlzLl9fc2hhZHlfbmF0aXZlX3NldEF0dHJpYnV0ZShhLGIpOmVkKHRoaXMsYSxiKXx8KHRoaXMuX19zaGFkeV9uYXRpdmVfc2V0QXR0cmlidXRlKGEsYiksSGQodGhpcyxhKSl9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLm93bmVyRG9jdW1lbnQhPT1HZD90aGlzLl9fc2hhZHlfbmF0aXZlX3JlbW92ZUF0dHJpYnV0ZShhKTplZCh0aGlzLGEsXCJcIik/XCJcIj09PXRoaXMuZ2V0QXR0cmlidXRlKGEpJiZ0aGlzLl9fc2hhZHlfbmF0aXZlX3JlbW92ZUF0dHJpYnV0ZShhKToodGhpcy5fX3NoYWR5X25hdGl2ZV9yZW1vdmVBdHRyaWJ1dGUoYSksXG5IZCh0aGlzLGEpKX19KTtMLmFhfHxXYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe0xkW2FdPVljKGEpfSk7XG52YXIgUWQ9UCh7YXR0YWNoU2hhZG93OmZ1bmN0aW9uKGEpe2lmKCF0aGlzKXRocm93IEVycm9yKFwiTXVzdCBwcm92aWRlIGEgaG9zdC5cIik7aWYoIWEpdGhyb3cgRXJyb3IoXCJOb3QgZW5vdWdoIGFyZ3VtZW50cy5cIik7aWYoYS5zaGFkeVVwZ3JhZGVGcmFnbWVudCYmIUwuSWEpe3ZhciBiPWEuc2hhZHlVcGdyYWRlRnJhZ21lbnQ7Yi5fX3Byb3RvX189U2hhZG93Um9vdC5wcm90b3R5cGU7TWQoYix0aGlzLGEpO05kKGIsYik7YT1iLl9fbm9JbnNlcnRpb25Qb2ludD9udWxsOmIucXVlcnlTZWxlY3RvckFsbChcInNsb3RcIik7Yi5fX25vSW5zZXJ0aW9uUG9pbnQ9dm9pZCAwO2lmKGEmJmEubGVuZ3RoKXt2YXIgYz1iO3NkKGMpO2MuYy5wdXNoLmFwcGx5KGMuYyxhIGluc3RhbmNlb2YgQXJyYXk/YTpuYShtYShhKSkpO3RkKGIpfWIuaG9zdC5fX3NoYWR5X25hdGl2ZV9hcHBlbmRDaGlsZChiKX1lbHNlIGI9bmV3IE9kKFBkLHRoaXMsYSk7cmV0dXJuIHRoaXMuX19DRV9zaGFkb3dSb290PWJ9LFxuZ2V0IHNoYWRvd1Jvb3QoKXt2YXIgYT1EKHRoaXMpO3JldHVybiBhJiZhLmJifHxudWxsfX0pO0xiKExkLFFkKTt2YXIgUmQ9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiaW5lcnRcIiksU2Q9UCh7Z2V0IGlubmVySFRNTCgpe3JldHVybiB2Yih0aGlzKT9hYyhcInRlbXBsYXRlXCI9PT10aGlzLmxvY2FsTmFtZT90aGlzLmNvbnRlbnQ6dGhpcyxJYik6dGhpcy5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUx9LHNldCBpbm5lckhUTUwoYSl7aWYoXCJ0ZW1wbGF0ZVwiPT09dGhpcy5sb2NhbE5hbWUpdGhpcy5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUw9YTtlbHNle25kKHRoaXMpO3ZhciBiPXRoaXMubG9jYWxOYW1lfHxcImRpdlwiO2I9dGhpcy5uYW1lc3BhY2VVUkkmJnRoaXMubmFtZXNwYWNlVVJJIT09UmQubmFtZXNwYWNlVVJJP1JkLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZVVSSSxiKTpSZC5jcmVhdGVFbGVtZW50KGIpO2ZvcihMLkI/Yi5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUw9YTpiLmlubmVySFRNTD1hO2E9Yi5fX3NoYWR5X2ZpcnN0Q2hpbGQ7KXRoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSl9fX0pO3ZhciBUZD1QKHtibHVyOmZ1bmN0aW9uKCl7dmFyIGE9RCh0aGlzKTsoYT0oYT1hJiZhLnJvb3QpJiZhLmFjdGl2ZUVsZW1lbnQpP2EuX19zaGFkeV9ibHVyKCk6dGhpcy5fX3NoYWR5X25hdGl2ZV9ibHVyKCl9fSk7TC5hYXx8WGMuZm9yRWFjaChmdW5jdGlvbihhKXtUZFthXT1ZYyhhKX0pO3ZhciBVZD1QKHthc3NpZ25lZE5vZGVzOmZ1bmN0aW9uKGEpe2lmKFwic2xvdFwiPT09dGhpcy5sb2NhbE5hbWUpe3ZhciBiPXRoaXMuX19zaGFkeV9nZXRSb290Tm9kZSgpO2ImJk4oYikmJnlkKGIpO3JldHVybihiPUQodGhpcykpPyhhJiZhLmZsYXR0ZW4/Yi5WOmIuYXNzaWduZWROb2Rlcyl8fFtdOltdfX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoXCJzbG90XCIhPT10aGlzLmxvY2FsTmFtZXx8XCJzbG90Y2hhbmdlXCI9PT1hKU9jLmNhbGwodGhpcyxhLGIsYyk7ZWxzZXtcIm9iamVjdFwiIT09dHlwZW9mIGMmJihjPXtjYXB0dXJlOiEhY30pO3ZhciBkPXRoaXMuX19zaGFkeV9wYXJlbnROb2RlO2lmKCFkKXRocm93IEVycm9yKFwiU2hhZHlET00gY2Fubm90IGF0dGFjaCBldmVudCB0byBzbG90IHVubGVzcyBpdCBoYXMgYSBgcGFyZW50Tm9kZWBcIik7Yy5PPXRoaXM7ZC5fX3NoYWR5X2FkZEV2ZW50TGlzdGVuZXIoYSxiLGMpfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLFxuYixjKXtpZihcInNsb3RcIiE9PXRoaXMubG9jYWxOYW1lfHxcInNsb3RjaGFuZ2VcIj09PWEpUGMuY2FsbCh0aGlzLGEsYixjKTtlbHNle1wib2JqZWN0XCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7dmFyIGQ9dGhpcy5fX3NoYWR5X3BhcmVudE5vZGU7aWYoIWQpdGhyb3cgRXJyb3IoXCJTaGFkeURPTSBjYW5ub3QgYXR0YWNoIGV2ZW50IHRvIHNsb3QgdW5sZXNzIGl0IGhhcyBhIGBwYXJlbnROb2RlYFwiKTtjLk89dGhpcztkLl9fc2hhZHlfcmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyl9fX0pO3ZhciBWZD1QKHtnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm5cIlwiPT09YT9udWxsOkFkKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQ9PWF9LGZ1bmN0aW9uKGIpe3JldHVybiEhYn0pWzBdfHxudWxsfX0pO3ZhciBXZD1QKHtnZXQgYWN0aXZlRWxlbWVudCgpe3ZhciBhPUwuQj9kb2N1bWVudC5fX3NoYWR5X25hdGl2ZV9hY3RpdmVFbGVtZW50OmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYoIWF8fCFhLm5vZGVUeXBlKXJldHVybiBudWxsO3ZhciBiPSEhTih0aGlzKTtpZighKHRoaXM9PT1kb2N1bWVudHx8YiYmdGhpcy5ob3N0IT09YSYmdGhpcy5ob3N0Ll9fc2hhZHlfbmF0aXZlX2NvbnRhaW5zKGEpKSlyZXR1cm4gbnVsbDtmb3IoYj1yZChhKTtiJiZiIT09dGhpczspYT1iLmhvc3QsYj1yZChhKTtyZXR1cm4gdGhpcz09PWRvY3VtZW50P2I/bnVsbDphOmI9PT10aGlzP2E6bnVsbH19KTt2YXIgWGQ9d2luZG93LmRvY3VtZW50LFlkPVAoe2ltcG9ydE5vZGU6ZnVuY3Rpb24oYSxiKXtpZihhLm93bmVyRG9jdW1lbnQhPT1YZHx8XCJ0ZW1wbGF0ZVwiPT09YS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfaW1wb3J0Tm9kZShhLGIpO3ZhciBjPXRoaXMuX19zaGFkeV9uYXRpdmVfaW1wb3J0Tm9kZShhLCExKTtpZihiKWZvcihhPWEuX19zaGFkeV9maXJzdENoaWxkO2E7YT1hLl9fc2hhZHlfbmV4dFNpYmxpbmcpYj10aGlzLl9fc2hhZHlfaW1wb3J0Tm9kZShhLCEwKSxjLl9fc2hhZHlfYXBwZW5kQ2hpbGQoYik7cmV0dXJuIGN9fSk7dmFyIFpkPVAoe2Rpc3BhdGNoRXZlbnQ6TWMsYWRkRXZlbnRMaXN0ZW5lcjpPYy5iaW5kKHdpbmRvdykscmVtb3ZlRXZlbnRMaXN0ZW5lcjpQYy5iaW5kKHdpbmRvdyl9KTt2YXIgJGQ9e307T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJwYXJlbnRFbGVtZW50XCIpJiYoJGQucGFyZW50RWxlbWVudD14ZC5wYXJlbnRFbGVtZW50KTtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImNvbnRhaW5zXCIpJiYoJGQuY29udGFpbnM9eGQuY29udGFpbnMpO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiY2hpbGRyZW5cIikmJigkZC5jaGlsZHJlbj1EZC5jaGlsZHJlbik7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJpbm5lckhUTUxcIikmJigkZC5pbm5lckhUTUw9U2QuaW5uZXJIVE1MKTtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImNsYXNzTmFtZVwiKSYmKCRkLmNsYXNzTmFtZT1MZC5jbGFzc05hbWUpO1xudmFyIGFlPXtFdmVudFRhcmdldDpbYmRdLE5vZGU6W3hkLHdpbmRvdy5FdmVudFRhcmdldD9udWxsOmJkXSxUZXh0Olt6ZF0sQ29tbWVudDpbemRdLENEQVRBU2VjdGlvbjpbemRdLFByb2Nlc3NpbmdJbnN0cnVjdGlvbjpbemRdLEVsZW1lbnQ6W0xkLERkLHpkLCFMLkJ8fFwiaW5uZXJIVE1MXCJpbiBFbGVtZW50LnByb3RvdHlwZT9TZDpudWxsLHdpbmRvdy5IVE1MU2xvdEVsZW1lbnQ/bnVsbDpVZF0sSFRNTEVsZW1lbnQ6W1RkLCRkXSxIVE1MU2xvdEVsZW1lbnQ6W1VkXSxEb2N1bWVudEZyYWdtZW50OltGZCxWZF0sRG9jdW1lbnQ6W1lkLEZkLFZkLFdkXSxXaW5kb3c6W1pkXX0sYmU9TC5CP251bGw6W1wiaW5uZXJIVE1MXCIsXCJ0ZXh0Q29udGVudFwiXTtmdW5jdGlvbiBjZShhLGIsYyxkKXtiLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEmJmUmJk8oYSxlLGMsZCl9KX1cbmZ1bmN0aW9uIGRlKGEpe3ZhciBiPWE/bnVsbDpiZSxjO2ZvcihjIGluIGFlKWNlKHdpbmRvd1tjXSYmd2luZG93W2NdLnByb3RvdHlwZSxhZVtjXSxhLGIpfVtcIlRleHRcIixcIkNvbW1lbnRcIixcIkNEQVRBU2VjdGlvblwiLFwiUHJvY2Vzc2luZ0luc3RydWN0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93W2FdLGM9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSk7Yy5fX3NoYWR5X3Byb3RvSXNQYXRjaGVkPSEwO2NlKGMsYWUuRXZlbnRUYXJnZXQpO2NlKGMsYWUuTm9kZSk7YWVbYV0mJmNlKGMsYWVbYV0pO2IucHJvdG90eXBlLl9fc2hhZHlfcGF0Y2hlZFByb3RvPWN9KTtmdW5jdGlvbiBlZShhKXthLl9fc2hhZHlfcHJvdG9Jc1BhdGNoZWQ9ITA7Y2UoYSxhZS5FdmVudFRhcmdldCk7Y2UoYSxhZS5Ob2RlKTtjZShhLGFlLkVsZW1lbnQpO2NlKGEsYWUuSFRNTEVsZW1lbnQpO2NlKGEsYWUuSFRNTFNsb3RFbGVtZW50KTtyZXR1cm4gYX07dmFyIGZlPUwudWEsZ2U9TC5CO2Z1bmN0aW9uIGhlKGEsYil7aWYoZmUmJiFhLl9fc2hhZHlfcHJvdG9Jc1BhdGNoZWQmJiFOKGEpKXt2YXIgYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksZD1jLmhhc093blByb3BlcnR5KFwiX19zaGFkeV9wYXRjaGVkUHJvdG9cIikmJmMuX19zaGFkeV9wYXRjaGVkUHJvdG87ZHx8KGQ9T2JqZWN0LmNyZWF0ZShjKSxlZShkKSxjLl9fc2hhZHlfcGF0Y2hlZFByb3RvPWQpO09iamVjdC5zZXRQcm90b3R5cGVPZihhLGQpfWdlfHwoMT09PWI/dWMoYSk6Mj09PWImJnZjKGEpKX1cbmZ1bmN0aW9uIGllKGEsYixjLGQpe2hlKGEsMSk7ZD1kfHxudWxsO3ZhciBlPUEoYSksZj1kP0EoZCk6bnVsbDtlLnByZXZpb3VzU2libGluZz1kP2YucHJldmlvdXNTaWJsaW5nOmIuX19zaGFkeV9sYXN0Q2hpbGQ7aWYoZj1EKGUucHJldmlvdXNTaWJsaW5nKSlmLm5leHRTaWJsaW5nPWE7aWYoZj1EKGUubmV4dFNpYmxpbmc9ZCkpZi5wcmV2aW91c1NpYmxpbmc9YTtlLnBhcmVudE5vZGU9YjtkP2Q9PT1jLmZpcnN0Q2hpbGQmJihjLmZpcnN0Q2hpbGQ9YSk6KGMubGFzdENoaWxkPWEsYy5maXJzdENoaWxkfHwoYy5maXJzdENoaWxkPWEpKTtjLmNoaWxkTm9kZXM9bnVsbH1cbmZ1bmN0aW9uIHVkKGEsYixjKXtoZShiLDIpO3ZhciBkPUEoYik7dm9pZCAwIT09ZC5maXJzdENoaWxkJiYoZC5jaGlsZE5vZGVzPW51bGwpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpZm9yKGE9YS5fX3NoYWR5X25hdGl2ZV9maXJzdENoaWxkO2E7YT1hLl9fc2hhZHlfbmF0aXZlX25leHRTaWJsaW5nKWllKGEsYixkLGMpO2Vsc2UgaWUoYSxiLGQsYyl9XG5mdW5jdGlvbiB3ZChhLGIpe3ZhciBjPUEoYSk7Yj1BKGIpO2E9PT1iLmZpcnN0Q2hpbGQmJihiLmZpcnN0Q2hpbGQ9Yy5uZXh0U2libGluZyk7YT09PWIubGFzdENoaWxkJiYoYi5sYXN0Q2hpbGQ9Yy5wcmV2aW91c1NpYmxpbmcpO2E9Yy5wcmV2aW91c1NpYmxpbmc7dmFyIGQ9Yy5uZXh0U2libGluZzthJiYoQShhKS5uZXh0U2libGluZz1kKTtkJiYoQShkKS5wcmV2aW91c1NpYmxpbmc9YSk7Yy5wYXJlbnROb2RlPWMucHJldmlvdXNTaWJsaW5nPWMubmV4dFNpYmxpbmc9dm9pZCAwO3ZvaWQgMCE9PWIuY2hpbGROb2RlcyYmKGIuY2hpbGROb2Rlcz1udWxsKX1cbmZ1bmN0aW9uIE5kKGEsYil7dmFyIGM9QShhKTtpZihifHx2b2lkIDA9PT1jLmZpcnN0Q2hpbGQpe2MuY2hpbGROb2Rlcz1udWxsO3ZhciBkPWMuZmlyc3RDaGlsZD1hLl9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGQ7Yy5sYXN0Q2hpbGQ9YS5fX3NoYWR5X25hdGl2ZV9sYXN0Q2hpbGQ7aGUoYSwyKTtjPWQ7Zm9yKGQ9dm9pZCAwO2M7Yz1jLl9fc2hhZHlfbmF0aXZlX25leHRTaWJsaW5nKXt2YXIgZT1BKGMpO2UucGFyZW50Tm9kZT1ifHxhO2UubmV4dFNpYmxpbmc9Yy5fX3NoYWR5X25hdGl2ZV9uZXh0U2libGluZztlLnByZXZpb3VzU2libGluZz1kfHxudWxsO2Q9YztoZShjLDEpfX19O3ZhciBqZT1QKHthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtcIm9iamVjdFwiIT09dHlwZW9mIGMmJihjPXtjYXB0dXJlOiEhY30pO2MuTz1jLk98fHRoaXM7dGhpcy5ob3N0Ll9fc2hhZHlfYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe1wib2JqZWN0XCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7Yy5PPWMuT3x8dGhpczt0aGlzLmhvc3QuX19zaGFkeV9yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX19KTtmdW5jdGlvbiBrZShhLGIpe08oYSxqZSxiKTtPKGEsV2QsYik7TyhhLFNkLGIpO08oYSxEZCxiKTtMLkQmJiFiPyhPKGEseGQsYiksTyhhLFZkLGIpKTpMLkJ8fChPKGEscmMpLE8oYSxwYyksTyhhLHFjKSl9O3ZhciBQZD17fSxsZT1MLmRlZmVyQ29ubmVjdGlvbkNhbGxiYWNrcyYmXCJsb2FkaW5nXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlLG1lO2Z1bmN0aW9uIG5lKGEpe3ZhciBiPVtdO2RvIGIudW5zaGlmdChhKTt3aGlsZShhPWEuX19zaGFkeV9wYXJlbnROb2RlKTtyZXR1cm4gYn1mdW5jdGlvbiBPZChhLGIsYyl7aWYoYSE9PVBkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpO3RoaXMuYT1udWxsO01kKHRoaXMsYixjKX1cbmZ1bmN0aW9uIE1kKGEsYixjKXthLmhvc3Q9YjthLm1vZGU9YyYmYy5tb2RlO05kKGEuaG9zdCk7Yj1BKGEuaG9zdCk7Yi5yb290PWE7Yi5iYj1cImNsb3NlZFwiIT09YS5tb2RlP2E6bnVsbDtiPUEoYSk7Yi5maXJzdENoaWxkPWIubGFzdENoaWxkPWIucGFyZW50Tm9kZT1iLm5leHRTaWJsaW5nPWIucHJldmlvdXNTaWJsaW5nPW51bGw7aWYoTC5wcmVmZXJQZXJmb3JtYW5jZSlmb3IoO2I9YS5ob3N0Ll9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGQ7KWEuaG9zdC5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChiKTtlbHNlIHRkKGEpfWZ1bmN0aW9uIHRkKGEpe2EuVHx8KGEuVD0hMCxPYihmdW5jdGlvbigpe3JldHVybiB5ZChhKX0pKX1cbmZ1bmN0aW9uIHlkKGEpe3ZhciBiO2lmKGI9YS5UKXtmb3IodmFyIGM7YTspYTp7YS5UJiYoYz1hKSxiPWE7YT1iLmhvc3QuX19zaGFkeV9nZXRSb290Tm9kZSgpO2lmKE4oYSkmJihiPUQoYi5ob3N0KSkmJjA8Yi5kYSlicmVhayBhO2E9dm9pZCAwfWI9Y30oYz1iKSYmYy5fcmVuZGVyU2VsZigpfVxuT2QucHJvdG90eXBlLl9yZW5kZXJTZWxmPWZ1bmN0aW9uKCl7dmFyIGE9bGU7bGU9ITA7dGhpcy5UPSExO2lmKHRoaXMuYSl7SWQodGhpcyk7Zm9yKHZhciBiPTAsYztiPHRoaXMuYS5sZW5ndGg7YisrKXtjPXRoaXMuYVtiXTt2YXIgZD1EKGMpLGU9ZC5hc3NpZ25lZE5vZGVzO2QuYXNzaWduZWROb2Rlcz1bXTtkLlY9W107aWYoZC5CYT1lKWZvcihkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBmPUQoZVtkXSk7Zi5vYT1mLmFzc2lnbmVkU2xvdDtmLmFzc2lnbmVkU2xvdD09PWMmJihmLmFzc2lnbmVkU2xvdD1udWxsKX19Zm9yKGI9dGhpcy5ob3N0Ll9fc2hhZHlfZmlyc3RDaGlsZDtiO2I9Yi5fX3NoYWR5X25leHRTaWJsaW5nKW9lKHRoaXMsYik7Zm9yKGI9MDtiPHRoaXMuYS5sZW5ndGg7YisrKXtjPXRoaXMuYVtiXTtlPUQoYyk7aWYoIWUuYXNzaWduZWROb2Rlcy5sZW5ndGgpZm9yKGQ9Yy5fX3NoYWR5X2ZpcnN0Q2hpbGQ7ZDtkPWQuX19zaGFkeV9uZXh0U2libGluZylvZSh0aGlzLFxuZCxjKTsoZD0oZD1EKGMuX19zaGFkeV9wYXJlbnROb2RlKSkmJmQucm9vdCkmJih4YihkKXx8ZC5UKSYmZC5fcmVuZGVyU2VsZigpO3BlKHRoaXMsZS5WLGUuYXNzaWduZWROb2Rlcyk7aWYoZD1lLkJhKXtmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKUQoZFtmXSkub2E9bnVsbDtlLkJhPW51bGw7ZC5sZW5ndGg+ZS5hc3NpZ25lZE5vZGVzLmxlbmd0aCYmKGUucmE9ITApfWUucmEmJihlLnJhPSExLHFlKHRoaXMsYykpfWM9dGhpcy5hO2I9W107Zm9yKGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0uX19zaGFkeV9wYXJlbnROb2RlLChmPUQoZCkpJiZmLnJvb3R8fCEoMD5iLmluZGV4T2YoZCkpfHxiLnB1c2goZCk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7Zj1iW2NdO2U9Zj09PXRoaXM/dGhpcy5ob3N0OmY7ZD1bXTtmb3IoZj1mLl9fc2hhZHlfZmlyc3RDaGlsZDtmO2Y9Zi5fX3NoYWR5X25leHRTaWJsaW5nKWlmKFwic2xvdFwiPT1mLmxvY2FsTmFtZSlmb3IodmFyIGc9RChmKS5WLGg9MDtoPFxuZy5sZW5ndGg7aCsrKWQucHVzaChnW2hdKTtlbHNlIGQucHVzaChmKTtmPUhiKGUpO2c9JGMoZCxkLmxlbmd0aCxmLGYubGVuZ3RoKTtmb3IodmFyIGs9aD0wLGw9dm9pZCAwO2g8Zy5sZW5ndGgmJihsPWdbaF0pO2grKyl7Zm9yKHZhciBtPTAscT12b2lkIDA7bTxsLmJhLmxlbmd0aCYmKHE9bC5iYVttXSk7bSsrKXEuX19zaGFkeV9uYXRpdmVfcGFyZW50Tm9kZT09PWUmJmUuX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQocSksZi5zcGxpY2UobC5pbmRleCtrLDEpO2stPWwuaWF9az0wO2ZvcihsPXZvaWQgMDtrPGcubGVuZ3RoJiYobD1nW2tdKTtrKyspZm9yKGg9ZltsLmluZGV4XSxtPWwuaW5kZXg7bTxsLmluZGV4K2wuaWE7bSsrKXE9ZFttXSxlLl9fc2hhZHlfbmF0aXZlX2luc2VydEJlZm9yZShxLGgpLGYuc3BsaWNlKG0sMCxxKX19aWYoIUwucHJlZmVyUGVyZm9ybWFuY2UmJiF0aGlzLkFhKWZvcihiPXRoaXMuaG9zdC5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YjtiPWIuX19zaGFkeV9uZXh0U2libGluZyljPVxuRChiKSxiLl9fc2hhZHlfbmF0aXZlX3BhcmVudE5vZGUhPT10aGlzLmhvc3R8fFwic2xvdFwiIT09Yi5sb2NhbE5hbWUmJmMuYXNzaWduZWRTbG90fHx0aGlzLmhvc3QuX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQoYik7dGhpcy5BYT0hMDtsZT1hO21lJiZtZSgpfTtmdW5jdGlvbiBvZShhLGIsYyl7dmFyIGQ9QShiKSxlPWQub2E7ZC5vYT1udWxsO2N8fChjPShhPWEuYltiLl9fc2hhZHlfc2xvdHx8XCJfX2NhdGNoYWxsXCJdKSYmYVswXSk7Yz8oQShjKS5hc3NpZ25lZE5vZGVzLnB1c2goYiksZC5hc3NpZ25lZFNsb3Q9Yyk6ZC5hc3NpZ25lZFNsb3Q9dm9pZCAwO2UhPT1kLmFzc2lnbmVkU2xvdCYmZC5hc3NpZ25lZFNsb3QmJihBKGQuYXNzaWduZWRTbG90KS5yYT0hMCl9XG5mdW5jdGlvbiBwZShhLGIsYyl7Zm9yKHZhciBkPTAsZT12b2lkIDA7ZDxjLmxlbmd0aCYmKGU9Y1tkXSk7ZCsrKWlmKFwic2xvdFwiPT1lLmxvY2FsTmFtZSl7dmFyIGY9RChlKS5hc3NpZ25lZE5vZGVzO2YmJmYubGVuZ3RoJiZwZShhLGIsZil9ZWxzZSBiLnB1c2goY1tkXSl9ZnVuY3Rpb24gcWUoYSxiKXtiLl9fc2hhZHlfbmF0aXZlX2Rpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwic2xvdGNoYW5nZVwiKSk7Yj1EKGIpO2IuYXNzaWduZWRTbG90JiZxZShhLGIuYXNzaWduZWRTbG90KX1mdW5jdGlvbiBzZChhKXthLmM9YS5jfHxbXTthLmE9YS5hfHxbXTthLmI9YS5ifHx7fX1cbmZ1bmN0aW9uIElkKGEpe2lmKGEuYyYmYS5jLmxlbmd0aCl7Zm9yKHZhciBiPWEuYyxjLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtOZChlKTt2YXIgZj1lLl9fc2hhZHlfcGFyZW50Tm9kZTtOZChmKTtmPUQoZik7Zi5kYT0oZi5kYXx8MCkrMTtmPUpkKGUpO2EuYltmXT8oYz1jfHx7fSxjW2ZdPSEwLGEuYltmXS5wdXNoKGUpKTphLmJbZl09W2VdO2EuYS5wdXNoKGUpfWlmKGMpZm9yKHZhciBnIGluIGMpYS5iW2ddPUtkKGEuYltnXSk7YS5jPVtdfX1mdW5jdGlvbiBKZChhKXt2YXIgYj1hLm5hbWV8fGEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKXx8XCJfX2NhdGNoYWxsXCI7cmV0dXJuIGEuTGE9Yn1cbmZ1bmN0aW9uIEtkKGEpe3JldHVybiBhLnNvcnQoZnVuY3Rpb24oYixjKXtiPW5lKGIpO2Zvcih2YXIgZD1uZShjKSxlPTA7ZTxiLmxlbmd0aDtlKyspe2M9YltlXTt2YXIgZj1kW2VdO2lmKGMhPT1mKXJldHVybiBiPUliKGMuX19zaGFkeV9wYXJlbnROb2RlKSxiLmluZGV4T2YoYyktYi5pbmRleE9mKGYpfX0pfVxuZnVuY3Rpb24gdmQoYSxiKXtpZihhLmEpe0lkKGEpO3ZhciBjPWEuYixkO2ZvcihkIGluIGMpZm9yKHZhciBlPWNbZF0sZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdO2lmKEZiKGIsZykpe2Uuc3BsaWNlKGYsMSk7dmFyIGg9YS5hLmluZGV4T2YoZyk7MDw9aCYmKGEuYS5zcGxpY2UoaCwxKSwoaD1EKGcuX19zaGFkeV9wYXJlbnROb2RlKSkmJmguZGEmJmguZGEtLSk7Zi0tO2c9RChnKTtpZihoPWcuVilmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXSxtPWwuX19zaGFkeV9uYXRpdmVfcGFyZW50Tm9kZTttJiZtLl9fc2hhZHlfbmF0aXZlX3JlbW92ZUNoaWxkKGwpfWcuVj1bXTtnLmFzc2lnbmVkTm9kZXM9W107aD0hMH19cmV0dXJuIGh9fWZ1bmN0aW9uIHhiKGEpe0lkKGEpO3JldHVybiEoIWEuYXx8IWEuYS5sZW5ndGgpfVxuKGZ1bmN0aW9uKGEpe2EuX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlO2tlKGEsXCJfX3NoYWR5X1wiKTtrZShhKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLHtub2RlVHlwZTp7dmFsdWU6Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFLGNvbmZpZ3VyYWJsZTohMH0sbm9kZU5hbWU6e3ZhbHVlOlwiI2RvY3VtZW50LWZyYWdtZW50XCIsY29uZmlndXJhYmxlOiEwfSxub2RlVmFsdWU6e3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfX0pO1tcImxvY2FsTmFtZVwiLFwibmFtZXNwYWNlVVJJXCIsXCJwcmVmaXhcIl0uZm9yRWFjaChmdW5jdGlvbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwfSl9KTtbXCJvd25lckRvY3VtZW50XCIsXCJiYXNlVVJJXCIsXCJpc0Nvbm5lY3RlZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RbYl19LFxuY29uZmlndXJhYmxlOiEwfSl9KX0pKE9kLnByb3RvdHlwZSk7XG5pZih3aW5kb3cuY3VzdG9tRWxlbWVudHMmJndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUmJkwuc2EmJiFMLnByZWZlclBlcmZvcm1hbmNlKXt2YXIgcmU9bmV3IE1hcDttZT1mdW5jdGlvbigpe3ZhciBhPVtdO3JlLmZvckVhY2goZnVuY3Rpb24oZCxlKXthLnB1c2goW2UsZF0pfSk7cmUuY2xlYXIoKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXVswXTthW2JdWzFdP2MuX19zaGFkeWRvbV9jb25uZWN0ZWRDYWxsYmFjaygpOmMuX19zaGFkeWRvbV9kaXNjb25uZWN0ZWRDYWxsYmFjaygpfX07bGUmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtsZT0hMTttZSgpfSx7b25jZTohMH0pO3ZhciBzZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9MCxlPVwiX19pc0Nvbm5lY3RlZFwiK2QrKztpZihifHxjKWEucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrPWEucHJvdG90eXBlLl9fc2hhZHlkb21fY29ubmVjdGVkQ2FsbGJhY2s9XG5mdW5jdGlvbigpe2xlP3JlLnNldCh0aGlzLCEwKTp0aGlzW2VdfHwodGhpc1tlXT0hMCxiJiZiLmNhbGwodGhpcykpfSxhLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaz1hLnByb3RvdHlwZS5fX3NoYWR5ZG9tX2Rpc2Nvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKCl7bGU/dGhpcy5pc0Nvbm5lY3RlZHx8cmUuc2V0KHRoaXMsITEpOnRoaXNbZV0mJih0aGlzW2VdPSExLGMmJmMuY2FsbCh0aGlzKSl9O3JldHVybiBhfSx0ZT13aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lLHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2ssZD1iLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjazt0ZS5jYWxsKHdpbmRvdy5jdXN0b21FbGVtZW50cyxhLHNlKGIsYyxkKSk7Yi5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s9YztiLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaz1kfTt3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lPVxudWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5DdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLFwiZGVmaW5lXCIse3ZhbHVlOnVlLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIHJkKGEpe2E9YS5fX3NoYWR5X2dldFJvb3ROb2RlKCk7aWYoTihhKSlyZXR1cm4gYX07ZnVuY3Rpb24gdmUoYSl7dGhpcy5ub2RlPWF9dz12ZS5wcm90b3R5cGU7dy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyl9O3cucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3JlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpfTt3LmFwcGVuZENoaWxkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9hcHBlbmRDaGlsZChhKX07dy5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfaW5zZXJ0QmVmb3JlKGEsYil9O3cucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3JlbW92ZUNoaWxkKGEpfTt3LnJlcGxhY2VDaGlsZD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9yZXBsYWNlQ2hpbGQoYSxiKX07XG53LmNsb25lTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfY2xvbmVOb2RlKGEpfTt3LmdldFJvb3ROb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9nZXRSb290Tm9kZShhKX07dy5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfY29udGFpbnMoYSl9O3cuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfZGlzcGF0Y2hFdmVudChhKX07dy5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXt0aGlzLm5vZGUuX19zaGFkeV9zZXRBdHRyaWJ1dGUoYSxiKX07dy5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X25hdGl2ZV9nZXRBdHRyaWJ1dGUoYSl9O3cuaGFzQXR0cmlidXRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9uYXRpdmVfaGFzQXR0cmlidXRlKGEpfTt3LnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXt0aGlzLm5vZGUuX19zaGFkeV9yZW1vdmVBdHRyaWJ1dGUoYSl9O1xudy5hdHRhY2hTaGFkb3c9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2F0dGFjaFNoYWRvdyhhKX07dy5mb2N1cz1mdW5jdGlvbigpe3RoaXMubm9kZS5fX3NoYWR5X25hdGl2ZV9mb2N1cygpfTt3LmJsdXI9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuX19zaGFkeV9ibHVyKCl9O3cuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMubm9kZS5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfTk9ERSlyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfaW1wb3J0Tm9kZShhLGIpfTt3LmdldEVsZW1lbnRCeUlkPWZ1bmN0aW9uKGEpe2lmKHRoaXMubm9kZS5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfTk9ERSlyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfZ2V0RWxlbWVudEJ5SWQoYSl9O3cucXVlcnlTZWxlY3Rvcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcXVlcnlTZWxlY3RvcihhKX07XG53LnF1ZXJ5U2VsZWN0b3JBbGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcXVlcnlTZWxlY3RvckFsbChhLGIpfTt3LmFzc2lnbmVkTm9kZXM9ZnVuY3Rpb24oYSl7aWYoXCJzbG90XCI9PT10aGlzLm5vZGUubG9jYWxOYW1lKXJldHVybiB0aGlzLm5vZGUuX19zaGFkeV9hc3NpZ25lZE5vZGVzKGEpfTtcbmNhLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHZlLnByb3RvdHlwZSx7YWN0aXZlRWxlbWVudDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoTih0aGlzLm5vZGUpfHx0aGlzLm5vZGUubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX05PREUpcmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2FjdGl2ZUVsZW1lbnR9fSxfYWN0aXZlRWxlbWVudDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlRWxlbWVudH19LGhvc3Q6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKE4odGhpcy5ub2RlKSlyZXR1cm4gdGhpcy5ub2RlLmhvc3R9fSxwYXJlbnROb2RlOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcGFyZW50Tm9kZX19LGZpcnN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMCxcbmVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2ZpcnN0Q2hpbGR9fSxsYXN0Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9sYXN0Q2hpbGR9fSxuZXh0U2libGluZzp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X25leHRTaWJsaW5nfX0scHJldmlvdXNTaWJsaW5nOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcHJldmlvdXNTaWJsaW5nfX0sY2hpbGROb2Rlczp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2NoaWxkTm9kZXN9fSxwYXJlbnRFbGVtZW50Ontjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxcbmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9wYXJlbnRFbGVtZW50fX0sZmlyc3RFbGVtZW50Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9maXJzdEVsZW1lbnRDaGlsZH19LGxhc3RFbGVtZW50Q2hpbGQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9sYXN0RWxlbWVudENoaWxkfX0sbmV4dEVsZW1lbnRTaWJsaW5nOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfbmV4dEVsZW1lbnRTaWJsaW5nfX0scHJldmlvdXNFbGVtZW50U2libGluZzp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3ByZXZpb3VzRWxlbWVudFNpYmxpbmd9fSxcbmNoaWxkcmVuOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfY2hpbGRyZW59fSxjaGlsZEVsZW1lbnRDb3VudDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2NoaWxkRWxlbWVudENvdW50fX0sc2hhZG93Um9vdDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3NoYWRvd1Jvb3R9fSxhc3NpZ25lZFNsb3Q6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9hc3NpZ25lZFNsb3R9fSxpc0Nvbm5lY3RlZDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2lzQ29ubmVjdGVkfX0saW5uZXJIVE1MOntjb25maWd1cmFibGU6ITAsXG5lbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9pbm5lckhUTUx9LHNldDpmdW5jdGlvbihhKXt0aGlzLm5vZGUuX19zaGFkeV9pbm5lckhUTUw9YX19LHRleHRDb250ZW50Ontjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfdGV4dENvbnRlbnR9LHNldDpmdW5jdGlvbihhKXt0aGlzLm5vZGUuX19zaGFkeV90ZXh0Q29udGVudD1hfX0sc2xvdDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3Nsb3R9LHNldDpmdW5jdGlvbihhKXt0aGlzLm5vZGUuX19zaGFkeV9zbG90PWF9fSxjbGFzc05hbWU6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9jbGFzc05hbWV9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfY2xhc3NOYW1lPVxuYX19fSk7ZnVuY3Rpb24gd2UoYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHZlLnByb3RvdHlwZSxhLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlW1wiX19zaGFkeV9cIithXX0sc2V0OmZ1bmN0aW9uKGIpe3RoaXMubm9kZVtcIl9fc2hhZHlfXCIrYV09Yn0sY29uZmlndXJhYmxlOiEwfSl9V2MuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gd2UoYSl9KTtYYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiB3ZShhKX0pO3ZhciB4ZT1uZXcgV2Vha01hcDtmdW5jdGlvbiB5ZShhKXtpZihOKGEpfHxhIGluc3RhbmNlb2YgdmUpcmV0dXJuIGE7dmFyIGI9eGUuZ2V0KGEpO2J8fChiPW5ldyB2ZShhKSx4ZS5zZXQoYSxiKSk7cmV0dXJuIGJ9O2lmKEwuc2Epe3ZhciB6ZT1MLkI/ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3ZjKGEpO3VjKGEpO3JldHVybiBhfSxTaGFkeURPTT17aW5Vc2U6TC5zYSxwYXRjaDp6ZSxpc1NoYWR5Um9vdDpOLGVucXVldWU6T2IsZmx1c2g6UGIsZmx1c2hJbml0aWFsOmZ1bmN0aW9uKGEpeyFhLkFhJiZhLlQmJnlkKGEpfSxzZXR0aW5nczpMLGZpbHRlck11dGF0aW9uczpVYixvYnNlcnZlQ2hpbGRyZW46U2IsdW5vYnNlcnZlQ2hpbGRyZW46VGIsZGVmZXJDb25uZWN0aW9uQ2FsbGJhY2tzOkwuZGVmZXJDb25uZWN0aW9uQ2FsbGJhY2tzLHByZWZlclBlcmZvcm1hbmNlOkwucHJlZmVyUGVyZm9ybWFuY2UsaGFuZGxlc0R5bmFtaWNTY29waW5nOiEwLHdyYXA6TC5EP3llOnplLHdyYXBJZk5lZWRlZDohMD09PUwuRD95ZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sV3JhcHBlcjp2ZSxjb21wb3NlZFBhdGg6RWMsbm9QYXRjaDpMLkQscGF0Y2hPbkRlbWFuZDpMLnVhLG5hdGl2ZU1ldGhvZHM6ZWMsXG5uYXRpdmVUcmVlOmZjLHBhdGNoRWxlbWVudFByb3RvOmVlfTt3aW5kb3cuU2hhZHlET009U2hhZHlET007b2MoKTtkZShcIl9fc2hhZHlfXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCxcIl9hY3RpdmVFbGVtZW50XCIsV2QuYWN0aXZlRWxlbWVudCk7TyhXaW5kb3cucHJvdG90eXBlLFpkLFwiX19zaGFkeV9cIik7TC5EP0wudWEmJk8oRWxlbWVudC5wcm90b3R5cGUsUWQpOihkZSgpLFZjKCkpO1FjKCk7d2luZG93LkV2ZW50PVNjO3dpbmRvdy5DdXN0b21FdmVudD1UYzt3aW5kb3cuTW91c2VFdmVudD1VYzt3aW5kb3cuU2hhZG93Um9vdD1PZH07LypcblxuIENvcHlyaWdodCAoYykgMjAyMCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5XG4gYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieVxuIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xudmFyIEFlPXdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCxCZT13aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnROUyxDZT13aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGUsRGU9d2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5wcmVwZW5kLEVlPXdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUuYXBwZW5kLEZlPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZS5wcmVwZW5kLEdlPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZS5hcHBlbmQsSGU9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxJZT13aW5kb3cuTm9kZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsSmU9d2luZG93Lk5vZGUucHJvdG90eXBlLmluc2VydEJlZm9yZSxLZT13aW5kb3cuTm9kZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsTGU9d2luZG93Lk5vZGUucHJvdG90eXBlLnJlcGxhY2VDaGlsZCxNZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5Ob2RlLnByb3RvdHlwZSxcblwidGV4dENvbnRlbnRcIiksTmU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdyxPZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZSxcImlubmVySFRNTFwiKSxQZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLFFlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUsUmU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSxTZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTlMsVGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TLFVlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVOUyxWZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50LFdlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEhUTUwsWGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQsXG5ZZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kLFplPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5iZWZvcmUsJGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmFmdGVyLGFmPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5yZXBsYWNlV2l0aCxiZj13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlLGNmPXdpbmRvdy5IVE1MRWxlbWVudCxkZj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUsXCJpbm5lckhUTUxcIiksZWY9d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEVsZW1lbnQsZmY9d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEhUTUw7dmFyIGdmPW5ldyBTZXQ7XCJhbm5vdGF0aW9uLXhtbCBjb2xvci1wcm9maWxlIGZvbnQtZmFjZSBmb250LWZhY2Utc3JjIGZvbnQtZmFjZS11cmkgZm9udC1mYWNlLWZvcm1hdCBmb250LWZhY2UtbmFtZSBtaXNzaW5nLWdseXBoXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGdmLmFkZChhKX0pO2Z1bmN0aW9uIGhmKGEpe3ZhciBiPWdmLmhhcyhhKTthPS9eW2Etel1bLjAtOV9hLXpdKi1bLS4wLTlfYS16XSokLy50ZXN0KGEpO3JldHVybiFiJiZhfXZhciBqZj1kb2N1bWVudC5jb250YWlucz9kb2N1bWVudC5jb250YWlucy5iaW5kKGRvY3VtZW50KTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMuYmluZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuZnVuY3Rpb24gUyhhKXt2YXIgYj1hLmlzQ29ubmVjdGVkO2lmKHZvaWQgMCE9PWIpcmV0dXJuIGI7aWYoamYoYSkpcmV0dXJuITA7Zm9yKDthJiYhKGEuX19DRV9pc0ltcG9ydERvY3VtZW50fHxhIGluc3RhbmNlb2YgRG9jdW1lbnQpOylhPWEucGFyZW50Tm9kZXx8KHdpbmRvdy5TaGFkb3dSb290JiZhIGluc3RhbmNlb2YgU2hhZG93Um9vdD9hLmhvc3Q6dm9pZCAwKTtyZXR1cm4hKCFhfHwhKGEuX19DRV9pc0ltcG9ydERvY3VtZW50fHxhIGluc3RhbmNlb2YgRG9jdW1lbnQpKX1mdW5jdGlvbiBrZihhKXt2YXIgYj1hLmNoaWxkcmVuO2lmKGIpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGIpO2I9W107Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmYi5wdXNoKGEpO3JldHVybiBifVxuZnVuY3Rpb24gbGYoYSxiKXtmb3IoO2ImJmIhPT1hJiYhYi5uZXh0U2libGluZzspYj1iLnBhcmVudE5vZGU7cmV0dXJuIGImJmIhPT1hP2IubmV4dFNpYmxpbmc6bnVsbH1cbmZ1bmN0aW9uIG1mKGEsYixjKXtmb3IodmFyIGQ9YTtkOyl7aWYoZC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgZT1kO2IoZSk7dmFyIGY9ZS5sb2NhbE5hbWU7aWYoXCJsaW5rXCI9PT1mJiZcImltcG9ydFwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIikpe2Q9ZS5pbXBvcnQ7dm9pZCAwPT09YyYmKGM9bmV3IFNldCk7aWYoZCBpbnN0YW5jZW9mIE5vZGUmJiFjLmhhcyhkKSlmb3IoYy5hZGQoZCksZD1kLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpbWYoZCxiLGMpO2Q9bGYoYSxlKTtjb250aW51ZX1lbHNlIGlmKFwidGVtcGxhdGVcIj09PWYpe2Q9bGYoYSxlKTtjb250aW51ZX1pZihlPWUuX19DRV9zaGFkb3dSb290KWZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyltZihlLGIsYyl9ZD1kLmZpcnN0Q2hpbGQ/ZC5maXJzdENoaWxkOmxmKGEsZCl9fTtmdW5jdGlvbiBuZigpe3ZhciBhPSEobnVsbD09PW9mfHx2b2lkIDA9PT1vZnx8IW9mLm5vRG9jdW1lbnRDb25zdHJ1Y3Rpb25PYnNlcnZlciksYj0hKG51bGw9PT1vZnx8dm9pZCAwPT09b2Z8fCFvZi5zaGFkeURvbUZhc3RXYWxrKTt0aGlzLlg9W107dGhpcy5hPVtdO3RoaXMuUj0hMTt0aGlzLnNoYWR5RG9tRmFzdFdhbGs9Yjt0aGlzLmpiPSFhfWZ1bmN0aW9uIHBmKGEsYixjLGQpe3ZhciBlPXdpbmRvdy5TaGFkeURvbTtpZihhLnNoYWR5RG9tRmFzdFdhbGsmJmUmJmUuaW5Vc2Upe2lmKGIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmYyhiKSxiLnF1ZXJ5U2VsZWN0b3JBbGwpZm9yKGE9ZS5uYXRpdmVNZXRob2RzLnF1ZXJ5U2VsZWN0b3JBbGwuY2FsbChiLFwiKlwiKSxiPTA7YjxhLmxlbmd0aDtiKyspYyhhW2JdKX1lbHNlIG1mKGIsYyxkKX1mdW5jdGlvbiBxZihhLGIpe2EuUj0hMDthLlgucHVzaChiKX1mdW5jdGlvbiByZihhLGIpe2EuUj0hMDthLmEucHVzaChiKX1cbmZ1bmN0aW9uIHNmKGEsYil7YS5SJiZwZihhLGIsZnVuY3Rpb24oYyl7cmV0dXJuIHRmKGEsYyl9KX1mdW5jdGlvbiB0ZihhLGIpe2lmKGEuUiYmIWIuX19DRV9wYXRjaGVkKXtiLl9fQ0VfcGF0Y2hlZD0hMDtmb3IodmFyIGM9MDtjPGEuWC5sZW5ndGg7YysrKWEuWFtjXShiKTtmb3IoYz0wO2M8YS5hLmxlbmd0aDtjKyspYS5hW2NdKGIpfX1mdW5jdGlvbiB1ZihhLGIpe3ZhciBjPVtdO3BmKGEsYixmdW5jdGlvbihlKXtyZXR1cm4gYy5wdXNoKGUpfSk7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGQ9Y1tiXTsxPT09ZC5fX0NFX3N0YXRlP2EuY29ubmVjdGVkQ2FsbGJhY2soZCk6dmYoYSxkKX19ZnVuY3Rpb24gd2YoYSxiKXt2YXIgYz1bXTtwZihhLGIsZnVuY3Rpb24oZSl7cmV0dXJuIGMucHVzaChlKX0pO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBkPWNbYl07MT09PWQuX19DRV9zdGF0ZSYmYS5kaXNjb25uZWN0ZWRDYWxsYmFjayhkKX19XG5mdW5jdGlvbiB4ZihhLGIsYyl7Yz12b2lkIDA9PT1jP3t9OmM7dmFyIGQ9Yy5rYixlPWMudXBncmFkZXx8ZnVuY3Rpb24oZyl7cmV0dXJuIHZmKGEsZyl9LGY9W107cGYoYSxiLGZ1bmN0aW9uKGcpe2EuUiYmdGYoYSxnKTtpZihcImxpbmtcIj09PWcubG9jYWxOYW1lJiZcImltcG9ydFwiPT09Zy5nZXRBdHRyaWJ1dGUoXCJyZWxcIikpe3ZhciBoPWcuaW1wb3J0O2ggaW5zdGFuY2VvZiBOb2RlJiYoaC5fX0NFX2lzSW1wb3J0RG9jdW1lbnQ9ITAsaC5fX0NFX3JlZ2lzdHJ5PWRvY3VtZW50Ll9fQ0VfcmVnaXN0cnkpO2gmJlwiY29tcGxldGVcIj09PWgucmVhZHlTdGF0ZT9oLl9fQ0VfZG9jdW1lbnRMb2FkSGFuZGxlZD0hMDpnLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgaz1nLmltcG9ydDtpZighay5fX0NFX2RvY3VtZW50TG9hZEhhbmRsZWQpe2suX19DRV9kb2N1bWVudExvYWRIYW5kbGVkPSEwO3ZhciBsPW5ldyBTZXQ7ZCYmKGQuZm9yRWFjaChmdW5jdGlvbihtKXtyZXR1cm4gbC5hZGQobSl9KSxcbmwuZGVsZXRlKGspKTt4ZihhLGsse2tiOmwsdXBncmFkZTplfSl9fSl9ZWxzZSBmLnB1c2goZyl9LGQpO2ZvcihiPTA7YjxmLmxlbmd0aDtiKyspZShmW2JdKX1cbmZ1bmN0aW9uIHZmKGEsYil7dHJ5e3ZhciBjPWIub3duZXJEb2N1bWVudCxkPWMuX19DRV9yZWdpc3RyeTt2YXIgZT1kJiYoYy5kZWZhdWx0Vmlld3x8Yy5fX0NFX2lzSW1wb3J0RG9jdW1lbnQpP3lmKGQsYi5sb2NhbE5hbWUpOnZvaWQgMDtpZihlJiZ2b2lkIDA9PT1iLl9fQ0Vfc3RhdGUpe2UuY29uc3RydWN0aW9uU3RhY2sucHVzaChiKTt0cnl7dHJ5e2lmKG5ldyBlLmNvbnN0cnVjdG9yRnVuY3Rpb24hPT1iKXRocm93IEVycm9yKFwiVGhlIGN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9yIGRpZCBub3QgcHJvZHVjZSB0aGUgZWxlbWVudCBiZWluZyB1cGdyYWRlZC5cIik7fWZpbmFsbHl7ZS5jb25zdHJ1Y3Rpb25TdGFjay5wb3AoKX19Y2F0Y2goayl7dGhyb3cgYi5fX0NFX3N0YXRlPTIsazt9Yi5fX0NFX3N0YXRlPTE7Yi5fX0NFX2RlZmluaXRpb249ZTtpZihlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmYi5oYXNBdHRyaWJ1dGVzKCkpe3ZhciBmPWUub2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuZm9yKGU9MDtlPGYubGVuZ3RoO2UrKyl7dmFyIGc9ZltlXSxoPWIuZ2V0QXR0cmlidXRlKGcpO251bGwhPT1oJiZhLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhiLGcsbnVsbCxoLG51bGwpfX1TKGIpJiZhLmNvbm5lY3RlZENhbGxiYWNrKGIpfX1jYXRjaChrKXt6ZihrKX19bmYucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuX19DRV9kZWZpbml0aW9uO2lmKGIuY29ubmVjdGVkQ2FsbGJhY2spdHJ5e2IuY29ubmVjdGVkQ2FsbGJhY2suY2FsbChhKX1jYXRjaChjKXt6ZihjKX19O25mLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbihhKXt2YXIgYj1hLl9fQ0VfZGVmaW5pdGlvbjtpZihiLmRpc2Nvbm5lY3RlZENhbGxiYWNrKXRyeXtiLmRpc2Nvbm5lY3RlZENhbGxiYWNrLmNhbGwoYSl9Y2F0Y2goYyl7emYoYyl9fTtcbm5mLnByb3RvdHlwZS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLl9fQ0VfZGVmaW5pdGlvbjtpZihmLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmLTE8Zi5vYnNlcnZlZEF0dHJpYnV0ZXMuaW5kZXhPZihiKSl0cnl7Zi5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2suY2FsbChhLGIsYyxkLGUpfWNhdGNoKGcpe3pmKGcpfX07XG5mdW5jdGlvbiBBZihhLGIsYyxkKXt2YXIgZT1iLl9fQ0VfcmVnaXN0cnk7aWYoZSYmKG51bGw9PT1kfHxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWQpJiYoZT15ZihlLGMpKSl0cnl7dmFyIGY9bmV3IGUuY29uc3RydWN0b3JGdW5jdGlvbjtpZih2b2lkIDA9PT1mLl9fQ0Vfc3RhdGV8fHZvaWQgMD09PWYuX19DRV9kZWZpbml0aW9uKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnXCIrYytcIic6IFRoZSByZXR1cm5lZCB2YWx1ZSB3YXMgbm90IGNvbnN0cnVjdGVkIHdpdGggdGhlIEhUTUxFbGVtZW50IGNvbnN0cnVjdG9yLlwiKTtpZihcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiE9PWYubmFtZXNwYWNlVVJJKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnXCIrYytcIic6IFRoZSBjb25zdHJ1Y3RlZCBlbGVtZW50J3MgbmFtZXNwYWNlIG11c3QgYmUgdGhlIEhUTUwgbmFtZXNwYWNlLlwiKTtpZihmLmhhc0F0dHJpYnV0ZXMoKSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1wiK1xuYytcIic6IFRoZSBjb25zdHJ1Y3RlZCBlbGVtZW50IG11c3Qgbm90IGhhdmUgYW55IGF0dHJpYnV0ZXMuXCIpO2lmKG51bGwhPT1mLmZpcnN0Q2hpbGQpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdcIitjK1wiJzogVGhlIGNvbnN0cnVjdGVkIGVsZW1lbnQgbXVzdCBub3QgaGF2ZSBhbnkgY2hpbGRyZW4uXCIpO2lmKG51bGwhPT1mLnBhcmVudE5vZGUpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdcIitjK1wiJzogVGhlIGNvbnN0cnVjdGVkIGVsZW1lbnQgbXVzdCBub3QgaGF2ZSBhIHBhcmVudCBub2RlLlwiKTtpZihmLm93bmVyRG9jdW1lbnQhPT1iKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnXCIrYytcIic6IFRoZSBjb25zdHJ1Y3RlZCBlbGVtZW50J3Mgb3duZXIgZG9jdW1lbnQgaXMgaW5jb3JyZWN0LlwiKTtpZihmLmxvY2FsTmFtZSE9PWMpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdcIitjK1wiJzogVGhlIGNvbnN0cnVjdGVkIGVsZW1lbnQncyBsb2NhbCBuYW1lIGlzIGluY29ycmVjdC5cIik7XG5yZXR1cm4gZn1jYXRjaChnKXtyZXR1cm4gemYoZyksYj1udWxsPT09ZD9BZS5jYWxsKGIsYyk6QmUuY2FsbChiLGQsYyksT2JqZWN0LnNldFByb3RvdHlwZU9mKGIsSFRNTFVua25vd25FbGVtZW50LnByb3RvdHlwZSksYi5fX0NFX3N0YXRlPTIsYi5fX0NFX2RlZmluaXRpb249dm9pZCAwLHRmKGEsYiksYn1iPW51bGw9PT1kP0FlLmNhbGwoYixjKTpCZS5jYWxsKGIsZCxjKTt0ZihhLGIpO3JldHVybiBifVxuZnVuY3Rpb24gemYoYSl7dmFyIGI9YS5tZXNzYWdlLGM9YS5zb3VyY2VVUkx8fGEuZmlsZU5hbWV8fFwiXCIsZD1hLmxpbmV8fGEubGluZU51bWJlcnx8MCxlPWEuY29sdW1ufHxhLmNvbHVtbk51bWJlcnx8MCxmPXZvaWQgMDt2b2lkIDA9PT1FcnJvckV2ZW50LnByb3RvdHlwZS5pbml0RXJyb3JFdmVudD9mPW5ldyBFcnJvckV2ZW50KFwiZXJyb3JcIix7Y2FuY2VsYWJsZTohMCxtZXNzYWdlOmIsZmlsZW5hbWU6YyxsaW5lbm86ZCxjb2xubzplLGVycm9yOmF9KTooZj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkVycm9yRXZlbnRcIiksZi5pbml0RXJyb3JFdmVudChcImVycm9yXCIsITEsITAsYixjLGQpLGYucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRlZmF1bHRQcmV2ZW50ZWRcIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX0pfSk7dm9pZCAwPT09Zi5lcnJvciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsXCJlcnJvclwiLFxue2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhfX0pO3dpbmRvdy5kaXNwYXRjaEV2ZW50KGYpO2YuZGVmYXVsdFByZXZlbnRlZHx8Y29uc29sZS5lcnJvcihhKX07ZnVuY3Rpb24gQmYoKXt2YXIgYT10aGlzO3RoaXMuQz12b2lkIDA7dGhpcy5DYT1uZXcgUHJvbWlzZShmdW5jdGlvbihiKXthLmE9Yn0pfUJmLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGEpe2lmKHRoaXMuQyl0aHJvdyBFcnJvcihcIkFscmVhZHkgcmVzb2x2ZWQuXCIpO3RoaXMuQz1hO3RoaXMuYShhKX07ZnVuY3Rpb24gQ2YoYSl7dmFyIGI9ZG9jdW1lbnQ7dGhpcy5TPXZvaWQgMDt0aGlzLk09YTt0aGlzLmE9Yjt4Zih0aGlzLk0sdGhpcy5hKTtcImxvYWRpbmdcIj09PXRoaXMuYS5yZWFkeVN0YXRlJiYodGhpcy5TPW5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuYi5iaW5kKHRoaXMpKSx0aGlzLlMub2JzZXJ2ZSh0aGlzLmEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSkpfWZ1bmN0aW9uIERmKGEpe2EuUyYmYS5TLmRpc2Nvbm5lY3QoKX1DZi5wcm90b3R5cGUuYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEucmVhZHlTdGF0ZTtcImludGVyYWN0aXZlXCIhPT1iJiZcImNvbXBsZXRlXCIhPT1ifHxEZih0aGlzKTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLmFkZGVkTm9kZXMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKXhmKHRoaXMuTSxjW2RdKX07ZnVuY3Rpb24gVChhKXt0aGlzLmZhPW5ldyBNYXA7dGhpcy5nYT1uZXcgTWFwO3RoaXMueGE9bmV3IE1hcDt0aGlzLm5hPSExO3RoaXMucWE9bmV3IE1hcDt0aGlzLmVhPWZ1bmN0aW9uKGIpe3JldHVybiBiKCl9O3RoaXMuUD0hMTt0aGlzLmhhPVtdO3RoaXMuTT1hO3RoaXMueWE9YS5qYj9uZXcgQ2YoYSk6dm9pZCAwfXc9VC5wcm90b3R5cGU7dy4kYT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoIShiIGluc3RhbmNlb2YgRnVuY3Rpb24pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvciBnZXR0ZXJzIG11c3QgYmUgZnVuY3Rpb25zLlwiKTtFZih0aGlzLGEpO3RoaXMuZmEuc2V0KGEsYik7dGhpcy5oYS5wdXNoKGEpO3RoaXMuUHx8KHRoaXMuUD0hMCx0aGlzLmVhKGZ1bmN0aW9uKCl7cmV0dXJuIEZmKGMpfSkpfTtcbncuZGVmaW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZighKGIgaW5zdGFuY2VvZiBGdW5jdGlvbikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9ycyBtdXN0IGJlIGZ1bmN0aW9ucy5cIik7RWYodGhpcyxhKTtHZih0aGlzLGEsYik7dGhpcy5oYS5wdXNoKGEpO3RoaXMuUHx8KHRoaXMuUD0hMCx0aGlzLmVhKGZ1bmN0aW9uKCl7cmV0dXJuIEZmKGMpfSkpfTtmdW5jdGlvbiBFZihhLGIpe2lmKCFoZihiKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgZWxlbWVudCBuYW1lICdcIitiK1wiJyBpcyBub3QgdmFsaWQuXCIpO2lmKHlmKGEsYikpdGhyb3cgRXJyb3IoXCJBIGN1c3RvbSBlbGVtZW50IHdpdGggbmFtZSAnXCIrKGIrXCInIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC5cIikpO2lmKGEubmEpdGhyb3cgRXJyb3IoXCJBIGN1c3RvbSBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgZGVmaW5lZC5cIik7fVxuZnVuY3Rpb24gR2YoYSxiLGMpe2EubmE9ITA7dmFyIGQ7dHJ5e3ZhciBlPWMucHJvdG90eXBlO2lmKCEoZSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSBpcyBub3QgYW4gb2JqZWN0LlwiKTt2YXIgZj1mdW5jdGlvbihtKXt2YXIgcT1lW21dO2lmKHZvaWQgMCE9PXEmJiEocSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBFcnJvcihcIlRoZSAnXCIrbStcIicgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtyZXR1cm4gcX07dmFyIGc9ZihcImNvbm5lY3RlZENhbGxiYWNrXCIpO3ZhciBoPWYoXCJkaXNjb25uZWN0ZWRDYWxsYmFja1wiKTt2YXIgaz1mKFwiYWRvcHRlZENhbGxiYWNrXCIpO3ZhciBsPShkPWYoXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIikpJiZjLm9ic2VydmVkQXR0cmlidXRlc3x8W119Y2F0Y2gobSl7dGhyb3cgbTt9ZmluYWxseXthLm5hPSExfWM9e2xvY2FsTmFtZTpiLFxuY29uc3RydWN0b3JGdW5jdGlvbjpjLGNvbm5lY3RlZENhbGxiYWNrOmcsZGlzY29ubmVjdGVkQ2FsbGJhY2s6aCxhZG9wdGVkQ2FsbGJhY2s6ayxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6ZCxvYnNlcnZlZEF0dHJpYnV0ZXM6bCxjb25zdHJ1Y3Rpb25TdGFjazpbXX07YS5nYS5zZXQoYixjKTthLnhhLnNldChjLmNvbnN0cnVjdG9yRnVuY3Rpb24sYyk7cmV0dXJuIGN9dy51cGdyYWRlPWZ1bmN0aW9uKGEpe3hmKHRoaXMuTSxhKX07XG5mdW5jdGlvbiBGZihhKXtpZighMSE9PWEuUCl7YS5QPSExO2Zvcih2YXIgYj1bXSxjPWEuaGEsZD1uZXcgTWFwLGU9MDtlPGMubGVuZ3RoO2UrKylkLnNldChjW2VdLFtdKTt4ZihhLk0sZG9jdW1lbnQse3VwZ3JhZGU6ZnVuY3Rpb24oayl7aWYodm9pZCAwPT09ay5fX0NFX3N0YXRlKXt2YXIgbD1rLmxvY2FsTmFtZSxtPWQuZ2V0KGwpO20/bS5wdXNoKGspOmEuZ2EuaGFzKGwpJiZiLnB1c2goayl9fX0pO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspdmYoYS5NLGJbZV0pO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1jW2VdLGc9ZC5nZXQoZiksaD0wO2g8Zy5sZW5ndGg7aCsrKXZmKGEuTSxnW2hdKTsoZj1hLnFhLmdldChmKSkmJmYucmVzb2x2ZSh2b2lkIDApfWMubGVuZ3RoPTB9fXcuZ2V0PWZ1bmN0aW9uKGEpe2lmKGE9eWYodGhpcyxhKSlyZXR1cm4gYS5jb25zdHJ1Y3RvckZ1bmN0aW9ufTtcbncud2hlbkRlZmluZWQ9ZnVuY3Rpb24oYSl7aWYoIWhmKGEpKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3ludGF4RXJyb3IoXCInXCIrYStcIicgaXMgbm90IGEgdmFsaWQgY3VzdG9tIGVsZW1lbnQgbmFtZS5cIikpO3ZhciBiPXRoaXMucWEuZ2V0KGEpO2lmKGIpcmV0dXJuIGIuQ2E7Yj1uZXcgQmY7dGhpcy5xYS5zZXQoYSxiKTt2YXIgYz10aGlzLmdhLmhhcyhhKXx8dGhpcy5mYS5oYXMoYSk7YT0tMT09PXRoaXMuaGEuaW5kZXhPZihhKTtjJiZhJiZiLnJlc29sdmUodm9pZCAwKTtyZXR1cm4gYi5DYX07dy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrPWZ1bmN0aW9uKGEpe3RoaXMueWEmJkRmKHRoaXMueWEpO3ZhciBiPXRoaXMuZWE7dGhpcy5lYT1mdW5jdGlvbihjKXtyZXR1cm4gYShmdW5jdGlvbigpe3JldHVybiBiKGMpfSl9fTtcbmZ1bmN0aW9uIHlmKGEsYil7dmFyIGM9YS5nYS5nZXQoYik7aWYoYylyZXR1cm4gYztpZihjPWEuZmEuZ2V0KGIpKXthLmZhLmRlbGV0ZShiKTt0cnl7cmV0dXJuIEdmKGEsYixjKCkpfWNhdGNoKGQpe3pmKGQpfX19d2luZG93LkN1c3RvbUVsZW1lbnRSZWdpc3RyeT1UO1QucHJvdG90eXBlLmRlZmluZT1ULnByb3RvdHlwZS5kZWZpbmU7VC5wcm90b3R5cGUudXBncmFkZT1ULnByb3RvdHlwZS51cGdyYWRlO1QucHJvdG90eXBlLmdldD1ULnByb3RvdHlwZS5nZXQ7VC5wcm90b3R5cGUud2hlbkRlZmluZWQ9VC5wcm90b3R5cGUud2hlbkRlZmluZWQ7VC5wcm90b3R5cGUucG9seWZpbGxEZWZpbmVMYXp5PVQucHJvdG90eXBlLiRhO1QucHJvdG90eXBlLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2s9VC5wcm90b3R5cGUucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaztmdW5jdGlvbiBIZihhLGIsYyl7ZnVuY3Rpb24gZChlKXtyZXR1cm4gZnVuY3Rpb24oZil7Zm9yKHZhciBnPVtdLGg9MDtoPGFyZ3VtZW50cy5sZW5ndGg7KytoKWdbaF09YXJndW1lbnRzW2hdO2g9W107Zm9yKHZhciBrPVtdLGw9MDtsPGcubGVuZ3RoO2wrKyl7dmFyIG09Z1tsXTttIGluc3RhbmNlb2YgRWxlbWVudCYmUyhtKSYmay5wdXNoKG0pO2lmKG0gaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihtPW0uZmlyc3RDaGlsZDttO209bS5uZXh0U2libGluZyloLnB1c2gobSk7ZWxzZSBoLnB1c2gobSl9ZS5hcHBseSh0aGlzLGcpO2ZvcihnPTA7ZzxrLmxlbmd0aDtnKyspd2YoYSxrW2ddKTtpZihTKHRoaXMpKWZvcihnPTA7ZzxoLmxlbmd0aDtnKyspaz1oW2ddLGsgaW5zdGFuY2VvZiBFbGVtZW50JiZ1ZihhLGspfX12b2lkIDAhPT1jLnByZXBlbmQmJihiLnByZXBlbmQ9ZChjLnByZXBlbmQpKTt2b2lkIDAhPT1jLmFwcGVuZCYmKGIuYXBwZW5kPWQoYy5hcHBlbmQpKX1cbjtmdW5jdGlvbiBJZihhKXtEb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihiKXtyZXR1cm4gQWYoYSx0aGlzLGIsbnVsbCl9O0RvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlPWZ1bmN0aW9uKGIsYyl7Yj1DZS5jYWxsKHRoaXMsYiwhIWMpO3RoaXMuX19DRV9yZWdpc3RyeT94ZihhLGIpOnNmKGEsYik7cmV0dXJuIGJ9O0RvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50TlM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gQWYoYSx0aGlzLGMsYil9O0hmKGEsRG9jdW1lbnQucHJvdG90eXBlLHtwcmVwZW5kOkRlLGFwcGVuZDpFZX0pfTtmdW5jdGlvbiBKZihhKXtmdW5jdGlvbiBiKGQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIGY9W10sZz0wO2c8YXJndW1lbnRzLmxlbmd0aDsrK2cpZltnXT1hcmd1bWVudHNbZ107Zz1bXTtmb3IodmFyIGg9W10saz0wO2s8Zi5sZW5ndGg7aysrKXt2YXIgbD1mW2tdO2wgaW5zdGFuY2VvZiBFbGVtZW50JiZTKGwpJiZoLnB1c2gobCk7aWYobCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpZm9yKGw9bC5maXJzdENoaWxkO2w7bD1sLm5leHRTaWJsaW5nKWcucHVzaChsKTtlbHNlIGcucHVzaChsKX1kLmFwcGx5KHRoaXMsZik7Zm9yKGY9MDtmPGgubGVuZ3RoO2YrKyl3ZihhLGhbZl0pO2lmKFModGhpcykpZm9yKGY9MDtmPGcubGVuZ3RoO2YrKyloPWdbZl0saCBpbnN0YW5jZW9mIEVsZW1lbnQmJnVmKGEsaCl9fXZhciBjPUVsZW1lbnQucHJvdG90eXBlO3ZvaWQgMCE9PVplJiYoYy5iZWZvcmU9YihaZSkpO3ZvaWQgMCE9PSRlJiYoYy5hZnRlcj1iKCRlKSk7dm9pZCAwIT09XG5hZiYmKGMucmVwbGFjZVdpdGg9ZnVuY3Rpb24oZCl7Zm9yKHZhciBlPVtdLGY9MDtmPGFyZ3VtZW50cy5sZW5ndGg7KytmKWVbZl09YXJndW1lbnRzW2ZdO2Y9W107Zm9yKHZhciBnPVtdLGg9MDtoPGUubGVuZ3RoO2grKyl7dmFyIGs9ZVtoXTtrIGluc3RhbmNlb2YgRWxlbWVudCYmUyhrKSYmZy5wdXNoKGspO2lmKGsgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihrPWsuZmlyc3RDaGlsZDtrO2s9ay5uZXh0U2libGluZylmLnB1c2goayk7ZWxzZSBmLnB1c2goayl9aD1TKHRoaXMpO2FmLmFwcGx5KHRoaXMsZSk7Zm9yKGU9MDtlPGcubGVuZ3RoO2UrKyl3ZihhLGdbZV0pO2lmKGgpZm9yKHdmKGEsdGhpcyksZT0wO2U8Zi5sZW5ndGg7ZSsrKWc9ZltlXSxnIGluc3RhbmNlb2YgRWxlbWVudCYmdWYoYSxnKX0pO3ZvaWQgMCE9PWJmJiYoYy5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgZD1TKHRoaXMpO2JmLmNhbGwodGhpcyk7ZCYmd2YoYSx0aGlzKX0pfTtmdW5jdGlvbiBLZihhKXtmdW5jdGlvbiBiKGUsZil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJpbm5lckhUTUxcIix7ZW51bWVyYWJsZTpmLmVudW1lcmFibGUsY29uZmlndXJhYmxlOiEwLGdldDpmLmdldCxzZXQ6ZnVuY3Rpb24oZyl7dmFyIGg9dGhpcyxrPXZvaWQgMDtTKHRoaXMpJiYoaz1bXSxwZihhLHRoaXMsZnVuY3Rpb24ocSl7cSE9PWgmJmsucHVzaChxKX0pKTtmLnNldC5jYWxsKHRoaXMsZyk7aWYoaylmb3IodmFyIGw9MDtsPGsubGVuZ3RoO2wrKyl7dmFyIG09a1tsXTsxPT09bS5fX0NFX3N0YXRlJiZhLmRpc2Nvbm5lY3RlZENhbGxiYWNrKG0pfXRoaXMub3duZXJEb2N1bWVudC5fX0NFX3JlZ2lzdHJ5P3hmKGEsdGhpcyk6c2YoYSx0aGlzKTtyZXR1cm4gZ319KX1mdW5jdGlvbiBjKGUsZil7ZS5pbnNlcnRBZGphY2VudEVsZW1lbnQ9ZnVuY3Rpb24oZyxoKXt2YXIgaz1TKGgpO2c9Zi5jYWxsKHRoaXMsZyxoKTtrJiZ3ZihhLGgpO1MoZykmJnVmKGEsaCk7cmV0dXJuIGd9fVxuZnVuY3Rpb24gZChlLGYpe2Z1bmN0aW9uIGcoaCxrKXtmb3IodmFyIGw9W107aCE9PWs7aD1oLm5leHRTaWJsaW5nKWwucHVzaChoKTtmb3Ioaz0wO2s8bC5sZW5ndGg7aysrKXhmKGEsbFtrXSl9ZS5pbnNlcnRBZGphY2VudEhUTUw9ZnVuY3Rpb24oaCxrKXtoPWgudG9Mb3dlckNhc2UoKTtpZihcImJlZm9yZWJlZ2luXCI9PT1oKXt2YXIgbD10aGlzLnByZXZpb3VzU2libGluZztmLmNhbGwodGhpcyxoLGspO2cobHx8dGhpcy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQsdGhpcyl9ZWxzZSBpZihcImFmdGVyYmVnaW5cIj09PWgpbD10aGlzLmZpcnN0Q2hpbGQsZi5jYWxsKHRoaXMsaCxrKSxnKHRoaXMuZmlyc3RDaGlsZCxsKTtlbHNlIGlmKFwiYmVmb3JlZW5kXCI9PT1oKWw9dGhpcy5sYXN0Q2hpbGQsZi5jYWxsKHRoaXMsaCxrKSxnKGx8fHRoaXMuZmlyc3RDaGlsZCxudWxsKTtlbHNlIGlmKFwiYWZ0ZXJlbmRcIj09PWgpbD10aGlzLm5leHRTaWJsaW5nLGYuY2FsbCh0aGlzLGgsayksZyh0aGlzLm5leHRTaWJsaW5nLFxubCk7ZWxzZSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgdmFsdWUgcHJvdmlkZWQgKFwiK1N0cmluZyhoKStcIikgaXMgbm90IG9uZSBvZiAnYmVmb3JlYmVnaW4nLCAnYWZ0ZXJiZWdpbicsICdiZWZvcmVlbmQnLCBvciAnYWZ0ZXJlbmQnLlwiKTt9fU5lJiYoRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93PWZ1bmN0aW9uKGUpe2U9TmUuY2FsbCh0aGlzLGUpO2lmKGEuUiYmIWUuX19DRV9wYXRjaGVkKXtlLl9fQ0VfcGF0Y2hlZD0hMDtmb3IodmFyIGY9MDtmPGEuWC5sZW5ndGg7ZisrKWEuWFtmXShlKX1yZXR1cm4gdGhpcy5fX0NFX3NoYWRvd1Jvb3Q9ZX0pO09lJiZPZS5nZXQ/YihFbGVtZW50LnByb3RvdHlwZSxPZSk6ZGYmJmRmLmdldD9iKEhUTUxFbGVtZW50LnByb3RvdHlwZSxkZik6cmYoYSxmdW5jdGlvbihlKXtiKGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBIZS5jYWxsKHRoaXMsITApLmlubmVySFRNTH0sc2V0OmZ1bmN0aW9uKGYpe3ZhciBnPVxuXCJ0ZW1wbGF0ZVwiPT09dGhpcy5sb2NhbE5hbWUsaD1nP3RoaXMuY29udGVudDp0aGlzLGs9QmUuY2FsbChkb2N1bWVudCx0aGlzLm5hbWVzcGFjZVVSSSx0aGlzLmxvY2FsTmFtZSk7Zm9yKGsuaW5uZXJIVE1MPWY7MDxoLmNoaWxkTm9kZXMubGVuZ3RoOylLZS5jYWxsKGgsaC5jaGlsZE5vZGVzWzBdKTtmb3IoZj1nP2suY29udGVudDprOzA8Zi5jaGlsZE5vZGVzLmxlbmd0aDspSWUuY2FsbChoLGYuY2hpbGROb2Rlc1swXSl9fSl9KTtFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSxmKXtpZigxIT09dGhpcy5fX0NFX3N0YXRlKXJldHVybiBRZS5jYWxsKHRoaXMsZSxmKTt2YXIgZz1QZS5jYWxsKHRoaXMsZSk7UWUuY2FsbCh0aGlzLGUsZik7Zj1QZS5jYWxsKHRoaXMsZSk7YS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodGhpcyxlLGcsZixudWxsKX07RWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlTlM9ZnVuY3Rpb24oZSxmLGcpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIFRlLmNhbGwodGhpcyxcbmUsZixnKTt2YXIgaD1TZS5jYWxsKHRoaXMsZSxmKTtUZS5jYWxsKHRoaXMsZSxmLGcpO2c9U2UuY2FsbCh0aGlzLGUsZik7YS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodGhpcyxmLGgsZyxlKX07RWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIFJlLmNhbGwodGhpcyxlKTt2YXIgZj1QZS5jYWxsKHRoaXMsZSk7UmUuY2FsbCh0aGlzLGUpO251bGwhPT1mJiZhLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGUsZixudWxsLG51bGwpfTtFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVOUz1mdW5jdGlvbihlLGYpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIFVlLmNhbGwodGhpcyxlLGYpO3ZhciBnPVNlLmNhbGwodGhpcyxlLGYpO1VlLmNhbGwodGhpcyxlLGYpO3ZhciBoPVNlLmNhbGwodGhpcyxlLGYpO2chPT1oJiZhLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLFxuZixnLGgsZSl9O2VmP2MoSFRNTEVsZW1lbnQucHJvdG90eXBlLGVmKTpWZSYmYyhFbGVtZW50LnByb3RvdHlwZSxWZSk7ZmY/ZChIVE1MRWxlbWVudC5wcm90b3R5cGUsZmYpOldlJiZkKEVsZW1lbnQucHJvdG90eXBlLFdlKTtIZihhLEVsZW1lbnQucHJvdG90eXBlLHtwcmVwZW5kOlhlLGFwcGVuZDpZZX0pO0pmKGEpfTt2YXIgTGY9e307ZnVuY3Rpb24gTWYoYSl7ZnVuY3Rpb24gYigpe3ZhciBjPXRoaXMuY29uc3RydWN0b3I7dmFyIGQ9ZG9jdW1lbnQuX19DRV9yZWdpc3RyeS54YS5nZXQoYyk7aWYoIWQpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0IGEgY3VzdG9tIGVsZW1lbnQ6IFRoZSBjb25zdHJ1Y3RvciB3YXMgbm90IHJlZ2lzdGVyZWQgd2l0aCBgY3VzdG9tRWxlbWVudHNgLlwiKTt2YXIgZT1kLmNvbnN0cnVjdGlvblN0YWNrO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gZT1BZS5jYWxsKGRvY3VtZW50LGQubG9jYWxOYW1lKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxjLnByb3RvdHlwZSksZS5fX0NFX3N0YXRlPTEsZS5fX0NFX2RlZmluaXRpb249ZCx0ZihhLGUpLGU7dmFyIGY9ZS5sZW5ndGgtMSxnPWVbZl07aWYoZz09PUxmKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnXCIrZC5sb2NhbE5hbWUrXCInOiBUaGlzIGVsZW1lbnQgd2FzIGFscmVhZHkgY29uc3RydWN0ZWQuXCIpO2VbZl09XG5MZjtPYmplY3Quc2V0UHJvdG90eXBlT2YoZyxjLnByb3RvdHlwZSk7dGYoYSxnKTtyZXR1cm4gZ31iLnByb3RvdHlwZT1jZi5wcm90b3R5cGU7T2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImNvbnN0cnVjdG9yXCIse3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOmJ9KTt3aW5kb3cuSFRNTEVsZW1lbnQ9Yn07ZnVuY3Rpb24gTmYoYSl7ZnVuY3Rpb24gYihjLGQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFwidGV4dENvbnRlbnRcIix7ZW51bWVyYWJsZTpkLmVudW1lcmFibGUsY29uZmlndXJhYmxlOiEwLGdldDpkLmdldCxzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKWQuc2V0LmNhbGwodGhpcyxlKTtlbHNle3ZhciBmPXZvaWQgMDtpZih0aGlzLmZpcnN0Q2hpbGQpe3ZhciBnPXRoaXMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2lmKDA8aCYmUyh0aGlzKSl7Zj1BcnJheShoKTtmb3IodmFyIGs9MDtrPGg7aysrKWZba109Z1trXX19ZC5zZXQuY2FsbCh0aGlzLGUpO2lmKGYpZm9yKGU9MDtlPGYubGVuZ3RoO2UrKyl3ZihhLGZbZV0pfX19KX1Ob2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oYyxkKXtpZihjIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGU9a2YoYyk7Yz1KZS5jYWxsKHRoaXMsYyxkKTtpZihTKHRoaXMpKWZvcihkPVxuMDtkPGUubGVuZ3RoO2QrKyl1ZihhLGVbZF0pO3JldHVybiBjfWU9YyBpbnN0YW5jZW9mIEVsZW1lbnQmJlMoYyk7ZD1KZS5jYWxsKHRoaXMsYyxkKTtlJiZ3ZihhLGMpO1ModGhpcykmJnVmKGEsYyk7cmV0dXJuIGR9O05vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkPWZ1bmN0aW9uKGMpe2lmKGMgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZD1rZihjKTtjPUllLmNhbGwodGhpcyxjKTtpZihTKHRoaXMpKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXVmKGEsZFtlXSk7cmV0dXJuIGN9ZD1jIGluc3RhbmNlb2YgRWxlbWVudCYmUyhjKTtlPUllLmNhbGwodGhpcyxjKTtkJiZ3ZihhLGMpO1ModGhpcykmJnVmKGEsYyk7cmV0dXJuIGV9O05vZGUucHJvdG90eXBlLmNsb25lTm9kZT1mdW5jdGlvbihjKXtjPUhlLmNhbGwodGhpcywhIWMpO3RoaXMub3duZXJEb2N1bWVudC5fX0NFX3JlZ2lzdHJ5P3hmKGEsYyk6c2YoYSxjKTtyZXR1cm4gY307Tm9kZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ9XG5mdW5jdGlvbihjKXt2YXIgZD1jIGluc3RhbmNlb2YgRWxlbWVudCYmUyhjKSxlPUtlLmNhbGwodGhpcyxjKTtkJiZ3ZihhLGMpO3JldHVybiBlfTtOb2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24oYyxkKXtpZihjIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGU9a2YoYyk7Yz1MZS5jYWxsKHRoaXMsYyxkKTtpZihTKHRoaXMpKWZvcih3ZihhLGQpLGQ9MDtkPGUubGVuZ3RoO2QrKyl1ZihhLGVbZF0pO3JldHVybiBjfWU9YyBpbnN0YW5jZW9mIEVsZW1lbnQmJlMoYyk7dmFyIGY9TGUuY2FsbCh0aGlzLGMsZCksZz1TKHRoaXMpO2cmJndmKGEsZCk7ZSYmd2YoYSxjKTtnJiZ1ZihhLGMpO3JldHVybiBmfTtNZSYmTWUuZ2V0P2IoTm9kZS5wcm90b3R5cGUsTWUpOnFmKGEsZnVuY3Rpb24oYyl7YihjLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGQ9W10sZT10aGlzLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZS5ub2RlVHlwZSE9PVxuTm9kZS5DT01NRU5UX05PREUmJmQucHVzaChlLnRleHRDb250ZW50KTtyZXR1cm4gZC5qb2luKFwiXCIpfSxzZXQ6ZnVuY3Rpb24oZCl7Zm9yKDt0aGlzLmZpcnN0Q2hpbGQ7KUtlLmNhbGwodGhpcyx0aGlzLmZpcnN0Q2hpbGQpO251bGwhPWQmJlwiXCIhPT1kJiZJZS5jYWxsKHRoaXMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCkpfX0pfSl9O3ZhciBvZj13aW5kb3cuY3VzdG9tRWxlbWVudHM7ZnVuY3Rpb24gT2YoKXt2YXIgYT1uZXcgbmY7TWYoYSk7SWYoYSk7SGYoYSxEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSx7cHJlcGVuZDpGZSxhcHBlbmQ6R2V9KTtOZihhKTtLZihhKTthPW5ldyBUKGEpO2RvY3VtZW50Ll9fQ0VfcmVnaXN0cnk9YTtPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LFwiY3VzdG9tRWxlbWVudHNcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6YX0pfW9mJiYhb2YuZm9yY2VQb2x5ZmlsbCYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb2YuZGVmaW5lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvZi5nZXR8fE9mKCk7d2luZG93Ll9fQ0VfaW5zdGFsbFBvbHlmaWxsPU9mOy8qXG5cbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5mdW5jdGlvbiBQZigpe3RoaXMuZW5kPXRoaXMuc3RhcnQ9MDt0aGlzLnJ1bGVzPXRoaXMucGFyZW50PXRoaXMucHJldmlvdXM9bnVsbDt0aGlzLmNzc1RleHQ9dGhpcy5wYXJzZWRDc3NUZXh0PVwiXCI7dGhpcy5hdFJ1bGU9ITE7dGhpcy50eXBlPTA7dGhpcy5wYXJzZWRTZWxlY3Rvcj10aGlzLnNlbGVjdG9yPXRoaXMua2V5ZnJhbWVzTmFtZT1cIlwifVxuZnVuY3Rpb24gUWYoYSl7dmFyIGI9YT1hLnJlcGxhY2UoUmYsXCJcIikucmVwbGFjZShTZixcIlwiKSxjPW5ldyBQZjtjLnN0YXJ0PTA7Yy5lbmQ9Yi5sZW5ndGg7Zm9yKHZhciBkPWMsZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKylpZihcIntcIj09PWJbZV0pe2QucnVsZXN8fChkLnJ1bGVzPVtdKTt2YXIgZz1kLGg9Zy5ydWxlc1tnLnJ1bGVzLmxlbmd0aC0xXXx8bnVsbDtkPW5ldyBQZjtkLnN0YXJ0PWUrMTtkLnBhcmVudD1nO2QucHJldmlvdXM9aDtnLnJ1bGVzLnB1c2goZCl9ZWxzZVwifVwiPT09YltlXSYmKGQuZW5kPWUrMSxkPWQucGFyZW50fHxjKTtyZXR1cm4gVGYoYyxhKX1cbmZ1bmN0aW9uIFRmKGEsYil7dmFyIGM9Yi5zdWJzdHJpbmcoYS5zdGFydCxhLmVuZC0xKTthLnBhcnNlZENzc1RleHQ9YS5jc3NUZXh0PWMudHJpbSgpO2EucGFyZW50JiYoYz1iLnN1YnN0cmluZyhhLnByZXZpb3VzP2EucHJldmlvdXMuZW5kOmEucGFyZW50LnN0YXJ0LGEuc3RhcnQtMSksYz1VZihjKSxjPWMucmVwbGFjZShWZixcIiBcIiksYz1jLnN1YnN0cmluZyhjLmxhc3RJbmRleE9mKFwiO1wiKSsxKSxjPWEucGFyc2VkU2VsZWN0b3I9YS5zZWxlY3Rvcj1jLnRyaW0oKSxhLmF0UnVsZT0wPT09Yy5pbmRleE9mKFwiQFwiKSxhLmF0UnVsZT8wPT09Yy5pbmRleE9mKFwiQG1lZGlhXCIpP2EudHlwZT1XZjpjLm1hdGNoKFhmKSYmKGEudHlwZT1ZZixhLmtleWZyYW1lc05hbWU9YS5zZWxlY3Rvci5zcGxpdChWZikucG9wKCkpOmEudHlwZT0wPT09Yy5pbmRleE9mKFwiLS1cIik/WmY6JGYpO2lmKGM9YS5ydWxlcylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoLGY9dm9pZCAwO2Q8ZSYmKGY9Y1tkXSk7ZCsrKVRmKGYsXG5iKTtyZXR1cm4gYX1mdW5jdGlvbiBVZihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXFxcKFswLTlhLWZdezEsNn0pXFxzL2dpLGZ1bmN0aW9uKGIsYyl7Yj1jO2ZvcihjPTYtYi5sZW5ndGg7Yy0tOyliPVwiMFwiK2I7cmV0dXJuXCJcXFxcXCIrYn0pfVxuZnVuY3Rpb24gYWcoYSxiLGMpe2M9dm9pZCAwPT09Yz9cIlwiOmM7dmFyIGQ9XCJcIjtpZihhLmNzc1RleHR8fGEucnVsZXMpe3ZhciBlPWEucnVsZXMsZjtpZihmPWUpZj1lWzBdLGY9IShmJiZmLnNlbGVjdG9yJiYwPT09Zi5zZWxlY3Rvci5pbmRleE9mKFwiLS1cIikpO2lmKGYpe2Y9MDtmb3IodmFyIGc9ZS5sZW5ndGgsaD12b2lkIDA7ZjxnJiYoaD1lW2ZdKTtmKyspZD1hZyhoLGIsZCl9ZWxzZSBiP2I9YS5jc3NUZXh0OihiPWEuY3NzVGV4dCxiPWIucmVwbGFjZShiZyxcIlwiKS5yZXBsYWNlKGNnLFwiXCIpLGI9Yi5yZXBsYWNlKGRnLFwiXCIpLnJlcGxhY2UoZWcsXCJcIikpLChkPWIudHJpbSgpKSYmKGQ9XCIgIFwiK2QrXCJcXG5cIil9ZCYmKGEuc2VsZWN0b3ImJihjKz1hLnNlbGVjdG9yK1wiIHtcXG5cIiksYys9ZCxhLnNlbGVjdG9yJiYoYys9XCJ9XFxuXFxuXCIpKTtyZXR1cm4gY31cbnZhciAkZj0xLFlmPTcsV2Y9NCxaZj0xRTMsUmY9L1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2dpbSxTZj0vQGltcG9ydFteO10qOy9naW0sYmc9Lyg/Ol5bXjtcXC1cXHN9XSspPy0tW147e31dKj86W157fTtdKj8oPzpbO1xcbl18JCkvZ2ltLGNnPS8oPzpeW147XFwtXFxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/e1tefV0qP30oPzpbO1xcbl18JCk/L2dpbSxkZz0vQGFwcGx5XFxzKlxcKD9bXik7XSpcXCk/XFxzKig/Ols7XFxuXXwkKT8vZ2ltLGVnPS9bXjs6XSo/OlteO10qP3ZhclxcKFteO10qXFwpKD86WztcXG5dfCQpPy9naW0sWGY9L15AW15cXHNdKmtleWZyYW1lcy8sVmY9L1xccysvZzt2YXIgVT0hKHdpbmRvdy5TaGFkeURPTSYmd2luZG93LlNoYWR5RE9NLmluVXNlKSxmZztmdW5jdGlvbiBnZyhhKXtmZz1hJiZhLnNoaW1jc3Nwcm9wZXJ0aWVzPyExOlV8fCEobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC82MDF8RWRnZVxcLzE1Lyl8fCF3aW5kb3cuQ1NTfHwhQ1NTLnN1cHBvcnRzfHwhQ1NTLnN1cHBvcnRzKFwiYm94LXNoYWRvd1wiLFwiMCAwIDAgdmFyKC0tZm9vKVwiKSl9dmFyIGhnO3dpbmRvdy5TaGFkeUNTUyYmdm9pZCAwIT09d2luZG93LlNoYWR5Q1NTLmNzc0J1aWxkJiYoaGc9d2luZG93LlNoYWR5Q1NTLmNzc0J1aWxkKTt2YXIgaWc9ISghd2luZG93LlNoYWR5Q1NTfHwhd2luZG93LlNoYWR5Q1NTLmRpc2FibGVSdW50aW1lKTtcbndpbmRvdy5TaGFkeUNTUyYmdm9pZCAwIT09d2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzcz9mZz13aW5kb3cuU2hhZHlDU1MubmF0aXZlQ3NzOndpbmRvdy5TaGFkeUNTUz8oZ2cod2luZG93LlNoYWR5Q1NTKSx3aW5kb3cuU2hhZHlDU1M9dm9pZCAwKTpnZyh3aW5kb3cuV2ViQ29tcG9uZW50cyYmd2luZG93LldlYkNvbXBvbmVudHMuZmxhZ3MpO3ZhciBWPWZnO3ZhciBqZz0vKD86XnxbO1xcc3tdXFxzKikoLS1bXFx3LV0qPylcXHMqOlxccyooPzooKD86Jyg/OlxcXFwnfC4pKj8nfFwiKD86XFxcXFwifC4pKj9cInxcXChbXildKj9cXCl8W159O3tdKSspfFxceyhbXn1dKilcXH0oPzooPz1bO1xcc31dKXwkKSkvZ2ksa2c9Lyg/Ol58XFxXKylAYXBwbHlcXHMqXFwoPyhbXik7XFxuXSopXFwpPy9naSxsZz0vKC0tW1xcdy1dKylcXHMqKFs6LDspXXwkKS9naSxtZz0vKGFuaW1hdGlvblxccyo6KXwoYW5pbWF0aW9uLW5hbWVcXHMqOikvLG5nPS9AbWVkaWFcXHMoLiopLyxvZz0vXFx7W159XSpcXH0vZzt2YXIgcGc9bmV3IFNldDtmdW5jdGlvbiBxZyhhLGIpe2lmKCFhKXJldHVyblwiXCI7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT1RZihhKSk7YiYmc2coYSxiKTtyZXR1cm4gYWcoYSxWKX1mdW5jdGlvbiB0ZyhhKXshYS5fX2Nzc1J1bGVzJiZhLnRleHRDb250ZW50JiYoYS5fX2Nzc1J1bGVzPVFmKGEudGV4dENvbnRlbnQpKTtyZXR1cm4gYS5fX2Nzc1J1bGVzfHxudWxsfWZ1bmN0aW9uIHVnKGEpe3JldHVybiEhYS5wYXJlbnQmJmEucGFyZW50LnR5cGU9PT1ZZn1mdW5jdGlvbiBzZyhhLGIsYyxkKXtpZihhKXt2YXIgZT0hMSxmPWEudHlwZTtpZihkJiZmPT09V2Ype3ZhciBnPWEuc2VsZWN0b3IubWF0Y2gobmcpO2cmJih3aW5kb3cubWF0Y2hNZWRpYShnWzFdKS5tYXRjaGVzfHwoZT0hMCkpfWY9PT0kZj9iKGEpOmMmJmY9PT1ZZj9jKGEpOmY9PT1aZiYmKGU9ITApO2lmKChhPWEucnVsZXMpJiYhZSlmb3IoZT0wLGY9YS5sZW5ndGgsZz12b2lkIDA7ZTxmJiYoZz1hW2VdKTtlKyspc2coZyxiLGMsZCl9fVxuZnVuY3Rpb24gdmcoYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2ImJmUuc2V0QXR0cmlidXRlKFwic2NvcGVcIixiKTtlLnRleHRDb250ZW50PWE7d2coZSxjLGQpO3JldHVybiBlfXZhciB4Zz1udWxsO2Z1bmN0aW9uIHlnKGEpe2E9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIiBTaGFkeSBET00gc3R5bGVzIGZvciBcIithK1wiIFwiKTt2YXIgYj1kb2N1bWVudC5oZWFkO2IuaW5zZXJ0QmVmb3JlKGEsKHhnP3hnLm5leHRTaWJsaW5nOm51bGwpfHxiLmZpcnN0Q2hpbGQpO3JldHVybiB4Zz1hfWZ1bmN0aW9uIHdnKGEsYixjKXtiPWJ8fGRvY3VtZW50LmhlYWQ7Yi5pbnNlcnRCZWZvcmUoYSxjJiZjLm5leHRTaWJsaW5nfHxiLmZpcnN0Q2hpbGQpO3hnP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oeGcpPT09Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcmJih4Zz1hKTp4Zz1hfVxuZnVuY3Rpb24gemcoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2I8ZDtiKyspaWYoXCIoXCI9PT1hW2JdKWMrKztlbHNlIGlmKFwiKVwiPT09YVtiXSYmMD09PS0tYylyZXR1cm4gYjtyZXR1cm4tMX1mdW5jdGlvbiBBZyhhLGIpe3ZhciBjPWEuaW5kZXhPZihcInZhcihcIik7aWYoLTE9PT1jKXJldHVybiBiKGEsXCJcIixcIlwiLFwiXCIpO3ZhciBkPXpnKGEsYyszKSxlPWEuc3Vic3RyaW5nKGMrNCxkKTtjPWEuc3Vic3RyaW5nKDAsYyk7YT1BZyhhLnN1YnN0cmluZyhkKzEpLGIpO2Q9ZS5pbmRleE9mKFwiLFwiKTtyZXR1cm4tMT09PWQ/YihjLGUudHJpbSgpLFwiXCIsYSk6YihjLGUuc3Vic3RyaW5nKDAsZCkudHJpbSgpLGUuc3Vic3RyaW5nKGQrMSkudHJpbSgpLGEpfWZ1bmN0aW9uIEJnKGEsYil7VT9hLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYik6d2luZG93LlNoYWR5RE9NLm5hdGl2ZU1ldGhvZHMuc2V0QXR0cmlidXRlLmNhbGwoYSxcImNsYXNzXCIsYil9XG52YXIgQ2c9d2luZG93LlNoYWR5RE9NJiZ3aW5kb3cuU2hhZHlET00ud3JhcHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2Z1bmN0aW9uIERnKGEpe3ZhciBiPWEubG9jYWxOYW1lLGM9XCJcIjtiPy0xPGIuaW5kZXhPZihcIi1cIil8fChjPWIsYj1hLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJpc1wiKXx8XCJcIik6KGI9YS5pcyxjPWEuZXh0ZW5kcyk7cmV0dXJue2lzOmIsY2E6Y319ZnVuY3Rpb24gRWcoYSl7Zm9yKHZhciBiPVtdLGM9XCJcIixkPTA7MDw9ZCYmZDxhLmxlbmd0aDtkKyspaWYoXCIoXCI9PT1hW2RdKXt2YXIgZT16ZyhhLGQpO2MrPWEuc2xpY2UoZCxlKzEpO2Q9ZX1lbHNlXCIsXCI9PT1hW2RdPyhiLnB1c2goYyksYz1cIlwiKTpjKz1hW2RdO2MmJmIucHVzaChjKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEZnKGEpe2lmKHZvaWQgMCE9PWhnKXJldHVybiBoZztpZih2b2lkIDA9PT1hLl9fY3NzQnVpbGQpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwiY3NzLWJ1aWxkXCIpO2lmKGIpYS5fX2Nzc0J1aWxkPWI7ZWxzZXthOntiPVwidGVtcGxhdGVcIj09PWEubG9jYWxOYW1lP2EuY29udGVudC5maXJzdENoaWxkOmEuZmlyc3RDaGlsZDtpZihiIGluc3RhbmNlb2YgQ29tbWVudCYmKGI9Yi50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoXCI6XCIpLFwiY3NzLWJ1aWxkXCI9PT1iWzBdKSl7Yj1iWzFdO2JyZWFrIGF9Yj1cIlwifWlmKFwiXCIhPT1iKXt2YXIgYz1cInRlbXBsYXRlXCI9PT1hLmxvY2FsTmFtZT9hLmNvbnRlbnQuZmlyc3RDaGlsZDphLmZpcnN0Q2hpbGQ7Yy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfWEuX19jc3NCdWlsZD1ifX1yZXR1cm4gYS5fX2Nzc0J1aWxkfHxcIlwifVxuZnVuY3Rpb24gR2coYSl7YT12b2lkIDA9PT1hP1wiXCI6YTtyZXR1cm5cIlwiIT09YSYmVj9VP1wic2hhZG93XCI9PT1hOlwic2hhZHlcIj09PWE6ITF9O2Z1bmN0aW9uIEhnKCl7fWZ1bmN0aW9uIElnKGEsYil7SmcoS2csYSxmdW5jdGlvbihjKXtMZyhjLGJ8fFwiXCIpfSl9ZnVuY3Rpb24gSmcoYSxiLGMpe2Iubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmYyhiKTt2YXIgZDtcInRlbXBsYXRlXCI9PT1iLmxvY2FsTmFtZT9kPShiLmNvbnRlbnR8fGIuX2NvbnRlbnR8fGIpLmNoaWxkTm9kZXM6ZD1iLmNoaWxkcmVufHxiLmNoaWxkTm9kZXM7aWYoZClmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKUpnKGEsZFtiXSxjKX1cbmZ1bmN0aW9uIExnKGEsYixjKXtpZihiKWlmKGEuY2xhc3NMaXN0KWM/KGEuY2xhc3NMaXN0LnJlbW92ZShcInN0eWxlLXNjb3BlXCIpLGEuY2xhc3NMaXN0LnJlbW92ZShiKSk6KGEuY2xhc3NMaXN0LmFkZChcInN0eWxlLXNjb3BlXCIpLGEuY2xhc3NMaXN0LmFkZChiKSk7ZWxzZSBpZihhLmdldEF0dHJpYnV0ZSl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtjP2QmJihiPWQucmVwbGFjZShcInN0eWxlLXNjb3BlXCIsXCJcIikucmVwbGFjZShiLFwiXCIpLEJnKGEsYikpOkJnKGEsKGQ/ZCtcIiBcIjpcIlwiKStcInN0eWxlLXNjb3BlIFwiK2IpfX1mdW5jdGlvbiBNZyhhLGIsYyl7SmcoS2csYSxmdW5jdGlvbihkKXtMZyhkLGIsITApO0xnKGQsYyl9KX1mdW5jdGlvbiBOZyhhLGIpe0pnKEtnLGEsZnVuY3Rpb24oYyl7TGcoYyxifHxcIlwiLCEwKX0pfVxuZnVuY3Rpb24gT2coYSxiLGMsZCxlKXt2YXIgZj1LZztlPXZvaWQgMD09PWU/XCJcIjplO1wiXCI9PT1lJiYoVXx8XCJzaGFkeVwiPT09KHZvaWQgMD09PWQ/XCJcIjpkKT9lPXFnKGIsYyk6KGE9RGcoYSksZT1QZyhmLGIsYS5pcyxhLmNhLGMpK1wiXFxuXFxuXCIpKTtyZXR1cm4gZS50cmltKCl9ZnVuY3Rpb24gUGcoYSxiLGMsZCxlKXt2YXIgZj1RZyhjLGQpO2M9Yz9cIi5cIitjOlwiXCI7cmV0dXJuIHFnKGIsZnVuY3Rpb24oZyl7Zy5jfHwoZy5zZWxlY3Rvcj1nLnc9UmcoYSxnLGEuYixjLGYpLGcuYz0hMCk7ZSYmZShnLGMsZil9KX1mdW5jdGlvbiBRZyhhLGIpe3JldHVybiBiP1wiW2lzPVwiK2ErXCJdXCI6YX1cbmZ1bmN0aW9uIFJnKGEsYixjLGQsZSl7dmFyIGY9RWcoYi5zZWxlY3Rvcik7aWYoIXVnKGIpKXtiPTA7Zm9yKHZhciBnPWYubGVuZ3RoLGg9dm9pZCAwO2I8ZyYmKGg9ZltiXSk7YisrKWZbYl09Yy5jYWxsKGEsaCxkLGUpfXJldHVybiBmLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm4hIWt9KS5qb2luKFwiLFwiKX1mdW5jdGlvbiBTZyhhKXtyZXR1cm4gYS5yZXBsYWNlKFRnLGZ1bmN0aW9uKGIsYyxkKXstMTxkLmluZGV4T2YoXCIrXCIpP2Q9ZC5yZXBsYWNlKC9cXCsvZyxcIl9fX1wiKTotMTxkLmluZGV4T2YoXCJfX19cIikmJihkPWQucmVwbGFjZSgvX19fL2csXCIrXCIpKTtyZXR1cm5cIjpcIitjK1wiKFwiK2QrXCIpXCJ9KX1cbmZ1bmN0aW9uIFVnKGEpe2Zvcih2YXIgYj1bXSxjO2M9YS5tYXRjaChWZyk7KXt2YXIgZD1jLmluZGV4LGU9emcoYSxkKTtpZigtMT09PWUpdGhyb3cgRXJyb3IoYy5pbnB1dCtcIiBzZWxlY3RvciBtaXNzaW5nICcpJ1wiKTtjPWEuc2xpY2UoZCxlKzEpO2E9YS5yZXBsYWNlKGMsXCJcXHVlMDAwXCIpO2IucHVzaChjKX1yZXR1cm57d2E6YSxtYXRjaGVzOmJ9fWZ1bmN0aW9uIFdnKGEsYil7dmFyIGM9YS5zcGxpdChcIlxcdWUwMDBcIik7cmV0dXJuIGIucmVkdWNlKGZ1bmN0aW9uKGQsZSxmKXtyZXR1cm4gZCtlK2NbZisxXX0sY1swXSl9XG5IZy5wcm90b3R5cGUuYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITE7YT1hLnRyaW0oKTt2YXIgZT1UZy50ZXN0KGEpO2UmJihhPWEucmVwbGFjZShUZyxmdW5jdGlvbihoLGssbCl7cmV0dXJuXCI6XCIraytcIihcIitsLnJlcGxhY2UoL1xccy9nLFwiXCIpK1wiKVwifSksYT1TZyhhKSk7dmFyIGY9VmcudGVzdChhKTtpZihmKXt2YXIgZz1VZyhhKTthPWcud2E7Zz1nLm1hdGNoZXN9YT1hLnJlcGxhY2UoWGcsXCI6aG9zdCAkMVwiKTthPWEucmVwbGFjZShZZyxmdW5jdGlvbihoLGssbCl7ZHx8KGg9WmcobCxrLGIsYyksZD1kfHxoLnN0b3Asaz1oLlFhLGw9aC52YWx1ZSk7cmV0dXJuIGsrbH0pO2YmJihhPVdnKGEsZykpO2UmJihhPVNnKGEpKTtyZXR1cm4gYT1hLnJlcGxhY2UoJGcsZnVuY3Rpb24oaCxrLGwsbSl7cmV0dXJuJ1tkaXI9XCInK2wrJ1wiXSAnK2srbStcIiwgXCIraysnW2Rpcj1cIicrbCsnXCJdJyttfSl9O1xuZnVuY3Rpb24gWmcoYSxiLGMsZCl7dmFyIGU9YS5pbmRleE9mKFwiOjpzbG90dGVkXCIpOzA8PWEuaW5kZXhPZihcIjpob3N0XCIpP2E9YWgoYSxkKTowIT09ZSYmKGE9Yz9iaChhLGMpOmEpO2M9ITE7MDw9ZSYmKGI9XCJcIixjPSEwKTtpZihjKXt2YXIgZj0hMDtjJiYoYT1hLnJlcGxhY2UoY2gsZnVuY3Rpb24oZyxoKXtyZXR1cm5cIiA+IFwiK2h9KSl9cmV0dXJue3ZhbHVlOmEsUWE6YixzdG9wOmZ9fWZ1bmN0aW9uIGJoKGEsYil7YT1hLnNwbGl0KC8oXFxbLis/XFxdKS8pO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoMT09PWQlMiljLnB1c2goYVtkXSk7ZWxzZXt2YXIgZT1hW2RdO2lmKFwiXCIhPT1lfHxkIT09YS5sZW5ndGgtMSllPWUuc3BsaXQoXCI6XCIpLGVbMF0rPWIsYy5wdXNoKGUuam9pbihcIjpcIikpfXJldHVybiBjLmpvaW4oXCJcIil9XG5mdW5jdGlvbiBhaChhLGIpe3ZhciBjPWEubWF0Y2goZGgpO3JldHVybihjPWMmJmNbMl0udHJpbSgpfHxcIlwiKT9jWzBdLm1hdGNoKGVoKT9hLnJlcGxhY2UoZGgsZnVuY3Rpb24oZCxlLGYpe3JldHVybiBiK2Z9KTpjLnNwbGl0KGVoKVswXT09PWI/YzpcInNob3VsZF9ub3RfbWF0Y2hcIjphLnJlcGxhY2UoXCI6aG9zdFwiLGIpfWZ1bmN0aW9uIGZoKGEpe1wiOnJvb3RcIj09PWEuc2VsZWN0b3ImJihhLnNlbGVjdG9yPVwiaHRtbFwiKX1IZy5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXtyZXR1cm4gYS5tYXRjaChcIjpob3N0XCIpP1wiXCI6YS5tYXRjaChcIjo6c2xvdHRlZFwiKT90aGlzLmIoYSxcIjpub3QoLnN0eWxlLXNjb3BlKVwiKTpiaChhLnRyaW0oKSxcIjpub3QoLnN0eWxlLXNjb3BlKVwiKX07Y2EuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSGcucHJvdG90eXBlLHthOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInN0eWxlLXNjb3BlXCJ9fX0pO1xudmFyIFRnPS86KG50aFstXFx3XSspXFwoKFteKV0rKVxcKS8sWWc9LyhefFtcXHM+K35dKykoKD86XFxbLis/XFxdfFteXFxzPit+PVtdKSspL2csZWg9L1tbLjojKl0vLFhnPS9eKDo6c2xvdHRlZCkvLGRoPS8oOmhvc3QpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKS8sY2g9Lyg/Ojo6c2xvdHRlZCkoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpLywkZz0vKC4qKTpkaXJcXCgoPzoobHRyfHJ0bCkpXFwpKC4qKS8sVmc9LzooPzptYXRjaGVzfGFueXwtKD86d2Via2l0fG1veiktYW55KS8sS2c9bmV3IEhnO2Z1bmN0aW9uIGdoKGEsYixjLGQsZSl7dGhpcy5IPWF8fG51bGw7dGhpcy5iPWJ8fG51bGw7dGhpcy50YT1jfHxbXTt0aGlzLkY9bnVsbDt0aGlzLmNzc0J1aWxkPWV8fFwiXCI7dGhpcy5jYT1kfHxcIlwiO3RoaXMuYT10aGlzLkc9dGhpcy5MPW51bGx9ZnVuY3Rpb24gaGgoYSl7cmV0dXJuIGE/YS5fX3N0eWxlSW5mbzpudWxsfWZ1bmN0aW9uIGloKGEsYil7cmV0dXJuIGEuX19zdHlsZUluZm89Yn1naC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkh9O2doLnByb3RvdHlwZS5fZ2V0U3R5bGVSdWxlcz1naC5wcm90b3R5cGUuYztmdW5jdGlvbiBqaChhKXt2YXIgYj10aGlzLm1hdGNoZXN8fHRoaXMubWF0Y2hlc1NlbGVjdG9yfHx0aGlzLm1vek1hdGNoZXNTZWxlY3Rvcnx8dGhpcy5tc01hdGNoZXNTZWxlY3Rvcnx8dGhpcy5vTWF0Y2hlc1NlbGVjdG9yfHx0aGlzLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtyZXR1cm4gYiYmYi5jYWxsKHRoaXMsYSl9dmFyIGtoPS86aG9zdFxccyo+XFxzKi8sbGg9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcIlRyaWRlbnRcIik7ZnVuY3Rpb24gbWgoKXt9ZnVuY3Rpb24gbmgoYSl7dmFyIGI9e30sYz1bXSxkPTA7c2coYSxmdW5jdGlvbihmKXtvaChmKTtmLmluZGV4PWQrKztmPWYudi5jc3NUZXh0O2Zvcih2YXIgZztnPWxnLmV4ZWMoZik7KXt2YXIgaD1nWzFdO1wiOlwiIT09Z1syXSYmKGJbaF09ITApfX0sZnVuY3Rpb24oZil7Yy5wdXNoKGYpfSk7YS5iPWM7YT1bXTtmb3IodmFyIGUgaW4gYilhLnB1c2goZSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBvaChhKXtpZighYS52KXt2YXIgYj17fSxjPXt9O3BoKGEsYykmJihiLks9YyxhLnJ1bGVzPW51bGwpO2IuY3NzVGV4dD1hLnBhcnNlZENzc1RleHQucmVwbGFjZShvZyxcIlwiKS5yZXBsYWNlKGpnLFwiXCIpO2Eudj1ifX1mdW5jdGlvbiBwaChhLGIpe3ZhciBjPWEudjtpZihjKXtpZihjLkspcmV0dXJuIE9iamVjdC5hc3NpZ24oYixjLkspLCEwfWVsc2V7Yz1hLnBhcnNlZENzc1RleHQ7Zm9yKHZhciBkO2E9amcuZXhlYyhjKTspe2Q9KGFbMl18fGFbM10pLnRyaW0oKTtpZihcImluaGVyaXRcIiE9PWR8fFwidW5zZXRcIiE9PWQpYlthWzFdLnRyaW0oKV09ZDtkPSEwfXJldHVybiBkfX1cbmZ1bmN0aW9uIHFoKGEsYixjKXtiJiYoYj0wPD1iLmluZGV4T2YoXCI7XCIpP3JoKGEsYixjKTpBZyhiLGZ1bmN0aW9uKGQsZSxmLGcpe2lmKCFlKXJldHVybiBkK2c7KGU9cWgoYSxjW2VdLGMpKSYmXCJpbml0aWFsXCIhPT1lP1wiYXBwbHktc2hpbS1pbmhlcml0XCI9PT1lJiYoZT1cImluaGVyaXRcIik6ZT1xaChhLGNbZl18fGYsYyl8fGY7cmV0dXJuIGQrKGV8fFwiXCIpK2d9KSk7cmV0dXJuIGImJmIudHJpbSgpfHxcIlwifVxuZnVuY3Rpb24gcmgoYSxiLGMpe2I9Yi5zcGxpdChcIjtcIik7Zm9yKHZhciBkPTAsZSxmO2Q8Yi5sZW5ndGg7ZCsrKWlmKGU9YltkXSl7a2cubGFzdEluZGV4PTA7aWYoZj1rZy5leGVjKGUpKWU9cWgoYSxjW2ZbMV1dLGMpO2Vsc2UgaWYoZj1lLmluZGV4T2YoXCI6XCIpLC0xIT09Zil7dmFyIGc9ZS5zdWJzdHJpbmcoZik7Zz1nLnRyaW0oKTtnPXFoKGEsZyxjKXx8ZztlPWUuc3Vic3RyaW5nKDAsZikrZ31iW2RdPWUmJmUubGFzdEluZGV4T2YoXCI7XCIpPT09ZS5sZW5ndGgtMT9lLnNsaWNlKDAsLTEpOmV8fFwiXCJ9cmV0dXJuIGIuam9pbihcIjtcIil9XG5mdW5jdGlvbiBzaChhLGIpe3ZhciBjPXt9LGQ9W107c2coYSxmdW5jdGlvbihlKXtlLnZ8fG9oKGUpO3ZhciBmPWUud3x8ZS5wYXJzZWRTZWxlY3RvcjtiJiZlLnYuSyYmZiYmamguY2FsbChiLGYpJiYocGgoZSxjKSxlPWUuaW5kZXgsZj1wYXJzZUludChlLzMyLDEwKSxkW2ZdPShkW2ZdfHwwKXwxPDxlJTMyKX0sbnVsbCwhMCk7cmV0dXJue0s6YyxrZXk6ZH19XG5mdW5jdGlvbiB0aChhLGIsYyxkKXtiLnZ8fG9oKGIpO2lmKGIudi5LKXt2YXIgZT1EZyhhKTthPWUuaXM7ZT1lLmNhO2U9YT9RZyhhLGUpOlwiaHRtbFwiO3ZhciBmPWIucGFyc2VkU2VsZWN0b3I7dmFyIGc9ISFmLm1hdGNoKGtoKXx8XCJodG1sXCI9PT1lJiYtMTxmLmluZGV4T2YoXCJodG1sXCIpO3ZhciBoPTA9PT1mLmluZGV4T2YoXCI6aG9zdFwiKSYmIWc7XCJzaGFkeVwiPT09YyYmKGc9Zj09PWUrXCIgPiAqLlwiK2V8fC0xIT09Zi5pbmRleE9mKFwiaHRtbFwiKSxoPSFnJiYwPT09Zi5pbmRleE9mKGUpKTtpZihnfHxoKWM9ZSxoJiYoYi53fHwoYi53PVJnKEtnLGIsS2cuYixhP1wiLlwiK2E6XCJcIixlKSksYz1iLnd8fGUpLGcmJlwiaHRtbFwiPT09ZSYmKGM9Yi53fHxiLkopLGQoe3dhOmMsWGE6aCxtYjpnfSl9fVxuZnVuY3Rpb24gdWgoYSxiLGMpe3ZhciBkPXt9LGU9e307c2coYixmdW5jdGlvbihmKXt0aChhLGYsYyxmdW5jdGlvbihnKXtqaC5jYWxsKGEuX2VsZW1lbnR8fGEsZy53YSkmJihnLlhhP3BoKGYsZCk6cGgoZixlKSl9KX0sbnVsbCwhMCk7cmV0dXJue2NiOmUsVmE6ZH19XG5mdW5jdGlvbiB2aChhLGIsYyxkKXt2YXIgZT1EZyhiKSxmPVFnKGUuaXMsZS5jYSksZz1uZXcgUmVnRXhwKFwiKD86XnxbXi4jWzpdKVwiKyhiLmV4dGVuZHM/XCJcXFxcXCIrZi5zbGljZSgwLC0xKStcIlxcXFxdXCI6ZikrXCIoJHxbLjpbXFxcXHM+K35dKVwiKSxoPWhoKGIpO2U9aC5IO2g9aC5jc3NCdWlsZDt2YXIgaz13aChlLGQpO3JldHVybiBPZyhiLGUsZnVuY3Rpb24obCl7dmFyIG09XCJcIjtsLnZ8fG9oKGwpO2wudi5jc3NUZXh0JiYobT1yaChhLGwudi5jc3NUZXh0LGMpKTtsLmNzc1RleHQ9bTtpZighVSYmIXVnKGwpJiZsLmNzc1RleHQpe3ZhciBxPW09bC5jc3NUZXh0O251bGw9PWwuRGEmJihsLkRhPW1nLnRlc3QobSkpO2lmKGwuRGEpaWYobnVsbD09bC5rYSl7bC5rYT1bXTtmb3IodmFyIEggaW4gaylxPWtbSF0scT1xKG0pLG0hPT1xJiYobT1xLGwua2EucHVzaChIKSl9ZWxzZXtmb3IoSD0wO0g8bC5rYS5sZW5ndGg7KytIKXE9a1tsLmthW0hdXSxtPXEobSk7cT1tfWwuY3NzVGV4dD1xO2wudz1cbmwud3x8bC5zZWxlY3RvcjttPVwiLlwiK2Q7SD1FZyhsLncpO3E9MDtmb3IodmFyIEM9SC5sZW5ndGgsdD12b2lkIDA7cTxDJiYodD1IW3FdKTtxKyspSFtxXT10Lm1hdGNoKGcpP3QucmVwbGFjZShmLG0pOm0rXCIgXCIrdDtsLnNlbGVjdG9yPUguam9pbihcIixcIil9fSxoKX1mdW5jdGlvbiB3aChhLGIpe2E9YS5iO3ZhciBjPXt9O2lmKCFVJiZhKWZvcih2YXIgZD0wLGU9YVtkXTtkPGEubGVuZ3RoO2U9YVsrK2RdKXt2YXIgZj1lLGc9YjtmLmw9bmV3IFJlZ0V4cChcIlxcXFxiXCIrZi5rZXlmcmFtZXNOYW1lK1wiKD8hXFxcXEJ8LSlcIixcImdcIik7Zi5hPWYua2V5ZnJhbWVzTmFtZStcIi1cIitnO2Yudz1mLnd8fGYuc2VsZWN0b3I7Zi5zZWxlY3Rvcj1mLncucmVwbGFjZShmLmtleWZyYW1lc05hbWUsZi5hKTtjW2Uua2V5ZnJhbWVzTmFtZV09eGgoZSl9cmV0dXJuIGN9ZnVuY3Rpb24geGgoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoYS5sLGEuYSl9fVxuZnVuY3Rpb24geWgoYSxiKXt2YXIgYz16aCxkPXRnKGEpO2EudGV4dENvbnRlbnQ9cWcoZCxmdW5jdGlvbihlKXt2YXIgZj1lLmNzc1RleHQ9ZS5wYXJzZWRDc3NUZXh0O2UudiYmZS52LmNzc1RleHQmJihmPWYucmVwbGFjZShiZyxcIlwiKS5yZXBsYWNlKGNnLFwiXCIpLGUuY3NzVGV4dD1yaChjLGYsYikpfSl9Y2EuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobWgucHJvdG90eXBlLHthOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIngtc2NvcGVcIn19fSk7dmFyIHpoPW5ldyBtaDt2YXIgQWg9e30sQmg9d2luZG93LmN1c3RvbUVsZW1lbnRzO2lmKEJoJiYhVSYmIWlnKXt2YXIgQ2g9QmguZGVmaW5lO0JoLmRlZmluZT1mdW5jdGlvbihhLGIsYyl7QWhbYV18fChBaFthXT15ZyhhKSk7Q2guY2FsbChCaCxhLGIsYyl9fTtmdW5jdGlvbiBEaCgpe3RoaXMuY2FjaGU9e319RGgucHJvdG90eXBlLnN0b3JlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY2FjaGVbYV18fFtdO2UucHVzaCh7SzpiLHN0eWxlRWxlbWVudDpjLEc6ZH0pOzEwMDxlLmxlbmd0aCYmZS5zaGlmdCgpO3RoaXMuY2FjaGVbYV09ZX07ZnVuY3Rpb24gRWgoKXt9dmFyIEZoPW5ldyBSZWdFeHAoS2cuYStcIlxcXFxzKihbXlxcXFxzXSopXCIpO2Z1bmN0aW9uIEdoKGEpe3JldHVybihhPShhLmNsYXNzTGlzdCYmYS5jbGFzc0xpc3QudmFsdWU/YS5jbGFzc0xpc3QudmFsdWU6YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikubWF0Y2goRmgpKT9hWzFdOlwiXCJ9ZnVuY3Rpb24gSGgoYSl7dmFyIGI9Q2coYSkuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gYj09PWF8fGI9PT1hLm93bmVyRG9jdW1lbnQ/XCJcIjooYT1iLmhvc3QpP0RnKGEpLmlzOlwiXCJ9XG5mdW5jdGlvbiBJaChhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtpZihjLnRhcmdldCE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmYy50YXJnZXQhPT1kb2N1bWVudC5oZWFkKWZvcih2YXIgZD0wO2Q8Yy5hZGRlZE5vZGVzLmxlbmd0aDtkKyspe3ZhciBlPWMuYWRkZWROb2Rlc1tkXTtpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBmPWUuZ2V0Um9vdE5vZGUoKSxnPUdoKGUpO2lmKGcmJmY9PT1lLm93bmVyRG9jdW1lbnQmJihcInN0eWxlXCIhPT1lLmxvY2FsTmFtZSYmXCJ0ZW1wbGF0ZVwiIT09ZS5sb2NhbE5hbWV8fFwiXCI9PT1GZyhlKSkpTmcoZSxnKTtlbHNlIGlmKGYgaW5zdGFuY2VvZiBTaGFkb3dSb290KWZvcihmPUhoKGUpLGYhPT1nJiZNZyhlLGcsZiksZT13aW5kb3cuU2hhZHlET00ubmF0aXZlTWV0aG9kcy5xdWVyeVNlbGVjdG9yQWxsLmNhbGwoZSxcIjpub3QoLlwiK0tnLmErXCIpXCIpLGc9MDtnPGUubGVuZ3RoO2crKyl7Zj1lW2ddO1xudmFyIGg9SGgoZik7aCYmTGcoZixoKX19fX19XG5pZighKFV8fHdpbmRvdy5TaGFkeURPTSYmd2luZG93LlNoYWR5RE9NLmhhbmRsZXNEeW5hbWljU2NvcGluZykpe3ZhciBKaD1uZXcgTXV0YXRpb25PYnNlcnZlcihJaCksS2g9ZnVuY3Rpb24oYSl7Smgub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfTtpZih3aW5kb3cuY3VzdG9tRWxlbWVudHMmJiF3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaylLaChkb2N1bWVudCk7ZWxzZXt2YXIgTGg9ZnVuY3Rpb24oKXtLaChkb2N1bWVudC5ib2R5KX07d2luZG93LkhUTUxJbXBvcnRzP3dpbmRvdy5IVE1MSW1wb3J0cy53aGVuUmVhZHkoTGgpOnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2lmKFwibG9hZGluZ1wiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSl7dmFyIGE9ZnVuY3Rpb24oKXtMaCgpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsYSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsXG5hKX1lbHNlIExoKCl9KX1FaD1mdW5jdGlvbigpe0loKEpoLnRha2VSZWNvcmRzKCkpfX07dmFyIE1oPXt9O3ZhciBOaD1Qcm9taXNlLnJlc29sdmUoKTtmdW5jdGlvbiBPaChhKXtpZihhPU1oW2FdKWEuX2FwcGx5U2hpbUN1cnJlbnRWZXJzaW9uPWEuX2FwcGx5U2hpbUN1cnJlbnRWZXJzaW9ufHwwLGEuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uPWEuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9ufHwwLGEuX2FwcGx5U2hpbU5leHRWZXJzaW9uPShhLl9hcHBseVNoaW1OZXh0VmVyc2lvbnx8MCkrMX1mdW5jdGlvbiBQaChhKXtyZXR1cm4gYS5fYXBwbHlTaGltQ3VycmVudFZlcnNpb249PT1hLl9hcHBseVNoaW1OZXh0VmVyc2lvbn1mdW5jdGlvbiBRaChhKXthLl9hcHBseVNoaW1WYWxpZGF0aW5nVmVyc2lvbj1hLl9hcHBseVNoaW1OZXh0VmVyc2lvbjthLl92YWxpZGF0aW5nfHwoYS5fdmFsaWRhdGluZz0hMCxOaC50aGVuKGZ1bmN0aW9uKCl7YS5fYXBwbHlTaGltQ3VycmVudFZlcnNpb249YS5fYXBwbHlTaGltTmV4dFZlcnNpb247YS5fdmFsaWRhdGluZz0hMX0pKX07dmFyIFJoPXt9LFNoPW5ldyBEaDtmdW5jdGlvbiBYKCl7dGhpcy5ZPXt9O3RoaXMuYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGE9bmV3IFBmO2EucnVsZXM9W107dGhpcy5sPWloKHRoaXMuYyxuZXcgZ2goYSkpO3RoaXMuSj0hMTt0aGlzLmE9dGhpcy5iPW51bGx9dz1YLnByb3RvdHlwZTt3LmZsdXNoPWZ1bmN0aW9uKCl7RWgoKX07dy5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGcoYSl9O3cuaGI9ZnVuY3Rpb24oYSl7cmV0dXJuIHFnKGEpfTt3LnByZXBhcmVUZW1wbGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5wcmVwYXJlVGVtcGxhdGVEb20oYSxiKTt0aGlzLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyhhLGIsYyl9O1xudy5wcmVwYXJlVGVtcGxhdGVTdHlsZXM9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhLl9wcmVwYXJlZCYmIWlnKXtVfHxBaFtiXXx8KEFoW2JdPXlnKGIpKTthLl9wcmVwYXJlZD0hMDthLm5hbWU9YjthLmV4dGVuZHM9YztNaFtiXT1hO3ZhciBkPUZnKGEpLGU9R2coZCk7Yz17aXM6YixleHRlbmRzOmN9O2Zvcih2YXIgZj1bXSxnPWEuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3R5bGVcIiksaD0wO2g8Zy5sZW5ndGg7aCsrKXt2YXIgaz1nW2hdO2lmKGsuaGFzQXR0cmlidXRlKFwic2hhZHktdW5zY29wZWRcIikpe2lmKCFVKXt2YXIgbD1rLnRleHRDb250ZW50O2lmKCFwZy5oYXMobCkpe3BnLmFkZChsKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7bS5zZXRBdHRyaWJ1dGUoXCJzaGFkeS11bnNjb3BlZFwiLFwiXCIpO20udGV4dENvbnRlbnQ9bDtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG0pfWsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKX19ZWxzZSBmLnB1c2goay50ZXh0Q29udGVudCksXG5rLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayl9Zj1mLmpvaW4oXCJcIikudHJpbSgpKyhSaFtiXXx8XCJcIik7VGgodGhpcyk7aWYoIWUpe2lmKGc9IWQpZz1rZy50ZXN0KGYpfHxqZy50ZXN0KGYpLGtnLmxhc3RJbmRleD0wLGpnLmxhc3RJbmRleD0wO2g9UWYoZik7ZyYmViYmdGhpcy5iJiZ0aGlzLmIudHJhbnNmb3JtUnVsZXMoaCxiKTthLl9zdHlsZUFzdD1ofWc9W107Vnx8KGc9bmgoYS5fc3R5bGVBc3QpKTtpZighZy5sZW5ndGh8fFYpaD1VP2EuY29udGVudDpudWxsLGI9QWhbYl18fG51bGwsZD1PZyhjLGEuX3N0eWxlQXN0LG51bGwsZCxlP2Y6XCJcIiksZD1kLmxlbmd0aD92ZyhkLGMuaXMsaCxiKTpudWxsLGEuX3N0eWxlPWQ7YS5hPWd9fTt3LmFiPWZ1bmN0aW9uKGEsYil7UmhbYl09YS5qb2luKFwiIFwiKX07XG53LnByZXBhcmVUZW1wbGF0ZURvbT1mdW5jdGlvbihhLGIpe2lmKCFpZyl7dmFyIGM9RmcoYSk7VXx8XCJzaGFkeVwiPT09Y3x8YS5fZG9tUHJlcGFyZWR8fChhLl9kb21QcmVwYXJlZD0hMCxJZyhhLmNvbnRlbnQsYikpfX07ZnVuY3Rpb24gVWgoYSl7dmFyIGI9RGcoYSksYz1iLmlzO2I9Yi5jYTt2YXIgZD1BaFtjXXx8bnVsbCxlPU1oW2NdO2lmKGUpe2M9ZS5fc3R5bGVBc3Q7dmFyIGY9ZS5hO2U9RmcoZSk7Yj1uZXcgZ2goYyxkLGYsYixlKTtpaChhLGIpO3JldHVybiBifX1cbmZ1bmN0aW9uIFZoKGEpeyFhLmEmJndpbmRvdy5TaGFkeUNTUyYmd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlJiYoYS5hPXdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSxhLmEudHJhbnNmb3JtQ2FsbGJhY2s9ZnVuY3Rpb24oYil7YS5IYShiKX0sYS5hLnZhbGlkYXRlQ2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXsoYS5hLmVucXVldWVkfHxhLkopJiZhLmZsdXNoQ3VzdG9tU3R5bGVzKCl9KX0pfWZ1bmN0aW9uIFRoKGEpe2lmKCFhLmImJndpbmRvdy5TaGFkeUNTUyYmd2luZG93LlNoYWR5Q1NTLkFwcGx5U2hpbSl7YS5iPXdpbmRvdy5TaGFkeUNTUy5BcHBseVNoaW07YS5iLmludmFsaWRDYWxsYmFjaz1PaDt2YXIgYj0hMH1lbHNlIGI9ITE7VmgoYSk7cmV0dXJuIGJ9XG53LmZsdXNoQ3VzdG9tU3R5bGVzPWZ1bmN0aW9uKCl7aWYoIWlnKXt2YXIgYT1UaCh0aGlzKTtpZih0aGlzLmEpe3ZhciBiPXRoaXMuYS5wcm9jZXNzU3R5bGVzKCk7aWYoKGF8fHRoaXMuYS5lbnF1ZXVlZCkmJiFHZyh0aGlzLmwuY3NzQnVpbGQpKXtpZihWKXtpZighdGhpcy5sLmNzc0J1aWxkKWZvcihhPTA7YTxiLmxlbmd0aDthKyspe3ZhciBjPXRoaXMuYS5nZXRTdHlsZUZvckN1c3RvbVN0eWxlKGJbYV0pO2lmKGMmJlYmJnRoaXMuYil7dmFyIGQ9dGcoYyk7VGgodGhpcyk7dGhpcy5iLnRyYW5zZm9ybVJ1bGVzKGQpO2MudGV4dENvbnRlbnQ9cWcoZCl9fX1lbHNle1doKHRoaXMsYik7WGgodGhpcyx0aGlzLmMsdGhpcy5sKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKShjPXRoaXMuYS5nZXRTdHlsZUZvckN1c3RvbVN0eWxlKGJbYV0pKSYmeWgoYyx0aGlzLmwuTCk7dGhpcy5KJiZ0aGlzLnN0eWxlRG9jdW1lbnQoKX10aGlzLmEuZW5xdWV1ZWQ9ITF9fX19O1xuZnVuY3Rpb24gV2goYSxiKXtiPWIubWFwKGZ1bmN0aW9uKGMpe3JldHVybiBhLmEuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShjKX0pLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4hIWN9KTtiLnNvcnQoZnVuY3Rpb24oYyxkKXtjPWQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYyk7cmV0dXJuIGMmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc/MTpjJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HPy0xOjB9KTthLmwuSC5ydWxlcz1iLm1hcChmdW5jdGlvbihjKXtyZXR1cm4gdGcoYyl9KX1cbncuc3R5bGVFbGVtZW50PWZ1bmN0aW9uKGEsYil7aWYoaWcpe2lmKGIpe2hoKGEpfHxpaChhLG5ldyBnaChudWxsKSk7dmFyIGM9aGgoYSk7Yy5GPWMuRnx8e307T2JqZWN0LmFzc2lnbihjLkYsYik7WWgodGhpcyxhLGMpfX1lbHNlIGlmKGM9aGgoYSl8fFVoKGEpKWlmKGEhPT10aGlzLmMmJih0aGlzLko9ITApLGImJihjLkY9Yy5GfHx7fSxPYmplY3QuYXNzaWduKGMuRixiKSksVilZaCh0aGlzLGEsYyk7ZWxzZSBpZih0aGlzLmZsdXNoKCksWGgodGhpcyxhLGMpLGMudGEmJmMudGEubGVuZ3RoKXtiPURnKGEpLmlzO3ZhciBkO2E6e2lmKGQ9U2guY2FjaGVbYl0pZm9yKHZhciBlPWQubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBmPWRbZV07Yjp7dmFyIGc9Yy50YTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIGs9Z1toXTtpZihmLktba10hPT1jLkxba10pe2c9ITE7YnJlYWsgYn19Zz0hMH1pZihnKXtkPWY7YnJlYWsgYX19ZD12b2lkIDB9Zz1kP2Quc3R5bGVFbGVtZW50OlxubnVsbDtlPWMuRzsoZj1kJiZkLkcpfHwoZj10aGlzLllbYl09KHRoaXMuWVtiXXx8MCkrMSxmPWIrXCItXCIrZik7Yy5HPWY7Zj1jLkc7aD16aDtoPWc/Zy50ZXh0Q29udGVudHx8XCJcIjp2aChoLGEsYy5MLGYpO2s9aGgoYSk7dmFyIGw9ay5hO2wmJiFVJiZsIT09ZyYmKGwuX3VzZUNvdW50LS0sMD49bC5fdXNlQ291bnQmJmwucGFyZW50Tm9kZSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpKTtVP2suYT8oay5hLnRleHRDb250ZW50PWgsZz1rLmEpOmgmJihnPXZnKGgsZixhLnNoYWRvd1Jvb3Qsay5iKSk6Zz9nLnBhcmVudE5vZGV8fChsaCYmLTE8aC5pbmRleE9mKFwiQG1lZGlhXCIpJiYoZy50ZXh0Q29udGVudD1oKSx3ZyhnLG51bGwsay5iKSk6aCYmKGc9dmcoaCxmLG51bGwsay5iKSk7ZyYmKGcuX3VzZUNvdW50PWcuX3VzZUNvdW50fHwwLGsuYSE9ZyYmZy5fdXNlQ291bnQrKyxrLmE9Zyk7Zj1nO1V8fChnPWMuRyxrPWg9YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIixlJiYoaz1cbmgucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHMqeC1zY29wZVxcXFxzKlwiK2UrXCJcXFxccypcIixcImdcIiksXCIgXCIpKSxrKz0oaz9cIiBcIjpcIlwiKStcIngtc2NvcGUgXCIrZyxoIT09ayYmQmcoYSxrKSk7ZHx8U2guc3RvcmUoYixjLkwsZixjLkcpfX07XG5mdW5jdGlvbiBZaChhLGIsYyl7dmFyIGQ9RGcoYikuaXM7aWYoYy5GKXt2YXIgZT1jLkYsZjtmb3IoZiBpbiBlKW51bGw9PT1mP2Iuc3R5bGUucmVtb3ZlUHJvcGVydHkoZik6Yi5zdHlsZS5zZXRQcm9wZXJ0eShmLGVbZl0pfWU9TWhbZF07aWYoISghZSYmYiE9PWEuY3x8ZSYmXCJcIiE9PUZnKGUpKSYmZSYmZS5fc3R5bGUmJiFQaChlKSl7aWYoUGgoZSl8fGUuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uIT09ZS5fYXBwbHlTaGltTmV4dFZlcnNpb24pVGgoYSksYS5iJiZhLmIudHJhbnNmb3JtUnVsZXMoZS5fc3R5bGVBc3QsZCksZS5fc3R5bGUudGV4dENvbnRlbnQ9T2coYixjLkgpLFFoKGUpO1UmJihhPWIuc2hhZG93Um9vdCkmJihhPWEucXVlcnlTZWxlY3RvcihcInN0eWxlXCIpKSYmKGEudGV4dENvbnRlbnQ9T2coYixjLkgpKTtjLkg9ZS5fc3R5bGVBc3R9fVxuZnVuY3Rpb24gWmgoYSxiKXtyZXR1cm4oYj1DZyhiKS5nZXRSb290Tm9kZSgpLmhvc3QpP2hoKGIpfHxVaChiKT9iOlpoKGEsYik6YS5jfWZ1bmN0aW9uIFhoKGEsYixjKXt2YXIgZD1aaChhLGIpLGU9aGgoZCksZj1lLkw7ZD09PWEuY3x8Znx8KFhoKGEsZCxlKSxmPWUuTCk7YT1PYmplY3QuY3JlYXRlKGZ8fG51bGwpO2Q9dWgoYixjLkgsYy5jc3NCdWlsZCk7Yj1zaChlLkgsYikuSztPYmplY3QuYXNzaWduKGEsZC5WYSxiLGQuY2IpO2I9Yy5GO2Zvcih2YXIgZyBpbiBiKWlmKChlPWJbZ10pfHwwPT09ZSlhW2ddPWU7Zz16aDtiPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1iW2VdLGFbZF09cWgoZyxhW2RdLGEpO2MuTD1hfXcuc3R5bGVEb2N1bWVudD1mdW5jdGlvbihhKXt0aGlzLnN0eWxlU3VidHJlZSh0aGlzLmMsYSl9O1xudy5zdHlsZVN1YnRyZWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DZyhhKSxkPWMuc2hhZG93Um9vdCxlPWE9PT10aGlzLmM7KGR8fGUpJiZ0aGlzLnN0eWxlRWxlbWVudChhLGIpO2lmKGE9ZT9jOmQpZm9yKGE9QXJyYXkuZnJvbShhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKS5maWx0ZXIoZnVuY3Rpb24oZil7cmV0dXJuIENnKGYpLnNoYWRvd1Jvb3R9KSxiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5zdHlsZVN1YnRyZWUoYVtiXSl9O1xudy5IYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9RmcoYSk7YyE9PXRoaXMubC5jc3NCdWlsZCYmKHRoaXMubC5jc3NCdWlsZD1jKTtpZighR2coYykpe3ZhciBkPXRnKGEpO3NnKGQsZnVuY3Rpb24oZSl7aWYoVSlmaChlKTtlbHNle3ZhciBmPUtnO2Uuc2VsZWN0b3I9ZS5wYXJzZWRTZWxlY3RvcjtmaChlKTtlLnNlbGVjdG9yPWUudz1SZyhmLGUsZi5jLHZvaWQgMCx2b2lkIDApfVYmJlwiXCI9PT1jJiYoVGgoYiksYi5iJiZiLmIudHJhbnNmb3JtUnVsZShlKSl9KTtWP2EudGV4dENvbnRlbnQ9cWcoZCk6dGhpcy5sLkgucnVsZXMucHVzaChkKX19O3cuZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Vnx8KGM9KGhoKGEpfHxoaChaaCh0aGlzLGEpKSkuTFtiXSk7cmV0dXJuKGM9Y3x8d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkuZ2V0UHJvcGVydHlWYWx1ZShiKSk/Yy50cmltKCk6XCJcIn07XG53LmdiPWZ1bmN0aW9uKGEsYil7dmFyIGM9Q2coYSkuZ2V0Um9vdE5vZGUoKSxkO2I/ZD0oXCJzdHJpbmdcIj09PXR5cGVvZiBiP2I6U3RyaW5nKGIpKS5zcGxpdCgvXFxzLyk6ZD1bXTtiPWMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZTtpZighYiYmKGM9YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSkpe2M9Yy5zcGxpdCgvXFxzLyk7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspaWYoY1tlXT09PUtnLmEpe2I9Y1tlKzFdO2JyZWFrfX1iJiZkLnB1c2goS2cuYSxiKTtWfHwoYj1oaChhKSkmJmIuRyYmZC5wdXNoKHpoLmEsYi5HKTtCZyhhLGQuam9pbihcIiBcIikpfTt3Lk9hPWZ1bmN0aW9uKGEpe3JldHVybiBoaChhKX07dy5mYj1mdW5jdGlvbihhLGIpe0xnKGEsYil9O3cuaWI9ZnVuY3Rpb24oYSxiKXtMZyhhLGIsITApfTt3LmViPWZ1bmN0aW9uKGEpe3JldHVybiBIaChhKX07dy5SYT1mdW5jdGlvbihhKXtyZXR1cm4gR2goYSl9O1gucHJvdG90eXBlLmZsdXNoPVgucHJvdG90eXBlLmZsdXNoO1xuWC5wcm90b3R5cGUucHJlcGFyZVRlbXBsYXRlPVgucHJvdG90eXBlLnByZXBhcmVUZW1wbGF0ZTtYLnByb3RvdHlwZS5zdHlsZUVsZW1lbnQ9WC5wcm90b3R5cGUuc3R5bGVFbGVtZW50O1gucHJvdG90eXBlLnN0eWxlRG9jdW1lbnQ9WC5wcm90b3R5cGUuc3R5bGVEb2N1bWVudDtYLnByb3RvdHlwZS5zdHlsZVN1YnRyZWU9WC5wcm90b3R5cGUuc3R5bGVTdWJ0cmVlO1gucHJvdG90eXBlLmdldENvbXB1dGVkU3R5bGVWYWx1ZT1YLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlVmFsdWU7WC5wcm90b3R5cGUuc2V0RWxlbWVudENsYXNzPVgucHJvdG90eXBlLmdiO1gucHJvdG90eXBlLl9zdHlsZUluZm9Gb3JOb2RlPVgucHJvdG90eXBlLk9hO1gucHJvdG90eXBlLnRyYW5zZm9ybUN1c3RvbVN0eWxlRm9yRG9jdW1lbnQ9WC5wcm90b3R5cGUuSGE7WC5wcm90b3R5cGUuZ2V0U3R5bGVBc3Q9WC5wcm90b3R5cGUuVGE7WC5wcm90b3R5cGUuc3R5bGVBc3RUb1N0cmluZz1YLnByb3RvdHlwZS5oYjtcblgucHJvdG90eXBlLmZsdXNoQ3VzdG9tU3R5bGVzPVgucHJvdG90eXBlLmZsdXNoQ3VzdG9tU3R5bGVzO1gucHJvdG90eXBlLnNjb3BlTm9kZT1YLnByb3RvdHlwZS5mYjtYLnByb3RvdHlwZS51bnNjb3BlTm9kZT1YLnByb3RvdHlwZS5pYjtYLnByb3RvdHlwZS5zY29wZUZvck5vZGU9WC5wcm90b3R5cGUuZWI7WC5wcm90b3R5cGUuY3VycmVudFNjb3BlRm9yTm9kZT1YLnByb3RvdHlwZS5SYTtYLnByb3RvdHlwZS5wcmVwYXJlQWRvcHRlZENzc1RleHQ9WC5wcm90b3R5cGUuYWI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWC5wcm90b3R5cGUse25hdGl2ZVNoYWRvdzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFV9fSxuYXRpdmVDc3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBWfX19KTt2YXIgWT1uZXcgWCwkaCxhaTt3aW5kb3cuU2hhZHlDU1MmJigkaD13aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltLGFpPXdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSk7XG53aW5kb3cuU2hhZHlDU1M9e1Njb3BpbmdTaGltOlkscHJlcGFyZVRlbXBsYXRlOmZ1bmN0aW9uKGEsYixjKXtZLmZsdXNoQ3VzdG9tU3R5bGVzKCk7WS5wcmVwYXJlVGVtcGxhdGUoYSxiLGMpfSxwcmVwYXJlVGVtcGxhdGVEb206ZnVuY3Rpb24oYSxiKXtZLnByZXBhcmVUZW1wbGF0ZURvbShhLGIpfSxwcmVwYXJlVGVtcGxhdGVTdHlsZXM6ZnVuY3Rpb24oYSxiLGMpe1kuZmx1c2hDdXN0b21TdHlsZXMoKTtZLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyhhLGIsYyl9LHN0eWxlU3VidHJlZTpmdW5jdGlvbihhLGIpe1kuZmx1c2hDdXN0b21TdHlsZXMoKTtZLnN0eWxlU3VidHJlZShhLGIpfSxzdHlsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7WS5mbHVzaEN1c3RvbVN0eWxlcygpO1kuc3R5bGVFbGVtZW50KGEpfSxzdHlsZURvY3VtZW50OmZ1bmN0aW9uKGEpe1kuZmx1c2hDdXN0b21TdHlsZXMoKTtZLnN0eWxlRG9jdW1lbnQoYSl9LGZsdXNoQ3VzdG9tU3R5bGVzOmZ1bmN0aW9uKCl7WS5mbHVzaEN1c3RvbVN0eWxlcygpfSxcbmdldENvbXB1dGVkU3R5bGVWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBZLmdldENvbXB1dGVkU3R5bGVWYWx1ZShhLGIpfSxuYXRpdmVDc3M6VixuYXRpdmVTaGFkb3c6VSxjc3NCdWlsZDpoZyxkaXNhYmxlUnVudGltZTppZ307JGgmJih3aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltPSRoKTthaSYmKHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZT1haSk7KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIodCl7XCJcIj09dCYmKGYuY2FsbCh0aGlzKSx0aGlzLmg9ITApO3JldHVybiB0LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYyh0KXt2YXIgRj10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIDMyPEYmJjEyNz5GJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKEYpP3Q6ZW5jb2RlVVJJQ29tcG9uZW50KHQpfWZ1bmN0aW9uIGQodCl7dmFyIEY9dC5jaGFyQ29kZUF0KDApO3JldHVybiAzMjxGJiYxMjc+RiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihGKT90OmVuY29kZVVSSUNvbXBvbmVudCh0KX1mdW5jdGlvbiBlKHQsRixFKXtmdW5jdGlvbiBNKGthKXt2YS5wdXNoKGthKX12YXIgeT1GfHxcInNjaGVtZSBzdGFydFwiLFc9MCx2PVwiXCIsdWE9ITEsZWE9ITEsdmE9W107YTpmb3IoOyh2b2lkIDAhPXRbVy0xXXx8MD09VykmJiF0aGlzLmg7KXt2YXIgbj10W1ddO3N3aXRjaCh5KXtjYXNlIFwic2NoZW1lIHN0YXJ0XCI6aWYobiYmcS50ZXN0KG4pKXYrPVxubi50b0xvd2VyQ2FzZSgpLHk9XCJzY2hlbWVcIjtlbHNlIGlmKEYpe00oXCJJbnZhbGlkIHNjaGVtZS5cIik7YnJlYWsgYX1lbHNle3Y9XCJcIjt5PVwibm8gc2NoZW1lXCI7Y29udGludWV9YnJlYWs7Y2FzZSBcInNjaGVtZVwiOmlmKG4mJkgudGVzdChuKSl2Kz1uLnRvTG93ZXJDYXNlKCk7ZWxzZSBpZihcIjpcIj09bil7dGhpcy5nPXY7dj1cIlwiO2lmKEYpYnJlYWsgYTt2b2lkIDAhPT1sW3RoaXMuZ10mJih0aGlzLkE9ITApO3k9XCJmaWxlXCI9PXRoaXMuZz9cInJlbGF0aXZlXCI6dGhpcy5BJiZFJiZFLmc9PXRoaXMuZz9cInJlbGF0aXZlIG9yIGF1dGhvcml0eVwiOnRoaXMuQT9cImF1dGhvcml0eSBmaXJzdCBzbGFzaFwiOlwic2NoZW1lIGRhdGFcIn1lbHNlIGlmKEYpe3ZvaWQgMCE9biYmTShcIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiBcIituKTticmVhayBhfWVsc2V7dj1cIlwiO1c9MDt5PVwibm8gc2NoZW1lXCI7Y29udGludWV9YnJlYWs7Y2FzZSBcInNjaGVtZSBkYXRhXCI6XCI/XCI9PW4/KHRoaXMubz1cIj9cIixcbnk9XCJxdWVyeVwiKTpcIiNcIj09bj8odGhpcy51PVwiI1wiLHk9XCJmcmFnbWVudFwiKTp2b2lkIDAhPW4mJlwiXFx0XCIhPW4mJlwiXFxuXCIhPW4mJlwiXFxyXCIhPW4mJih0aGlzLnBhKz1jKG4pKTticmVhaztjYXNlIFwibm8gc2NoZW1lXCI6aWYoRSYmdm9pZCAwIT09bFtFLmddKXt5PVwicmVsYXRpdmVcIjtjb250aW51ZX1lbHNlIE0oXCJNaXNzaW5nIHNjaGVtZS5cIiksZi5jYWxsKHRoaXMpLHRoaXMuaD0hMDticmVhaztjYXNlIFwicmVsYXRpdmUgb3IgYXV0aG9yaXR5XCI6aWYoXCIvXCI9PW4mJlwiL1wiPT10W1crMV0peT1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2Vsc2V7TShcIkV4cGVjdGVkIC8sIGdvdDogXCIrbik7eT1cInJlbGF0aXZlXCI7Y29udGludWV9YnJlYWs7Y2FzZSBcInJlbGF0aXZlXCI6dGhpcy5BPSEwO1wiZmlsZVwiIT10aGlzLmcmJih0aGlzLmc9RS5nKTtpZih2b2lkIDA9PW4pe3RoaXMuaT1FLmk7dGhpcy5tPUUubTt0aGlzLmo9RS5qLnNsaWNlKCk7dGhpcy5vPUUubzt0aGlzLnM9RS5zO3RoaXMuZj1FLmY7XG5icmVhayBhfWVsc2UgaWYoXCIvXCI9PW58fFwiXFxcXFwiPT1uKVwiXFxcXFwiPT1uJiZNKFwiXFxcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuXCIpLHk9XCJyZWxhdGl2ZSBzbGFzaFwiO2Vsc2UgaWYoXCI/XCI9PW4pdGhpcy5pPUUuaSx0aGlzLm09RS5tLHRoaXMuaj1FLmouc2xpY2UoKSx0aGlzLm89XCI/XCIsdGhpcy5zPUUucyx0aGlzLmY9RS5mLHk9XCJxdWVyeVwiO2Vsc2UgaWYoXCIjXCI9PW4pdGhpcy5pPUUuaSx0aGlzLm09RS5tLHRoaXMuaj1FLmouc2xpY2UoKSx0aGlzLm89RS5vLHRoaXMudT1cIiNcIix0aGlzLnM9RS5zLHRoaXMuZj1FLmYseT1cImZyYWdtZW50XCI7ZWxzZXt5PXRbVysxXTt2YXIgST10W1crMl07aWYoXCJmaWxlXCIhPXRoaXMuZ3x8IXEudGVzdChuKXx8XCI6XCIhPXkmJlwifFwiIT15fHx2b2lkIDAhPUkmJlwiL1wiIT1JJiZcIlxcXFxcIiE9SSYmXCI/XCIhPUkmJlwiI1wiIT1JKXRoaXMuaT1FLmksdGhpcy5tPUUubSx0aGlzLnM9RS5zLHRoaXMuZj1FLmYsdGhpcy5qPUUuai5zbGljZSgpLHRoaXMuai5wb3AoKTt5PVxuXCJyZWxhdGl2ZSBwYXRoXCI7Y29udGludWV9YnJlYWs7Y2FzZSBcInJlbGF0aXZlIHNsYXNoXCI6aWYoXCIvXCI9PW58fFwiXFxcXFwiPT1uKVwiXFxcXFwiPT1uJiZNKFwiXFxcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuXCIpLHk9XCJmaWxlXCI9PXRoaXMuZz9cImZpbGUgaG9zdFwiOlwiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7ZWxzZXtcImZpbGVcIiE9dGhpcy5nJiYodGhpcy5pPUUuaSx0aGlzLm09RS5tLHRoaXMucz1FLnMsdGhpcy5mPUUuZik7eT1cInJlbGF0aXZlIHBhdGhcIjtjb250aW51ZX1icmVhaztjYXNlIFwiYXV0aG9yaXR5IGZpcnN0IHNsYXNoXCI6aWYoXCIvXCI9PW4peT1cImF1dGhvcml0eSBzZWNvbmQgc2xhc2hcIjtlbHNle00oXCJFeHBlY3RlZCAnLycsIGdvdDogXCIrbik7eT1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2NvbnRpbnVlfWJyZWFrO2Nhc2UgXCJhdXRob3JpdHkgc2Vjb25kIHNsYXNoXCI6eT1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2lmKFwiL1wiIT1uKXtNKFwiRXhwZWN0ZWQgJy8nLCBnb3Q6IFwiK1xubik7Y29udGludWV9YnJlYWs7Y2FzZSBcImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiOmlmKFwiL1wiIT1uJiZcIlxcXFxcIiE9bil7eT1cImF1dGhvcml0eVwiO2NvbnRpbnVlfWVsc2UgTShcIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiBcIituKTticmVhaztjYXNlIFwiYXV0aG9yaXR5XCI6aWYoXCJAXCI9PW4pe3VhJiYoTShcIkAgYWxyZWFkeSBzZWVuLlwiKSx2Kz1cIiU0MFwiKTt1YT0hMDtmb3Iobj0wO248di5sZW5ndGg7bisrKUk9dltuXSxcIlxcdFwiPT1JfHxcIlxcblwiPT1JfHxcIlxcclwiPT1JP00oXCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LlwiKTpcIjpcIj09SSYmbnVsbD09PXRoaXMuZj90aGlzLmY9XCJcIjooST1jKEkpLG51bGwhPT10aGlzLmY/dGhpcy5mKz1JOnRoaXMucys9SSk7dj1cIlwifWVsc2UgaWYodm9pZCAwPT1ufHxcIi9cIj09bnx8XCJcXFxcXCI9PW58fFwiP1wiPT1ufHxcIiNcIj09bil7Vy09di5sZW5ndGg7dj1cIlwiO3k9XCJob3N0XCI7Y29udGludWV9ZWxzZSB2Kz1uO2JyZWFrO2Nhc2UgXCJmaWxlIGhvc3RcIjppZih2b2lkIDA9PVxubnx8XCIvXCI9PW58fFwiXFxcXFwiPT1ufHxcIj9cIj09bnx8XCIjXCI9PW4pezIhPXYubGVuZ3RofHwhcS50ZXN0KHZbMF0pfHxcIjpcIiE9dlsxXSYmXCJ8XCIhPXZbMV0/KDAhPXYubGVuZ3RoJiYodGhpcy5pPWIuY2FsbCh0aGlzLHYpLHY9XCJcIikseT1cInJlbGF0aXZlIHBhdGggc3RhcnRcIik6eT1cInJlbGF0aXZlIHBhdGhcIjtjb250aW51ZX1lbHNlXCJcXHRcIj09bnx8XCJcXG5cIj09bnx8XCJcXHJcIj09bj9NKFwiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC5cIik6dis9bjticmVhaztjYXNlIFwiaG9zdFwiOmNhc2UgXCJob3N0bmFtZVwiOmlmKFwiOlwiIT1ufHxlYSlpZih2b2lkIDA9PW58fFwiL1wiPT1ufHxcIlxcXFxcIj09bnx8XCI/XCI9PW58fFwiI1wiPT1uKXt0aGlzLmk9Yi5jYWxsKHRoaXMsdik7dj1cIlwiO3k9XCJyZWxhdGl2ZSBwYXRoIHN0YXJ0XCI7aWYoRilicmVhayBhO2NvbnRpbnVlfWVsc2VcIlxcdFwiIT1uJiZcIlxcblwiIT1uJiZcIlxcclwiIT1uPyhcIltcIj09bj9lYT0hMDpcIl1cIj09biYmKGVhPSExKSx2Kz1uKTpNKFwiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6IFwiK1xubik7ZWxzZSBpZih0aGlzLmk9Yi5jYWxsKHRoaXMsdiksdj1cIlwiLHk9XCJwb3J0XCIsXCJob3N0bmFtZVwiPT1GKWJyZWFrIGE7YnJlYWs7Y2FzZSBcInBvcnRcIjppZigvWzAtOV0vLnRlc3Qobikpdis9bjtlbHNlIGlmKHZvaWQgMD09bnx8XCIvXCI9PW58fFwiXFxcXFwiPT1ufHxcIj9cIj09bnx8XCIjXCI9PW58fEYpe1wiXCIhPXYmJih2PXBhcnNlSW50KHYsMTApLHYhPWxbdGhpcy5nXSYmKHRoaXMubT12K1wiXCIpLHY9XCJcIik7aWYoRilicmVhayBhO3k9XCJyZWxhdGl2ZSBwYXRoIHN0YXJ0XCI7Y29udGludWV9ZWxzZVwiXFx0XCI9PW58fFwiXFxuXCI9PW58fFwiXFxyXCI9PW4/TShcIkludmFsaWQgY29kZSBwb2ludCBpbiBwb3J0OiBcIituKTooZi5jYWxsKHRoaXMpLHRoaXMuaD0hMCk7YnJlYWs7Y2FzZSBcInJlbGF0aXZlIHBhdGggc3RhcnRcIjpcIlxcXFxcIj09biYmTShcIidcXFxcJyBub3QgYWxsb3dlZCBpbiBwYXRoLlwiKTt5PVwicmVsYXRpdmUgcGF0aFwiO2lmKFwiL1wiIT1uJiZcIlxcXFxcIiE9biljb250aW51ZTticmVhaztjYXNlIFwicmVsYXRpdmUgcGF0aFwiOmlmKHZvaWQgMCE9XG5uJiZcIi9cIiE9biYmXCJcXFxcXCIhPW4mJihGfHxcIj9cIiE9biYmXCIjXCIhPW4pKVwiXFx0XCIhPW4mJlwiXFxuXCIhPW4mJlwiXFxyXCIhPW4mJih2Kz1jKG4pKTtlbHNle1wiXFxcXFwiPT1uJiZNKFwiXFxcXCBub3QgYWxsb3dlZCBpbiByZWxhdGl2ZSBwYXRoLlwiKTtpZihJPW1bdi50b0xvd2VyQ2FzZSgpXSl2PUk7XCIuLlwiPT12Pyh0aGlzLmoucG9wKCksXCIvXCIhPW4mJlwiXFxcXFwiIT1uJiZ0aGlzLmoucHVzaChcIlwiKSk6XCIuXCI9PXYmJlwiL1wiIT1uJiZcIlxcXFxcIiE9bj90aGlzLmoucHVzaChcIlwiKTpcIi5cIiE9diYmKFwiZmlsZVwiPT10aGlzLmcmJjA9PXRoaXMuai5sZW5ndGgmJjI9PXYubGVuZ3RoJiZxLnRlc3QodlswXSkmJlwifFwiPT12WzFdJiYodj12WzBdK1wiOlwiKSx0aGlzLmoucHVzaCh2KSk7dj1cIlwiO1wiP1wiPT1uPyh0aGlzLm89XCI/XCIseT1cInF1ZXJ5XCIpOlwiI1wiPT1uJiYodGhpcy51PVwiI1wiLHk9XCJmcmFnbWVudFwiKX1icmVhaztjYXNlIFwicXVlcnlcIjpGfHxcIiNcIiE9bj92b2lkIDAhPW4mJlwiXFx0XCIhPW4mJlwiXFxuXCIhPW4mJlwiXFxyXCIhPW4mJih0aGlzLm8rPVxuZChuKSk6KHRoaXMudT1cIiNcIix5PVwiZnJhZ21lbnRcIik7YnJlYWs7Y2FzZSBcImZyYWdtZW50XCI6dm9pZCAwIT1uJiZcIlxcdFwiIT1uJiZcIlxcblwiIT1uJiZcIlxcclwiIT1uJiYodGhpcy51Kz1uKX1XKyt9fWZ1bmN0aW9uIGYoKXt0aGlzLnM9dGhpcy5wYT10aGlzLmc9XCJcIjt0aGlzLmY9bnVsbDt0aGlzLm09dGhpcy5pPVwiXCI7dGhpcy5qPVtdO3RoaXMudT10aGlzLm89XCJcIjt0aGlzLkE9dGhpcy5oPSExfWZ1bmN0aW9uIGcodCxGKXt2b2lkIDA9PT1GfHxGIGluc3RhbmNlb2YgZ3x8KEY9bmV3IGcoU3RyaW5nKEYpKSk7dGhpcy5hPXQ7Zi5jYWxsKHRoaXMpO2UuY2FsbCh0aGlzLHRoaXMuYS5yZXBsYWNlKC9eWyBcXHRcXHJcXG5cXGZdK3xbIFxcdFxcclxcblxcZl0rJC9nLFwiXCIpLG51bGwsRil9dmFyIGg9ITE7dHJ5e3ZhciBrPW5ldyBVUkwoXCJiXCIsXCJodHRwOi8vYVwiKTtrLnBhdGhuYW1lPVwiYyUyMGRcIjtoPVwiaHR0cDovL2EvYyUyMGRcIj09PWsuaHJlZn1jYXRjaCh0KXt9aWYoIWgpe3ZhciBsPU9iamVjdC5jcmVhdGUobnVsbCk7XG5sLmZ0cD0yMTtsLmZpbGU9MDtsLmdvcGhlcj03MDtsLmh0dHA9ODA7bC5odHRwcz00NDM7bC53cz04MDtsLndzcz00NDM7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttW1wiJTJlXCJdPVwiLlwiO21bXCIuJTJlXCJdPVwiLi5cIjttW1wiJTJlLlwiXT1cIi4uXCI7bVtcIiUyZSUyZVwiXT1cIi4uXCI7dmFyIHE9L1thLXpBLVpdLyxIPS9bYS16QS1aMC05XFwrXFwtXFwuXS87Zy5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHJlZn0sZ2V0IGhyZWYoKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuYTt2YXIgdD1cIlwiO2lmKFwiXCIhPXRoaXMuc3x8bnVsbCE9dGhpcy5mKXQ9dGhpcy5zKyhudWxsIT10aGlzLmY/XCI6XCIrdGhpcy5mOlwiXCIpK1wiQFwiO3JldHVybiB0aGlzLnByb3RvY29sKyh0aGlzLkE/XCIvL1wiK3QrdGhpcy5ob3N0OlwiXCIpK3RoaXMucGF0aG5hbWUrdGhpcy5vK3RoaXMudX0sc2V0IGhyZWYodCl7Zi5jYWxsKHRoaXMpO2UuY2FsbCh0aGlzLHQpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5nK1xuXCI6XCJ9LHNldCBwcm90b2NvbCh0KXt0aGlzLmh8fGUuY2FsbCh0aGlzLHQrXCI6XCIsXCJzY2hlbWUgc3RhcnRcIil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuaD9cIlwiOnRoaXMubT90aGlzLmkrXCI6XCIrdGhpcy5tOnRoaXMuaX0sc2V0IGhvc3QodCl7IXRoaXMuaCYmdGhpcy5BJiZlLmNhbGwodGhpcyx0LFwiaG9zdFwiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuaX0sc2V0IGhvc3RuYW1lKHQpeyF0aGlzLmgmJnRoaXMuQSYmZS5jYWxsKHRoaXMsdCxcImhvc3RuYW1lXCIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLm19LHNldCBwb3J0KHQpeyF0aGlzLmgmJnRoaXMuQSYmZS5jYWxsKHRoaXMsdCxcInBvcnRcIil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmg/XCJcIjp0aGlzLkE/XCIvXCIrdGhpcy5qLmpvaW4oXCIvXCIpOnRoaXMucGF9LHNldCBwYXRobmFtZSh0KXshdGhpcy5oJiZ0aGlzLkEmJih0aGlzLmo9W10sZS5jYWxsKHRoaXMsdCxcInJlbGF0aXZlIHBhdGggc3RhcnRcIikpfSxnZXQgc2VhcmNoKCl7cmV0dXJuIHRoaXMuaHx8XG4hdGhpcy5vfHxcIj9cIj09dGhpcy5vP1wiXCI6dGhpcy5vfSxzZXQgc2VhcmNoKHQpeyF0aGlzLmgmJnRoaXMuQSYmKHRoaXMubz1cIj9cIixcIj9cIj09dFswXSYmKHQ9dC5zbGljZSgxKSksZS5jYWxsKHRoaXMsdCxcInF1ZXJ5XCIpKX0sZ2V0IGhhc2goKXtyZXR1cm4gdGhpcy5ofHwhdGhpcy51fHxcIiNcIj09dGhpcy51P1wiXCI6dGhpcy51fSxzZXQgaGFzaCh0KXt0aGlzLmh8fCh0Pyh0aGlzLnU9XCIjXCIsXCIjXCI9PXRbMF0mJih0PXQuc2xpY2UoMSkpLGUuY2FsbCh0aGlzLHQsXCJmcmFnbWVudFwiKSk6dGhpcy51PVwiXCIpfSxnZXQgb3JpZ2luKCl7dmFyIHQ7aWYodGhpcy5ofHwhdGhpcy5nKXJldHVyblwiXCI7c3dpdGNoKHRoaXMuZyl7Y2FzZSBcImRhdGFcIjpjYXNlIFwiZmlsZVwiOmNhc2UgXCJqYXZhc2NyaXB0XCI6Y2FzZSBcIm1haWx0b1wiOnJldHVyblwibnVsbFwifXJldHVybih0PXRoaXMuaG9zdCk/dGhpcy5nK1wiOi8vXCIrdDpcIlwifX07dmFyIEM9YS5VUkw7QyYmKGcuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKHQpe3JldHVybiBDLmNyZWF0ZU9iamVjdFVSTC5hcHBseShDLFxuYXJndW1lbnRzKX0sZy5yZXZva2VPYmplY3RVUkw9ZnVuY3Rpb24odCl7Qy5yZXZva2VPYmplY3RVUkwodCl9KTthLlVSTD1nfX0pKHdpbmRvdyk7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOb2RlLnByb3RvdHlwZSxcImJhc2VVUklcIil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSxcImJhc2VVUklcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMub3duZXJEb2N1bWVudHx8dGhpcykucXVlcnlTZWxlY3RvcihcImJhc2VbaHJlZl1cIik7cmV0dXJuIGEmJmEuaHJlZnx8d2luZG93LmxvY2F0aW9uLmhyZWZ9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSk7dmFyIGJpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtiaS50ZXh0Q29udGVudD1cImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0gXFxuXCI7dmFyIGNpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpO2NpLmluc2VydEJlZm9yZShiaSxjaS5maXJzdENoaWxkKTsvKlxuXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xudmFyIGRpPXdpbmRvdy5jdXN0b21FbGVtZW50cyxlaT0hMSxmaT1udWxsO2RpLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2smJmRpLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2soZnVuY3Rpb24oYSl7Zmk9YTtlaSYmYSgpfSk7ZnVuY3Rpb24gZ2koKXt3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJndpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCh3aW5kb3cuZG9jdW1lbnQpO2ZpJiZmaSgpO2VpPSEwO3dpbmRvdy5XZWJDb21wb25lbnRzLnJlYWR5PSEwO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiV2ViQ29tcG9uZW50c1JlYWR5XCIse2J1YmJsZXM6ITB9KSl9XG5cImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixnaSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixnaSk7Z2koKX0pKTpnaSgpO30pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYmNvbXBvbmVudHMtYnVuZGxlLmpzLm1hcFxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBuZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MvYnJvd3Nlci5qcycpLm5leHRUaWNrO1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xudmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcbiAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblxuICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG4gICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbi5jYWxsKG51bGwpO1xuICAgICAgfVxuICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG4gICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZDtcbn07XG5cbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcbiAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG59OyIsIigoKSA9PiB7XG4gICAgcmVxdWlyZSgnQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzJylcbiAgICBjb25zdCBEREdBdXRvZmlsbCA9IHJlcXVpcmUoJy4vZW1haWwtbW9kdWxlcy9EREdBdXRvZmlsbCcpXG4gICAgY29uc3QgRm9ybSA9IHJlcXVpcmUoJy4vZW1haWwtbW9kdWxlcy9Gb3JtJylcblxuICAgIGNvbnN0IGRkZ0RvbWFpblJlZ2V4ID0gbmV3IFJlZ0V4cCgvXmh0dHBzOlxcL1xcLygoW2EtejAtOS1fXSs/KVxcLik/ZHVja2R1Y2tnb1xcLmNvbS8pXG5cbiAgICAvLyBTZW5kIGEgbWVzc2FnZSB0byB0aGUgd2ViIGFwcCAob25seSBvbiBEREcgZG9tYWlucylcbiAgICBjb25zdCBub3RpZnlXZWJBcHAgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICBpZiAod2luZG93Lm9yaWdpbi5tYXRjaChkZGdEb21haW5SZWdleCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlLCB3aW5kb3cub3JpZ2luKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGlzdGVuIGZvciBzaWduIGluIG1lc3NhZ2UgZnJvbSB0aGUgZGRnIGVtYWlsIHBhZ2VcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50Lm9yaWdpbi5tYXRjaChkZGdEb21haW5SZWdleCkpIHJldHVyblxuXG4gICAgICAgIC8vIFRoZSB3ZWIgYXBwIG5vdGlmaWVzIHVzIHRoYXQgdGhlIHVzZXIgc2lnbmVkIGluXG4gICAgICAgIGlmIChldmVudC5kYXRhLmFkZFVzZXJEYXRhKSB7XG4gICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShldmVudC5kYXRhLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0V4dGVuc2lvbiBsb2dpbiByZXN1bHQnLCByZXMpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHdlYiBhcHAgd2FudHMgdG8ga25vdyBpZiB0aGUgdXNlciBpcyBzaWduZWQgaW5cbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuY2hlY2tFeHRlbnNpb25TaWduZWRJbikge1xuICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2dldFNldHRpbmc6IHtuYW1lOiAndXNlckRhdGEnfX0sIHVzZXJEYXRhID0+IHtcbiAgICAgICAgICAgICAgICBub3RpZnlXZWJBcHAoe2V4dGVuc2lvblNpZ25lZEluOiB7dmFsdWU6IHVzZXJEYXRhICYmIHVzZXJEYXRhLm5leHRBbGlhc319KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgdXNlciBkYXRhXG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2dldFNldHRpbmc6IHtuYW1lOiAndXNlckRhdGEnfX0sIHVzZXJEYXRhID0+IHtcbiAgICAgICAgaWYgKHVzZXJEYXRhICYmIHVzZXJEYXRhLm5leHRBbGlhcykge1xuICAgICAgICAgICAgaW5qZWN0RW1haWxBdXRvZmlsbCgpXG4gICAgICAgICAgICBub3RpZnlXZWJBcHAoe2V4dGVuc2lvblNpZ25lZEluOiB7dmFsdWU6IHRydWV9fSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgdXNlciBkYXRhIHlldCwgbm90aWZ5IHRoZSB3ZWIgYXBwIHRoYXQgd2UgYXJlIHJlYWR5IHRvIHJlY2VpdmUgaXTigKZcbiAgICAgICAgICAgIG5vdGlmeVdlYkFwcCh7ZXh0ZW5zaW9uSW5zdGFsbGVkOiB0cnVlfSlcbiAgICAgICAgICAgIC8vIOKApnRoZW4gbGlzdGVuIGZvciB3aGVuIHRoZSB1c2VyIGRhdGEgaXMgc2V0XG4gICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuaWQgPT09IGNocm9tZS5ydW50aW1lLmlkICYmIG1lc3NhZ2UudHlwZSA9PT0gJ2RkZ1VzZXJSZWFkeScpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5V2ViQXBwKHtleHRlbnNpb25TaWduZWRJbjoge3ZhbHVlOiB0cnVlfX0pXG4gICAgICAgICAgICAgICAgICAgIGluamVjdEVtYWlsQXV0b2ZpbGwoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgaW5qZWN0RW1haWxBdXRvZmlsbCA9ICgpID0+IHtcbiAgICAgICAgLy8gSGVyZSB3ZSBzdG9yZSBhIG1hcCBvZiBpbnB1dCAtPiBidXR0b24gYXNzb2NpYXRpb25zXG4gICAgICAgIGNvbnN0IGlucHV0QnV0dG9uTWFwID0gbmV3IE1hcCgpXG4gICAgICAgIGNvbnN0IGZvcm1zID0gbmV3IE1hcCgpXG5cbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkZGctYXV0b2ZpbGwnLCBEREdBdXRvZmlsbClcblxuICAgICAgICBjb25zdCB1cGRhdGVBbGxCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRCdXR0b25NYXAuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgRERHQXV0b2ZpbGwudXBkYXRlQnV0dG9uUG9zaXRpb24oYnV0dG9uKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGludE9icyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZW50cnkudGFyZ2V0XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGlzIGludGVyc2VjdGluZyBhbmQgdmlzaWJsZSAobm90ZSB0aGF0IGBkaXNwbGF5Om5vbmVgIHdpbGwgbmV2ZXIgaW50ZXJzZWN0KVxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5wdXQpLnZpc2liaWxpdHkgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NvY2lhdGVkRm9ybSA9IGZvcm1zLmdldChpbnB1dC5mb3JtKSB8fCBmb3Jtcy5nZXQoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidXR0b24gPSBuZXcgRERHQXV0b2ZpbGwoaW5wdXQsIGFzc29jaWF0ZWRGb3JtKVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b24pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBpbnB1dC0+YnV0dG9uIHBhaXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0QnV0dG9uTWFwLnNldChpbnB1dCwgYnV0dG9uKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyBub3QgaW50ZXJzZWN0aW5nIGFuZCB3ZSBoYXZlIHRoZSBpbnB1dCBzdG9yZWTigKZcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0QnV0dG9uTWFwLmhhcyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOKApnJlbW92ZSB0aGUgYnV0dG9uIGZyb20gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCdXR0b25NYXAuZ2V0KGlucHV0KS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g4oCmYW5kIHJlbW92ZSB0aGUgaW5wdXQgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEJ1dHRvbk1hcC5kZWxldGUoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgRU1BSUxfU0VMRUNUT1IgPSBgXG4gICAgICAgIGlucHV0Om5vdChbdHlwZV0pW25hbWUqPW1haWwgaV06bm90KFtyZWFkb25seV0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2hpZGRlbl0pLFxuICAgICAgICBpbnB1dFt0eXBlPVwiXCJdW25hbWUqPW1haWwgaV06bm90KFtyZWFkb25seV0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2hpZGRlbl0pLFxuICAgICAgICBpbnB1dFt0eXBlPXRleHRdW25hbWUqPW1haWwgaV06bm90KFtyZWFkb25seV0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2hpZGRlbl0pLFxuICAgICAgICBpbnB1dDpub3QoW3R5cGVdKVtpZCo9bWFpbCBpXTpub3QoW3JlYWRvbmx5XSk6bm90KFtkaXNhYmxlZF0pOm5vdChbaGlkZGVuXSksXG4gICAgICAgIGlucHV0W3R5cGU9XCJcIl1baWQqPW1haWwgaV06bm90KFtyZWFkb25seV0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2hpZGRlbl0pLFxuICAgICAgICBpbnB1dFt0eXBlPXRleHRdW2lkKj1tYWlsIGldOm5vdChbcmVhZG9ubHldKTpub3QoW2Rpc2FibGVkXSk6bm90KFtoaWRkZW5dKSxcbiAgICAgICAgaW5wdXRbdHlwZT1lbWFpbF06bm90KFtyZWFkb25seV0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2hpZGRlbl0pLFxuICAgICAgICBpbnB1dFthcmlhLWxhYmVsKj1tYWlsIGldLFxuICAgICAgICBpbnB1dFtwbGFjZWhvbGRlcio9bWFpbCBpXTpub3QoW3JlYWRvbmx5XSlcbiAgICBgXG5cbiAgICAgICAgY29uc3QgZmluZEVsaWdpYmxlSW5wdXQgPSBjb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChFTUFJTF9TRUxFQ1RPUilcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEZvcm0gPSBpbnB1dC5mb3JtXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybXMuaGFzKHBhcmVudEZvcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBtZXQgdGhlIGZvcm0sIGFkZCB0aGUgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Jtcy5nZXQocGFyZW50Rm9ybSkuYWRkSW5wdXQoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1zLnNldChwYXJlbnRGb3JtLCBuZXcgRm9ybShwYXJlbnRGb3JtLCBpbnB1dCwgaW50T2JzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGlucHV0IGlzIG5vdCBhc3NvY2lhdGVkIHdpdGggYSBmb3JtLCBhbmFseXNlIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3Jtcy5zZXQoaW5wdXQsIG5ldyBGb3JtKG51bGwsIGlucHV0LCBpbnRPYnMpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGZvcm1zLmZvckVhY2goKGZvcm1PYmosIGZvcm1FbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm1FbCwgZm9ybU9iai5hdXRvZmlsbFNpZ25hbCwgZm9ybU9iai5zaWduYWxzKVxuICAgICAgICAgICAgICAgIGlmIChmb3JtT2JqLmF1dG9maWxsU2lnbmFsID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtT2JqLmRlY29yYXRlSW5wdXRzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgZmluZEVsaWdpYmxlSW5wdXQoZG9jdW1lbnQpXG5cbiAgICAgICAgLy8gRm9yIGFsbCBET00gbXV0YXRpb25zLCBzZWFyY2ggZm9yIG5ldyBlbGlnaWJsZSBpbnB1dHMgYW5kIHVwZGF0ZSBleGlzdGluZyBpbnB1dHMgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IG11dE9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbkxpc3QpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb25SZWNvcmQgb2YgbXV0YXRpb25MaXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uUmVjb3JkLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHF1ZXJ5IG9ubHkgd2l0aGluIHRoZSBjb250ZXh0IG9mIGFkZGVkL3JlbW92ZWQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25SZWNvcmQuYWRkZWROb2Rlcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZEVsaWdpYmxlSW5wdXQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvblJlY29yZC50eXBlID09PSAnYXR0cmlidXRlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQWxsQnV0dG9ucygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBtdXRPYnMub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSlcblxuICAgICAgICBjb25zdCByZXNPYnMgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiBlbnRyaWVzLmZvckVhY2godXBkYXRlQWxsQnV0dG9ucykpXG4gICAgICAgIHJlc09icy5vYnNlcnZlKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcG9zaXRpb24gaWYgdHJhbnNpdGlvbnMgb3IgYW5pbWF0aW9ucyBhcmUgZGV0ZWN0ZWQganVzdCBpbiBjYXNlXG4gICAgICAgIFsndHJhbnNpdGlvbmVuZCcsICdhbmltYXRpb25lbmQnLCAnbG9hZCddLmZvckVhY2goXG4gICAgICAgICAgICBldmVudFR5cGUgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCAoKSA9PiB1cGRhdGVBbGxCdXR0b25zKCkpXG4gICAgICAgIClcbiAgICB9XG59KSgpXG4iLCJjb25zdCBsb2dvID0gY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKCdpbWcvZGRnLWxvZ28tYm9yZGVybGVzcy5zdmcnKVxuXG5jbGFzcyBEREdBdXRvZmlsbCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvciAoaW5wdXQsIGFzc29jaWF0ZWRGb3JtKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pXG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dFxuICAgICAgICB0aGlzLmFzc29jaWF0ZWRGb3JtID0gYXNzb2NpYXRlZEZvcm1cbiAgICAgICAgdGhpcy5pbnB1dFJpZ2h0TWFyZ2luID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmlucHV0KS5wYWRkaW5nUmlnaHQpXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBudWxsXG4gICAgICAgIHRoaXMudG9wUG9zaXRpb24gPSAwXG4gICAgICAgIHRoaXMubGVmdFBvc2l0aW9uID0gMFxuXG4gICAgICAgIHNoYWRvdy5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG4gICAgKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIC53cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiUHJveGltYSBOb3ZhXCI7XG4gICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7XG4gICAgfVxuICAgIC50cmlnZ2VyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAudHJpZ2dlciA+IGltZyB7XG4gICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgfVxuICAgIC50b29sdGlwIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IGNhbGMoMTAwJSArIDE1cHgpO1xuICAgICAgICByaWdodDogY2FsYygxMDAlIC0gNjBweCk7XG4gICAgICAgIHdpZHRoOiAzNTBweDtcbiAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMHZ3IC0gMjVweCk7XG4gICAgICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNEMEQwRDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NztcbiAgICB9XG4gICAgLnRvb2x0aXA6OmJlZm9yZSB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIHdpZHRoOiAwO1xuICAgICAgICBoZWlnaHQ6IDA7IFxuICAgICAgICBib3JkZXItbGVmdDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgYm9yZGVyLXRvcDogMTJweCBzb2xpZCAjRDBEMEQwO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiAzNHB4O1xuICAgICAgICBib3R0b206IC0xMnB4O1xuICAgIH1cbiAgICAudG9vbHRpcDo6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBib3JkZXItbGVmdDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgYm9yZGVyLXRvcDogMTJweCBzb2xpZCAjRkZGRkZGO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiAzNHB4O1xuICAgICAgICBib3R0b206IC0xMHB4O1xuICAgIH1cbiAgICAudG9vbHRpcCBzdHJvbmcge1xuICAgICAgICBtYXJnaW46IDAgMCA0cHg7XG4gICAgICAgIGNvbG9yOiAjMzMzMzMzO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4zO1xuICAgIH1cbiAgICAudG9vbHRpcCBwIHtcbiAgICAgICAgbWFyZ2luOiA0cHggMCAxMnB4O1xuICAgICAgICBjb2xvcjogIzY2NjY2NjtcbiAgICB9XG4gICAgLnRvb2x0aXBfX2J1dHRvbi1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgIH1cbiAgICAudG9vbHRpcF9fYnV0dG9uIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzJGRjM7XG4gICAgICAgIGNvbG9yOiAjRkZGRkZGO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAudG9vbHRpcF9fYnV0dG9uOmxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgLnRvb2x0aXBfX2J1dHRvbi0tc2Vjb25kYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0VFRUVFRTtcbiAgICAgICAgY29sb3I6ICMzMzJGRjM7XG4gICAgfVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInRyaWdnZXJcIj48aW1nIHNyYz1cIiR7bG9nb31cIiBhbHQ9XCJPcGVuIHRoZSBEdWNrRHVja0dvIGF1dG9maWxsIHRvb2x0aXBcIiAvPjwvYnV0dG9uPlxuICAgIDxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgaGlkZGVuPlxuICAgICAgICA8c3Ryb25nPkR1Y2suY29tIGNyZWF0ZWQgYSBwcml2YXRlIGFsaWFzIGZvciB5b3UuPC9zdHJvbmc+XG4gICAgICAgIDxwPkVtYWlscyB3aWxsIGJlIHNlbnQgdG8geW91IGFzIHVzdWFsLCBhbmQgeW91IGdhaW4gYW4gZXh0cmEgbGV2ZWwgb2YgcHJpdmFjeS48L3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sdGlwX19idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG9vbHRpcF9fYnV0dG9uIHRvb2x0aXBfX2J1dHRvbi0tc2Vjb25kYXJ5IGpzLWRpc21pc3NcIj5Eb27igJl0IHVzZTwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvb2x0aXBfX2J1dHRvbiB0b29sdGlwX19idXR0b24tLXByaW1hcnkganMtY29uZmlybVwiPlVzZSBQcml2YXRlIEFsaWFzPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxuICAgICAgICB0aGlzLndyYXBwZXIgPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLndyYXBwZXInKVxuICAgICAgICB0aGlzLnRyaWdnZXIgPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLnRyaWdnZXInKVxuICAgICAgICB0aGlzLnRvb2x0aXAgPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLnRvb2x0aXAnKVxuICAgICAgICB0aGlzLmRpc21pc3NCdXR0b24gPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLmpzLWRpc21pc3MnKVxuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24gPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLmpzLWNvbmZpcm0nKVxuICAgIH1cblxuICAgIHN0YXRpYyB1cGRhdGVCdXR0b25Qb3NpdGlvbiAoZWwpIHtcbiAgICAgICAgaWYgKGVsLmFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZWwuYW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIH1cblxuICAgICAgICBlbC5hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge3JpZ2h0LCB0b3AsIGhlaWdodH0gPSBlbC5pbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRvcCA9IGAke3RvcCArIHdpbmRvdy5zY3JvbGxZICsgaGVpZ2h0IC8gMn1weGBcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMZWZ0ID0gYCR7cmlnaHQgKyB3aW5kb3cuc2Nyb2xsWCAtIDMwIC0gZWwuaW5wdXRSaWdodE1hcmdpbn1weGBcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUb3AgIT09IGVsLnRvcFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgZWwud3JhcHBlci5zdHlsZS50b3AgPSBjdXJyZW50VG9wXG4gICAgICAgICAgICAgICAgZWwudG9wUG9zaXRpb24gPSBjdXJyZW50VG9wXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudExlZnQgIT09IGVsLmxlZnRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGVsLndyYXBwZXIuc3R5bGUubGVmdCA9IGN1cnJlbnRMZWZ0XG4gICAgICAgICAgICAgICAgZWwubGVmdFBvc2l0aW9uID0gY3VycmVudExlZnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuYW5pbWF0aW9uRnJhbWUgPSBudWxsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgICAgICBEREdBdXRvZmlsbC51cGRhdGVCdXR0b25Qb3NpdGlvbih0aGlzKVxuXG4gICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudG9vbHRpcC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC5oaWRkZW4gPSBmYWxzZVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlVG9vbHRpcClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpZGVUb29sdGlwID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlICYmIChlLnRhcmdldCA9PT0gdGhpcy5pbnB1dCB8fCBlLnRhcmdldCA9PT0gdGhpcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2x0aXAuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAuaGlkZGVuID0gdHJ1ZVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlVG9vbHRpcClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV4ZWNPbklucHV0cyA9IChmbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hc3NvY2lhdGVkRm9ybS5yZWxldmFudElucHV0cy5mb3JFYWNoKGZuKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJlQWxsSW5wdXRzRW1wdHkgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYWxsRW1wdHkgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmV4ZWNPbklucHV0cyhpbnB1dCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlKSBhbGxFbXB0eSA9IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuIGFsbEVtcHR5XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvZmlsbElucHV0cyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtnZXRBbGlhczogdHJ1ZX0sIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY09uSW5wdXRzKGlucHV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gcmVzLmFsaWFzXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0Y4RjQ5OCdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmNvbG9yID0gJyMzMzMzMzMnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGNoYW5nZXMgdGhlIGFsaWFzLCByZW1vdmUgdGhlIGRlY29yYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY09uSW5wdXRzKGlucHV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnY29sb3InKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0SW5wdXRzID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5leGVjT25JbnB1dHMoaW5wdXQgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJydcbiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicpXG4gICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2NvbG9yJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJlQWxsSW5wdXRzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b2ZpbGxJbnB1dHMoKVxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7b25jZTogdHJ1ZX0pXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZGlzbWlzc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICB0aGlzLnJlc2V0SW5wdXRzKClcbiAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgdGhpcy5hdXRvZmlsbElucHV0cygpXG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKClcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRERHQXV0b2ZpbGxcbiIsImNsYXNzIEZvcm0ge1xuICAgIGNvbnN0cnVjdG9yIChmb3JtLCBpbnB1dCwgaW50T2JzKSB7XG4gICAgICAgIHRoaXMuZm9ybSA9IGZvcm1cbiAgICAgICAgdGhpcy5pbnRPYnMgPSBpbnRPYnNcbiAgICAgICAgdGhpcy5yZWxldmFudElucHV0cyA9IG5ldyBTZXQoKVxuICAgICAgICB0aGlzLmFkZElucHV0KGlucHV0KVxuICAgICAgICB0aGlzLmF1dG9maWxsU2lnbmFsID0gMFxuICAgICAgICB0aGlzLnNpZ25hbHMgPSBbXVxuICAgICAgICB0aGlzLmV2YWx1YXRlRWxBdHRyaWJ1dGVzKGlucHV0LCAzLCB0cnVlKVxuICAgICAgICBmb3JtID8gdGhpcy5ldmFsdWF0ZUZvcm0oKSA6IHRoaXMuZXZhbHVhdGVQYWdlKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBhZGRJbnB1dCAoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5yZWxldmFudElucHV0cy5hZGQoaW5wdXQpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZGVjb3JhdGVJbnB1dHMgKCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVsZXZhbnRJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLWRkZy1hdXRvZmlsbCcsICd0cnVlJylcblxuICAgICAgICAgICAgICAgIHRoaXMuaW50T2JzLm9ic2VydmUoaW5wdXQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGluY3JlYXNlU2lnbmFsQnkgKHN0cmVuZ3RoLCBzaWduYWwpIHtcbiAgICAgICAgdGhpcy5hdXRvZmlsbFNpZ25hbCArPSBzdHJlbmd0aFxuICAgICAgICB0aGlzLnNpZ25hbHMucHVzaChgJHtzaWduYWx9OiArJHtzdHJlbmd0aH1gKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGRlY3JlYXNlU2lnbmFsQnkgKHN0cmVuZ3RoLCBzaWduYWwpIHtcbiAgICAgICAgdGhpcy5hdXRvZmlsbFNpZ25hbCAtPSBzdHJlbmd0aFxuICAgICAgICB0aGlzLnNpZ25hbHMucHVzaChgJHtzaWduYWx9OiAtJHtzdHJlbmd0aH1gKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHVwZGF0ZVNpZ25hbCAoe1xuICAgICAgICBzdHJpbmcsIC8vIFRoZSBzdHJpbmcgdG8gY2hlY2tcbiAgICAgICAgc3RyZW5ndGgsIC8vIFN0cmVuZ3RoIG9mIHRoZSBzaWduYWxcbiAgICAgICAgc2lnbmFsVHlwZSA9ICdnZW5lcmljJywgLy8gRm9yIGRlYnVnZ2luZyBwdXJwb3Nlcywgd2UgZ2l2ZSBhIG5hbWUgdG8gdGhlIHNpZ25hbFxuICAgICAgICBzaG91bGRGbGlwID0gZmFsc2UsIC8vIEZsaXBzIHRoZSBzaWduYWxzLCBpLmUuIHdoZW4gYSBsaW5rIHBvaW50cyBvdXRzaWRlLiBTZWUgYmVsb3dcbiAgICAgICAgc2hvdWxkQ2hlY2tVbmlmaWVkRm9ybSA9IGZhbHNlLCAvLyBTaG91bGQgY2hlY2sgZm9yIGxvZ2luL3NpZ251cCBmb3Jtc1xuICAgICAgICBzaG91bGRCZUNvbnNlcnZhdGl2ZSA9IGZhbHNlIC8vIFNob3VsZCB1c2UgdGhlIGNvbnNlcnZhdGl2ZSBzaWdudXAgcmVnZXhcbiAgICB9KSB7XG4gICAgICAgIGNvbnN0IGxvZ2luUmVnZXggPSBuZXcgUmVnRXhwKC9zaWduKGluZyk/Lj9pbig/IWcpfGxvZy4/aW4vaSlcbiAgICAgICAgY29uc3Qgc2lnbnVwUmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgL3NpZ24oaW5nKT8uP3VwfGpvaW58cmVnaXN0KGVyfHJhdGlvbil8bmV3c2xldHRlcnxzdWJzY3JpKGJlfHB0aW9uKXxjb250YWN0fGNyZWF0ZXxzdGFydC9pXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgY29uc2VydmF0aXZlU2lnbnVwUmVnZXggPSBuZXcgUmVnRXhwKC9zaWduLj91cHxqb2lufHJlZ2lzdGVyfG5ld3NsZXR0ZXJ8c3Vic2NyaShiZXxwdGlvbikvaSlcbiAgICAgICAgY29uc3Qgc3RyaWN0U2lnbnVwUmVnZXggPSBuZXcgUmVnRXhwKC9zaWduLj91cHxqb2lufHJlZ2lzdGVyL2kpXG4gICAgICAgIGNvbnN0IGxvZ2luTWF0Y2hlcyA9IHN0cmluZy5tYXRjaChsb2dpblJlZ2V4KVxuXG4gICAgICAgIC8vIENoZWNrIGV4cGxpY2l0bHkgZm9yIHVuaWZpZWQgbG9naW4vc2lnbnVwIGZvcm1zLiBUaGV5IHNob3VsZCBhbHdheXMgYmUgbmVnYXRpdmUsIHNvIHdlIGluY3JlYXNlIHNpZ25hbFxuICAgICAgICBpZiAoc2hvdWxkQ2hlY2tVbmlmaWVkRm9ybSAmJiBsb2dpbk1hdGNoZXMgJiYgc3RyaW5nLm1hdGNoKHN0cmljdFNpZ251cFJlZ2V4KSkge1xuICAgICAgICAgICAgdGhpcy5kZWNyZWFzZVNpZ25hbEJ5KHN0cmVuZ3RoICsgMiwgYFVuaWZpZWQgZGV0ZWN0ZWQgJHtzaWduYWxUeXBlfWApXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2lnbnVwTWF0Y2hlcyA9IHN0cmluZy5tYXRjaChzaG91bGRCZUNvbnNlcnZhdGl2ZSA/IGNvbnNlcnZhdGl2ZVNpZ251cFJlZ2V4IDogc2lnbnVwUmVnZXgpXG5cbiAgICAgICAgLy8gSW4gc29tZSBjYXNlcyBhIGxvZ2luIG1hdGNoIG1lYW5zIHRoZSBsb2dpbiBpcyBzb21ld2hlcmUgZWxzZSwgaS5lLiB3aGVuIGEgbGluayBwb2ludHMgb3V0c2lkZVxuICAgICAgICBpZiAoc2hvdWxkRmxpcCkge1xuICAgICAgICAgICAgaWYgKGxvZ2luTWF0Y2hlcykgdGhpcy5pbmNyZWFzZVNpZ25hbEJ5KHN0cmVuZ3RoLCBzaWduYWxUeXBlKVxuICAgICAgICAgICAgaWYgKHNpZ251cE1hdGNoZXMpIHRoaXMuZGVjcmVhc2VTaWduYWxCeShzdHJlbmd0aCwgc2lnbmFsVHlwZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsb2dpbk1hdGNoZXMpIHRoaXMuZGVjcmVhc2VTaWduYWxCeShzdHJlbmd0aCwgc2lnbmFsVHlwZSlcbiAgICAgICAgICAgIGlmIChzaWdudXBNYXRjaGVzKSB0aGlzLmluY3JlYXNlU2lnbmFsQnkoc3RyZW5ndGgsIHNpZ25hbFR5cGUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBldmFsdWF0ZUVsQXR0cmlidXRlcyAoZWwsIHNpZ25hbFN0cmVuZ3RoID0gMywgaXNJbnB1dCA9IGZhbHNlKSB7XG4gICAgICAgIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVN0cmluZyA9IGAke2F0dHIubm9kZU5hbWV9PSR7YXR0ci5ub2RlVmFsdWV9YFxuICAgICAgICAgICAgdGhpcy51cGRhdGVTaWduYWwoe1xuICAgICAgICAgICAgICAgIHN0cmluZzogYXR0cmlidXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiBzaWduYWxTdHJlbmd0aCxcbiAgICAgICAgICAgICAgICBzaWduYWxUeXBlOiBgJHtlbC5ub2RlTmFtZX0gYXR0cjogJHthdHRyaWJ1dGVTdHJpbmd9YCxcbiAgICAgICAgICAgICAgICBzaG91bGRDaGVja1VuaWZpZWRGb3JtOiBpc0lucHV0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGV2YWx1YXRlUGFnZVRpdGxlICgpIHtcbiAgICAgICAgY29uc3QgcGFnZVRpdGxlID0gZG9jdW1lbnQudGl0bGVcbiAgICAgICAgdGhpcy51cGRhdGVTaWduYWwoe3N0cmluZzogcGFnZVRpdGxlLCBzdHJlbmd0aDogMiwgc2lnbmFsVHlwZTogYHBhZ2UgdGl0bGU6ICR7cGFnZVRpdGxlfWB9KVxuICAgIH1cblxuICAgIGV2YWx1YXRlUGFnZUhlYWRpbmdzICgpIHtcbiAgICAgICAgY29uc3QgaGVhZGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMSwgaDIsIGgzJylcbiAgICAgICAgaWYgKGhlYWRpbmdzKSB7XG4gICAgICAgICAgICBoZWFkaW5ncy5mb3JFYWNoKCh7aW5uZXJUZXh0fSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbmFsKHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiBpbm5lclRleHQsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiAwLjUsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbFR5cGU6IGBoZWFkaW5nOiAke2lubmVyVGV4dH1gLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRDaGVja1VuaWZpZWRGb3JtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRCZUNvbnNlcnZhdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZhbHVhdGVQYWdlICgpIHtcbiAgICAgICAgdGhpcy5ldmFsdWF0ZVBhZ2VUaXRsZSgpXG4gICAgICAgIHRoaXMuZXZhbHVhdGVQYWdlSGVhZGluZ3MoKVxuICAgICAgICAvLyBDaGVjayBmb3Igc3VibWl0IGJ1dHRvbnNcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFxuICAgICAgICAgICAgICAgIGJ1dHRvblt0eXBlPXN1Ym1pdF0sXG4gICAgICAgICAgICAgICAgYnV0dG9uOm5vdChbdHlwZV0pLFxuICAgICAgICAgICAgICAgIFtyb2xlPWJ1dHRvbl1cbiAgICAgICAgICAgIGApXG4gICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGJ1dHRvbiBoYXMgYSBmb3JtLCBpdCdzIG5vdCByZWxhdGVkIHRvIG91ciBpbnB1dCwgYmVjYXVzZSBvdXIgaW5wdXQgaGFzIG5vIGZvcm0gaGVyZVxuICAgICAgICAgICAgaWYgKCFidXR0b24uZm9ybSAmJiAhYnV0dG9uLmNsb3Nlc3QoJ2Zvcm0nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZhbHVhdGVFbEF0dHJpYnV0ZXMoYnV0dG9uLCAwLjUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0VGV4dCAoZWwpIHtcbiAgICAgICAgLy8gZm9yIGJ1dHRvbnMsIHdlIGRvbid0IGNhcmUgYWJvdXQgZGVzY2VuZGFudHMsIGp1c3QgZ2V0IHRoZSB3aG9sZSB0ZXh0IGFzIGlzXG4gICAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGluIG9yZGVyIHRvIGdpdmUgcHJvcGVyIGF0dHJpYnV0aW9uIG9mIHRoZSB0ZXh0IHRvIHRoZSBidXR0b25cbiAgICAgICAgaWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdCVVRUT04nKSByZXR1cm4gZWwuaW5uZXJUZXh0XG5cbiAgICAgICAgaWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdJTlBVVCcgJiYgWydzdWJtaXQnLCAnYnV0dG9uJ10uaW5jbHVkZXMoZWwudHlwZSkpIHJldHVybiBlbC52YWx1ZVxuXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGVsLmNoaWxkTm9kZXMpLnJlZHVjZSgodGV4dCwgY2hpbGQpID0+XG4gICAgICAgICAgICBjaGlsZC5ub2RlTmFtZSA9PT0gJyN0ZXh0JyA/IHRleHQgKyAnICcgKyBjaGlsZC50ZXh0Q29udGVudCA6IHRleHQsICcnKVxuICAgIH1cblxuICAgIGV2YWx1YXRlRWxlbWVudCAoZWwpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5nID0gdGhpcy5nZXRUZXh0KGVsKVxuXG4gICAgICAgIC8vIGNoZWNrIGJ1dHRvbiBjb250ZW50c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyAmJiBbJ3N1Ym1pdCcsICdidXR0b24nXS5pbmNsdWRlcyhlbC50eXBlKSkgfHxcbiAgICAgICAgICAgIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnQlVUVE9OJyAmJiBlbC50eXBlID09PSAnc3VibWl0JykgfHxcbiAgICAgICAgICAgICgoZWwuZ2V0QXR0cmlidXRlKCdyb2xlJykgfHwgJycpLnRvVXBwZXJDYXNlKCkgPT09ICdCVVRUT04nKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbmFsKHtzdHJpbmcsIHN0cmVuZ3RoOiAyLCBzaWduYWxUeXBlOiBgc3VibWl0OiAke3N0cmluZ31gfSlcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBhIGxpbmsgcG9pbnRzIHRvIHJlbGV2YW50IHVybHMgb3IgY29udGFpbiBjb250ZW50cyBvdXRzaWRlIHRoZSBwYWdl4oCmXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGVsLm5vZGVOYW1lID09PSAnQScgJiYgZWwuaHJlZiAmJiBlbC5ocmVmICE9PSAnIycgfHxcbiAgICAgICAgICAgIChlbC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSB8fCAnJykudG9VcHBlckNhc2UoKSA9PT0gJ0xJTksnXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8g4oCmYW5kIG1hdGNoZXMgb25lIG9mIHRoZSByZWdleGVzLCB3ZSBhc3N1bWUgdGhlIG1hdGNoIGlzIG5vdCBwZXJ0aW5lbnQgdG8gdGhlIGN1cnJlbnQgZm9ybVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTaWduYWwoe3N0cmluZywgc3RyZW5ndGg6IDEsIHNpZ25hbFR5cGU6IGBleHRlcm5hbCBsaW5rOiAke3N0cmluZ31gLCBzaG91bGRGbGlwOiB0cnVlfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFueSBvdGhlciBjYXNlXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNpZ25hbCh7c3RyaW5nLCBzdHJlbmd0aDogMSwgc2lnbmFsVHlwZTogYGdlbmVyaWM6ICR7c3RyaW5nfWAsIHNob3VsZENoZWNrVW5pZmllZEZvcm06IHRydWV9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZhbHVhdGVGb3JtICgpIHtcbiAgICAgICAgLy8gQ2hlY2sgcGFnZSB0aXRsZVxuICAgICAgICB0aGlzLmV2YWx1YXRlUGFnZVRpdGxlKClcblxuICAgICAgICAvLyBDaGVjayBmb3JtIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5ldmFsdWF0ZUVsQXR0cmlidXRlcyh0aGlzLmZvcm0pXG5cbiAgICAgICAgLy8gQ2hlY2sgZm9ybSBjb250ZW50cyAoc2tpcCBzZWxlY3QgYW5kIG9wdGlvbiBiZWNhdXNlIHRoZXkgY29udGFpbiB0b28gbXVjaCBub2lzZSlcbiAgICAgICAgdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJyo6bm90KHNlbGVjdCk6bm90KG9wdGlvbiknKS5mb3JFYWNoKGVsID0+IHRoaXMuZXZhbHVhdGVFbGVtZW50KGVsKSlcblxuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBkZWNpZGUgYXQgdGhpcyBwb2ludCwgdHJ5IHJlYWRpbmcgcGFnZSBoZWFkaW5nc1xuICAgICAgICBpZiAodGhpcy5hdXRvZmlsbFNpZ25hbCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5ldmFsdWF0ZVBhZ2VIZWFkaW5ncygpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybVxuIl19
